import{_ as l,o as d,c as s,a as e,d as c,b as i,e as o,r as a}from"./app.12353158.js";var r="/assets/20210414100319.b01da7d3.png",v="/assets/20220307225251.3a209f70.png",t="/assets/20220307225252.e5d5971d.png",u="/assets/20210414155100.ddd7ef66.png",m="/assets/20220307225256.edc7029b.png",b="/assets/20210406201055.27a4e26b.png",p="/assets/20210414160103.ece9ed73.png",g="/assets/20210406200721.dbe4bb5f.png",x="/assets/20210406200756.3a257662.png",f="/assets/20210406200826.e4f35fc7.png",h="/assets/20210414151626.d6a59dd8.png",q="/assets/20220307225112.c8cd19da.png",y="/assets/20220307225105.c4752ae1.png",k="/assets/20210414142754.f006d629.png",j="/assets/20210309103243.772341e2.png",_="/assets/20210309103312.eb7d3aa8.png",S="/assets/20210309103358.817e73a0.png",w="/assets/20220307225319.9f90eea5.png",P="/assets/20220307225320.6d0222b2.png",O="/assets/20210407141323.f0d258c4.png",T="/assets/20210414175500.b182bb42.png",C="/assets/20210414210720.95b663b8.png",N="/assets/20210408100806.708041e1.png",E="/assets/20210414210917.7ced44fa.png",A="/assets/20210516161332.440f2685.png",I="/assets/20210516162034.56a47134.png",J="/assets/20210516162330.b086aa7b.png",D="/assets/20210516162704.463e894d.png",M="/assets/20210516163038.0a66aa22.png",F="/assets/20210516163647.77030e63.png",L="/assets/20220307225270.a4714e4b.png",B="/assets/20220307225253.e2a85761.png",V="/assets/20210516165328.61f79d8d.png",H="/assets/20210414213126.e0df9205.png",R="/assets/20210414211816.60cfcf20.png",W="/assets/20210414211850.6d66f2d8.png",G="/assets/20210516214402.722c6341.png",X="/assets/20210516221825.ab9fe18a.png",z="/assets/20210414212124.927ac6af.png",$="/assets/20210424174311.4691f31d.png",U="/assets/20210516224232.f5e6e868.png",K="/assets/20210414213602.04abed6d.png",Q="/assets/20210529172258.77f98243.png",Y="/assets/20220307225255.2f0fd634.png",Z="/assets/20210414212916.0b0e1f6f.png",ee="/assets/20210414142630.6b4f9a39.png",ie="/assets/20210414134752.f964dd1b.png",ne="/assets/20210414141731.9dba5900.png",le="/assets/20210414142525.8a7a2e6d.png",de="/assets/20220307225259.a65cb0e8.png",se="/assets/20210414163215.a4477e4e.png",ce="/assets/20220307225257.063292fc.png",oe="/assets/20220307225258.99f77d4e.png",ae="/assets/20210414164546.c0ace29d.png",re="/assets/20210414164425.d9412924.png",ve="/assets/20210414164820.9b7d1305.png",te="/assets/20210414164939.f15b8602.png",ue="/assets/20210414165705.d93bd0f4.png",me="/assets/20210414170410.41da49af.png",be="/assets/20210414170438.c2105de4.png",pe="/assets/20210414170747.0811997b.png",ge="/assets/20210414171508.b695278a.png";const xe={},fe=i('<h1 id="js\u57FA\u7840" tabindex="-1"><a class="header-anchor" href="#js\u57FA\u7840" aria-hidden="true">#</a> JS\u57FA\u7840</h1><hr><h3 id="_1-\u7C7B\u578B\u53CA\u68C0\u6D4B\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#_1-\u7C7B\u578B\u53CA\u68C0\u6D4B\u65B9\u5F0F" aria-hidden="true">#</a> 1 \u7C7B\u578B\u53CA\u68C0\u6D4B\u65B9\u5F0F</h3><p>1. JS\u5185\u7F6E\u7C7B\u578B</p><p>JavaScript \u7684\u6570\u636E\u7C7B\u578B\u6709\u4E0B\u56FE\u6240\u793A</p><p><img src="'+r+`" alt=""></p><blockquote><p>\u5176\u4E2D\uFF0C\u524D 7 \u79CD\u7C7B\u578B\u4E3A\u57FA\u7840\u7C7B\u578B\uFF0C\u6700\u540E\xA0<code>1 \u79CD\uFF08Object\uFF09\u4E3A\u5F15\u7528\u7C7B\u578B</code>\uFF0C\u4E5F\u662F\u4F60\u9700\u8981\u91CD\u70B9\u5173\u6CE8\u7684\uFF0C\u56E0\u4E3A\u5B83\u5728\u65E5\u5E38\u5DE5\u4F5C\u4E2D\u662F\u4F7F\u7528\u5F97\u6700\u9891\u7E41\uFF0C\u4E5F\u662F\u9700\u8981\u5173\u6CE8\u6700\u591A\u6280\u672F\u7EC6\u8282\u7684\u6570\u636E\u7C7B\u578B</p></blockquote><ul><li><code>JavaScript</code>\u4E00\u5171\u67098\u79CD\u6570\u636E\u7C7B\u578B\uFF0C\u5176\u4E2D\u67097\u79CD\u57FA\u672C\u6570\u636E\u7C7B\u578B\uFF1A<code>Undefined</code>\u3001<code>Null</code>\u3001<code>Boolean</code>\u3001<code>Number</code>\u3001<code>String</code>\u3001<code>Symbol</code>\uFF08<code>es6</code>\u65B0\u589E\uFF0C\u8868\u793A\u72EC\u4E00\u65E0\u4E8C\u7684\u503C\uFF09\u548C<code>BigInt</code>\uFF08<code>es10</code>\u65B0\u589E\uFF09\uFF1B</li><li>1\u79CD\u5F15\u7528\u6570\u636E\u7C7B\u578B------<code>Object</code>\uFF08Object\u672C\u8D28\u4E0A\u662F\u7531\u4E00\u7EC4\u65E0\u5E8F\u7684\u540D\u503C\u5BF9\u7EC4\u6210\u7684\uFF09\u3002\u91CC\u9762\u5305\u542B\xA0<code>function\u3001Array\u3001Date</code>\u7B49\u3002JavaScript\u4E0D\u652F\u6301\u4EFB\u4F55\u521B\u5EFA\u81EA\u5B9A\u4E49\u7C7B\u578B\u7684\u673A\u5236\uFF0C\u800C\u6240\u6709\u503C\u6700\u7EC8\u90FD\u5C06\u662F\u4E0A\u8FF0 8 \u79CD\u6570\u636E\u7C7B\u578B\u4E4B\u4E00\u3002 <ul><li>\u5F15\u7528\u6570\u636E\u7C7B\u578B:\xA0\u5BF9\u8C61<code>Object</code>\uFF08\u5305\u542B\u666E\u901A\u5BF9\u8C61-<code>Object</code>\uFF0C\u6570\u7EC4\u5BF9\u8C61-<code>Array</code>\uFF0C\u6B63\u5219\u5BF9\u8C61-<code>RegExp</code>\uFF0C\u65E5\u671F\u5BF9\u8C61-<code>Date</code>\uFF0C\u6570\u5B66\u51FD\u6570-<code>Math</code>\uFF0C\u51FD\u6570\u5BF9\u8C61-<code>Function</code>\uFF09</li></ul></li></ul><blockquote><p>\u5728\u8FD9\u91CC\uFF0C\u6211\u60F3\u5148\u8BF7\u4F60\u91CD\u70B9\u4E86\u89E3\u4E0B\u9762\u4E24\u70B9\uFF0C\u56E0\u4E3A\u5404\u79CD JavaScript \u7684\u6570\u636E\u7C7B\u578B\u6700\u540E\u90FD\u4F1A\u5728\u521D\u59CB\u5316\u4E4B\u540E\u653E\u5728\u4E0D\u540C\u7684\u5185\u5B58\u4E2D\uFF0C\u56E0\u6B64\u4E0A\u9762\u7684\u6570\u636E\u7C7B\u578B\u5927\u81F4\u53EF\u4EE5\u5206\u6210\u4E24\u7C7B\u6765\u8FDB\u884C\u5B58\u50A8\uFF1A</p></blockquote><ul><li>\u539F\u59CB\u6570\u636E\u7C7B\u578B\uFF1A\u57FA\u7840\u7C7B\u578B\u5B58\u50A8\u5728\u6808\u5185\u5B58\uFF0C\u88AB\u5F15\u7528\u6216\u62F7\u8D1D\u65F6\uFF0C\u4F1A\u521B\u5EFA\u4E00\u4E2A\u5B8C\u5168\u76F8\u7B49\u7684\u53D8\u91CF\uFF1B\u5360\u636E\u7A7A\u95F4\u5C0F\u3001\u5927\u5C0F\u56FA\u5B9A\uFF0C\u5C5E\u4E8E\u88AB\u9891\u7E41\u4F7F\u7528\u6570\u636E\uFF0C\u6240\u4EE5\u653E\u5165\u6808\u4E2D\u5B58\u50A8\u3002</li><li>\u5F15\u7528\u6570\u636E\u7C7B\u578B\uFF1A\u5F15\u7528\u7C7B\u578B\u5B58\u50A8\u5728\u5806\u5185\u5B58\uFF0C\u5B58\u50A8\u7684\u662F\u5730\u5740\uFF0C\u591A\u4E2A\u5F15\u7528\u6307\u5411\u540C\u4E00\u4E2A\u5730\u5740\uFF0C\u8FD9\u91CC\u4F1A\u6D89\u53CA\u4E00\u4E2A&quot;\u5171\u4EAB&quot;\u7684\u6982\u5FF5\uFF1B\u5360\u636E\u7A7A\u95F4\u5927\u3001\u5927\u5C0F\u4E0D\u56FA\u5B9A\u3002\u5F15\u7528\u6570\u636E\u7C7B\u578B\u5728\u6808\u4E2D\u5B58\u50A8\u4E86\u6307\u9488\uFF0C\u8BE5\u6307\u9488\u6307\u5411\u5806\u4E2D\u8BE5\u5B9E\u4F53\u7684\u8D77\u59CB\u5730\u5740\u3002\u5F53\u89E3\u91CA\u5668\u5BFB\u627E\u5F15\u7528\u503C\u65F6\uFF0C\u4F1A\u9996\u5148\u68C0\u7D22\u5176\u5728\u6808\u4E2D\u7684\u5730\u5740\uFF0C\u53D6\u5F97\u5730\u5740\u540E\u4ECE\u5806\u4E2D\u83B7\u5F97\u5B9E\u4F53\u3002</li></ul><p>JavaScript \u4E2D\u7684\u6570\u636E\u662F\u5982\u4F55\u5B58\u50A8\u5728\u5185\u5B58\u4E2D\u7684\uFF1F</p><blockquote><p>\u5728 JavaScript \u4E2D\uFF0C\u539F\u59CB\u7C7B\u578B\u7684\u8D4B\u503C\u4F1A\u5B8C\u6574\u590D\u5236\u53D8\u91CF\u503C\uFF0C\u800C\u5F15\u7528\u7C7B\u578B\u7684\u8D4B\u503C\u662F\u590D\u5236\u5F15\u7528\u5730\u5740\u3002</p></blockquote><p>\u5728 JavaScript \u7684\u6267\u884C\u8FC7\u7A0B\u4E2D\uFF0C \u4E3B\u8981\u6709\u4E09\u79CD\u7C7B\u578B\u5185\u5B58\u7A7A\u95F4\uFF0C\u5206\u522B\u662F<code>\u4EE3\u7801\u7A7A\u95F4</code>\u3001<code>\u6808\u7A7A\u95F4</code>\u3001<code>\u5806\u7A7A\u95F4</code>\u3002\u5176\u4E2D\u7684\u4EE3\u7801\u7A7A\u95F4\u4E3B\u8981\u662F\u5B58\u50A8\u53EF\u6267\u884C\u4EE3\u7801\u7684\uFF0C\u539F\u59CB\u7C7B\u578B(<code>Number\u3001String\u3001Null\u3001Undefined\u3001Boolean\u3001Symbol\u3001BigInt</code>)\u7684\u6570\u636E\u503C\u90FD\u662F\u76F4\u63A5\u4FDD\u5B58\u5728&quot;\u6808&quot;\u4E2D\u7684\uFF0C\u5F15\u7528\u7C7B\u578B(Object)\u7684\u503C\u662F\u5B58\u653E\u5728&quot;\u5806&quot;\u4E2D\u7684\u3002\u56E0\u6B64\u5728\u6808\u7A7A\u95F4\u4E2D(\u6267\u884C\u4E0A\u4E0B\u6587)\uFF0C\u539F\u59CB\u7C7B\u578B\u5B58\u50A8\u7684\u662F\u53D8\u91CF\u7684\u503C\uFF0C\u800C\u5F15\u7528\u7C7B\u578B\u5B58\u50A8\u7684\u662F\u5176\u5728&quot;\u5806\u7A7A\u95F4&quot;\u4E2D\u7684\u5730\u5740\uFF0C\u5F53 JavaScript \u9700\u8981\u8BBF\u95EE\u8BE5\u6570\u636E\u7684\u65F6\u5019\uFF0C\u662F\u901A\u8FC7\u6808\u4E2D\u7684\u5F15\u7528\u5730\u5740\u6765\u8BBF\u95EE\u7684\uFF0C\u76F8\u5F53\u4E8E\u591A\u4E86\u4E00\u9053\u8F6C\u624B\u6D41\u7A0B\u3002</p><p>\u5728\u7F16\u8BD1\u8FC7\u7A0B\u4E2D\uFF0C\u5982\u679C JavaScript \u5F15\u64CE\u5224\u65AD\u5230\u4E00\u4E2A\u95ED\u5305\uFF0C\u4E5F\u4F1A\u5728\u5806\u7A7A\u95F4\u521B\u5EFA\u6362\u4E00\u4E2A<code>&quot;closure(fn)&quot;</code>\u7684\u5BF9\u8C61\uFF08\u8FD9\u662F\u4E00\u4E2A\u5185\u90E8\u5BF9\u8C61\uFF0CJavaScript \u662F\u65E0\u6CD5\u8BBF\u95EE\u7684\uFF09\uFF0C\u7528\u6765\u4FDD\u5B58\u95ED\u5305\u4E2D\u7684\u53D8\u91CF\u3002\u6240\u4EE5\u95ED\u5305\u4E2D\u7684\u53D8\u91CF\u662F\u5B58\u50A8\u5728&quot;\u5806\u7A7A\u95F4&quot;\u4E2D\u7684\u3002</p><p>JavaScript \u5F15\u64CE\u9700\u8981\u7528\u6808\u6765\u7EF4\u62A4\u7A0B\u5E8F\u6267\u884C\u671F\u95F4\u4E0A\u4E0B\u6587\u7684\u72B6\u6001\uFF0C\u5982\u679C\u6808\u7A7A\u95F4\u5927\u4E86\u8BDD\uFF0C\u6240\u6709\u7684\u6570\u636E\u90FD\u5B58\u653E\u5728\u6808\u7A7A\u95F4\u91CC\u9762\uFF0C\u90A3\u4E48\u4F1A\u5F71\u54CD\u5230\u4E0A\u4E0B\u6587\u5207\u6362\u7684\u6548\u7387\uFF0C\u8FDB\u800C\u53C8\u5F71\u54CD\u5230\u6574\u4E2A\u7A0B\u5E8F\u7684\u6267\u884C\u6548\u7387\u3002\u901A\u5E38\u60C5\u51B5\u4E0B\uFF0C\u6808\u7A7A\u95F4\u90FD\u4E0D\u4F1A\u8BBE\u7F6E\u592A\u5927\uFF0C\u4E3B\u8981\u7528\u6765\u5B58\u653E\u4E00\u4E9B\u539F\u59CB\u7C7B\u578B\u7684\u5C0F\u6570\u636E\u3002\u800C\u5F15\u7528\u7C7B\u578B\u7684\u6570\u636E\u5360\u7528\u7684\u7A7A\u95F4\u90FD\u6BD4\u8F83\u5927\uFF0C\u6240\u4EE5\u8FD9\u4E00\u7C7B\u6570\u636E\u4F1A\u88AB\u5B58\u653E\u5230\u5806\u4E2D\uFF0C\u5806\u7A7A\u95F4\u5F88\u5927\uFF0C\u80FD\u5B58\u653E\u5F88\u591A\u5927\u7684\u6570\u636E\uFF0C\u4E0D\u8FC7\u7F3A\u70B9\u662F\u5206\u914D\u5185\u5B58\u548C\u56DE\u6536\u5185\u5B58\u90FD\u4F1A\u5360\u7528\u4E00\u5B9A\u7684\u65F6\u95F4\u3002\u56E0\u6B64\u9700\u8981&quot;\u6808&quot;\u548C&quot;\u5806&quot;\u4E24\u79CD\u7A7A\u95F4\u3002</p><blockquote><p>\u9898\u76EE\u4E00\uFF1A\u521D\u51FA\u8305\u5E90</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>let a = {
  name: &#39;lee&#39;,
  age: 18
}
let b = a;
console.log(a.name);  //\u7B2C\u4E00\u4E2Aconsole
b.name = &#39;son&#39;;
console.log(a.name);  //\u7B2C\u4E8C\u4E2Aconsole
console.log(b.name);  //\u7B2C\u4E09\u4E2Aconsole

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u8FD9\u9053\u9898\u6BD4\u8F83\u7B80\u5355\uFF0C\u6211\u4EEC\u53EF\u4EE5\u770B\u5230\u7B2C\u4E00\u4E2A console \u6253\u51FA\u6765 name \u662F &#39;lee&#39;\uFF0C\u8FD9\u5E94\u8BE5\u6CA1\u4EC0\u4E48\u7591\u95EE\uFF1B\u4F46\u662F\u5728\u6267\u884C\u4E86 b.name=&#39;son&#39; \u4E4B\u540E\uFF0C\u7ED3\u679C\u4F60\u4F1A\u53D1\u73B0 a \u548C b \u7684\u5C5E\u6027 name \u90FD\u662F &#39;son&#39;\uFF0C\u7B2C\u4E8C\u4E2A\u548C\u7B2C\u4E09\u4E2A\u6253\u5370\u7ED3\u679C\u662F\u4E00\u6837\u7684\uFF0C\u8FD9\u91CC\u5C31\u4F53\u73B0\u4E86\u5F15\u7528\u7C7B\u578B\u7684&quot;\u5171\u4EAB&quot;\u7684\u7279\u6027\uFF0C\u5373\u8FD9\u4E24\u4E2A\u503C\u90FD\u5B58\u5728\u540C\u4E00\u5757\u5185\u5B58\u4E2D\u5171\u4EAB\uFF0C\u4E00\u4E2A\u53D1\u751F\u4E86\u6539\u53D8\uFF0C\u53E6\u5916\u4E00\u4E2A\u4E5F\u968F\u4E4B\u8DDF\u7740\u53D8\u5316\u3002</p></blockquote><p>\u4F60\u53EF\u4EE5\u76F4\u63A5\u5728 Chrome \u63A7\u5236\u53F0\u6572\u4E00\u904D\uFF0C\u6DF1\u5165\u7406\u89E3\u4E00\u4E0B\u8FD9\u90E8\u5206\u6982\u5FF5\u3002\u4E0B\u9762\u6211\u4EEC\u518D\u770B\u4E00\u6BB5\u4EE3\u7801\uFF0C\u5B83\u662F\u6BD4\u9898\u76EE\u4E00\u7A0D\u590D\u6742\u4E00\u4E9B\u7684\u5BF9\u8C61\u5C5E\u6027\u53D8\u5316\u95EE\u9898\u3002</p><blockquote><p>\u9898\u76EE\u4E8C\uFF1A\u6E10\u5165\u4F73\u5883</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>let a = {
  name: &#39;Julia&#39;,
  age: 20
}
function change(o) {
  o.age = 24;
  o = {
    name: &#39;Kath&#39;,
    age: 30
  }
  return o;
}
let b = change(a);     // \u6CE8\u610F\u8FD9\u91CC\u6CA1\u6709new\uFF0C\u540E\u9762new\u76F8\u5173\u4F1A\u6709\u4E13\u95E8\u6587\u7AE0\u8BB2\u89E3
console.log(b.age);    // \u7B2C\u4E00\u4E2Aconsole
console.log(a.age);    // \u7B2C\u4E8C\u4E2Aconsole

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u9053\u9898\u6D89\u53CA\u4E86\xA0<code>function</code>\uFF0C\u4F60\u901A\u8FC7\u4E0A\u8FF0\u4EE3\u7801\u53EF\u4EE5\u770B\u5230\u7B2C\u4E00\u4E2A\xA0<code>console</code>\xA0\u7684\u7ED3\u679C\u662F\xA0<code>30</code>\uFF0C<code>b</code>\xA0\u6700\u540E\u6253\u5370\u7ED3\u679C\u662F\xA0<code>{name: &quot;Kath&quot;, age: 30}</code>\uFF1B\u7B2C\u4E8C\u4E2A\xA0<code>console</code>\xA0\u7684\u8FD4\u56DE\u7ED3\u679C\u662F\xA0<code>24</code>\uFF0C\u800C\xA0<code>a</code>\xA0\u6700\u540E\u7684\u6253\u5370\u7ED3\u679C\u662F\xA0<code>{name: &quot;Julia&quot;, age: 24}</code>\u3002</p><p>\u662F\u4E0D\u662F\u548C\u4F60\u9884\u60F3\u7684\u6709\u4E9B\u533A\u522B\uFF1F\u4F60\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u8FD9\u91CC\u7684\xA0<code>function</code>\xA0\u548C\xA0<code>return</code>\xA0\u5E26\u6765\u4E86\u4E0D\u4E00\u6837\u7684\u4E1C\u897F\u3002</p><blockquote><p>\u539F\u56E0\u5728\u4E8E\uFF1A\u51FD\u6570\u4F20\u53C2\u8FDB\u6765\u7684\xA0<code>o</code>\uFF0C\u4F20\u9012\u7684\u662F\u5BF9\u8C61\u5728\u5806\u4E2D\u7684\u5185\u5B58\u5730\u5740\u503C\uFF0C\u901A\u8FC7\u8C03\u7528\xA0<code>o.age = 24</code>\uFF08\u7B2C 7 \u884C\u4EE3\u7801\uFF09\u786E\u5B9E\u6539\u53D8\u4E86\xA0<code>a</code>\xA0\u5BF9\u8C61\u7684\xA0<code>age</code>\xA0\u5C5E\u6027\uFF1B\u4F46\u662F\u7B2C 12 \u884C\u4EE3\u7801\u7684\xA0<code>return</code>\xA0\u5374\u53C8\u628A\xA0<code>o</code>\xA0\u53D8\u6210\u4E86\u53E6\u4E00\u4E2A\u5185\u5B58\u5730\u5740\uFF0C\u5C06\xA0<code>{name: &quot;Kath&quot;, age: 30}</code>\xA0\u5B58\u5165\u5176\u4E2D\uFF0C\u6700\u540E\u8FD4\u56DE\xA0<code>b</code>\xA0\u7684\u503C\u5C31\u53D8\u6210\u4E86\xA0<code>{name: &quot;Kath&quot;, age: 30}</code>\u3002\u800C\u5982\u679C\u628A\u7B2C 12 \u884C\u53BB\u6389\uFF0C\u90A3\u4E48\xA0<code>b</code>\xA0\u5C31\u4F1A\u8FD4\u56DE\xA0<code>undefined</code></p></blockquote><p>2. \u6570\u636E\u7C7B\u578B\u68C0\u6D4B</p><p>\uFF081\uFF09typeof</p><blockquote><p>typeof \u5BF9\u4E8E\u539F\u59CB\u7C7B\u578B\u6765\u8BF4\uFF0C\u9664\u4E86 null \u90FD\u53EF\u4EE5\u663E\u793A\u6B63\u786E\u7684\u7C7B\u578B</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>console.log(typeof 2);               // number
console.log(typeof true);            // boolean
console.log(typeof &#39;str&#39;);           // string
console.log(typeof []);              // object     []\u6570\u7EC4\u7684\u6570\u636E\u7C7B\u578B\u5728 typeof \u4E2D\u88AB\u89E3\u91CA\u4E3A object
console.log(typeof function(){});    // function
console.log(typeof {});              // object
console.log(typeof undefined);       // undefined
console.log(typeof null);            // object     null \u7684\u6570\u636E\u7C7B\u578B\u88AB typeof \u89E3\u91CA\u4E3A object

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>typeof</code>\xA0\u5BF9\u4E8E\u5BF9\u8C61\u6765\u8BF4\uFF0C\u9664\u4E86\u51FD\u6570\u90FD\u4F1A\u663E\u793A\xA0<code>object</code>\uFF0C\u6240\u4EE5\u8BF4\xA0<code>typeof</code>\xA0\u5E76\u4E0D\u80FD\u51C6\u786E\u5224\u65AD\u53D8\u91CF\u5230\u5E95\u662F\u4EC0\u4E48\u7C7B\u578B,\u6240\u4EE5\u60F3\u5224\u65AD\u4E00\u4E2A\u5BF9\u8C61\u7684\u6B63\u786E\u7C7B\u578B\uFF0C\u8FD9\u65F6\u5019\u53EF\u4EE5\u8003\u8651\u4F7F\u7528\xA0<code>instanceof</code></p></blockquote><p>\uFF082\uFF09instanceof</p><blockquote><p><code>instanceof</code>\xA0\u53EF\u4EE5\u6B63\u786E\u7684\u5224\u65AD\u5BF9\u8C61\u7684\u7C7B\u578B\uFF0C\u56E0\u4E3A\u5185\u90E8\u673A\u5236\u662F\u901A\u8FC7\u5224\u65AD\u5BF9\u8C61\u7684\u539F\u578B\u94FE\u4E2D\u662F\u4E0D\u662F\u80FD\u627E\u5230\u7C7B\u578B\u7684\xA0<code>prototype</code></p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>console.log(2 instanceof Number);                    // false
console.log(true instanceof Boolean);                // false
console.log(&#39;str&#39; instanceof String);                // false
console.log([] instanceof Array);                    // true
console.log(function(){} instanceof Function);       // true
console.log({} instanceof Object);                   // true
// console.log(undefined instanceof Undefined);
// console.log(null instanceof Null);

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>instanceof</code>\xA0\u53EF\u4EE5\u51C6\u786E\u5730\u5224\u65AD\u590D\u6742\u5F15\u7528\u6570\u636E\u7C7B\u578B\uFF0C\u4F46\u662F\u4E0D\u80FD\u6B63\u786E\u5224\u65AD\u57FA\u7840\u6570\u636E\u7C7B\u578B\uFF1B</li><li>\u800C\xA0<code>typeof</code>\xA0\u4E5F\u5B58\u5728\u5F0A\u7AEF\uFF0C\u5B83\u867D\u7136\u53EF\u4EE5\u5224\u65AD\u57FA\u7840\u6570\u636E\u7C7B\u578B\uFF08<code>null</code>\xA0\u9664\u5916\uFF09\uFF0C\u4F46\u662F\u5F15\u7528\u6570\u636E\u7C7B\u578B\u4E2D\uFF0C\u9664\u4E86\xA0<code>function</code>\xA0\u7C7B\u578B\u4EE5\u5916\uFF0C\u5176\u4ED6\u7684\u4E5F\u65E0\u6CD5\u5224\u65AD</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// \u6211\u4EEC\u4E5F\u53EF\u4EE5\u8BD5\u7740\u5B9E\u73B0\u4E00\u4E0B instanceof
function _instanceof(left, right) {
    // \u7531\u4E8Einstance\u8981\u68C0\u6D4B\u7684\u662F\u67D0\u5BF9\u8C61\uFF0C\u9700\u8981\u6709\u4E00\u4E2A\u524D\u7F6E\u5224\u65AD\u6761\u4EF6
    //\u57FA\u672C\u6570\u636E\u7C7B\u578B\u76F4\u63A5\u8FD4\u56DEfalse
    if(typeof left !== &#39;object&#39; || left === null) return false;

    // \u83B7\u5F97\u7C7B\u578B\u7684\u539F\u578B
    let prototype = right.prototype
    // \u83B7\u5F97\u5BF9\u8C61\u7684\u539F\u578B
    left = left.__proto__
    // \u5224\u65AD\u5BF9\u8C61\u7684\u7C7B\u578B\u662F\u5426\u7B49\u4E8E\u7C7B\u578B\u7684\u539F\u578B
    while (true) {
    	if (left === null)
    		return false
    	if (prototype === left)
    		return true
    	left = left.__proto__
    }
}

console.log(&#39;test&#39;, _instanceof(null, Array)) // false
console.log(&#39;test&#39;, _instanceof([], Array)) // true
console.log(&#39;test&#39;, _instanceof(&#39;&#39;, Array)) // false
console.log(&#39;test&#39;, _instanceof({}, Object)) // true

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\uFF083\uFF09constructor</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>console.log((2).constructor === Number); // true
console.log((true).constructor === Boolean); // true
console.log((&#39;str&#39;).constructor === String); // true
console.log(([]).constructor === Array); // true
console.log((function() {}).constructor === Function); // true
console.log(({}).constructor === Object); // true

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u8FD9\u91CC\u6709\u4E00\u4E2A\u5751\uFF0C\u5982\u679C\u6211\u521B\u5EFA\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u66F4\u6539\u5B83\u7684\u539F\u578B\uFF0C<code>constructor</code>\u5C31\u4F1A\u53D8\u5F97\u4E0D\u53EF\u9760\u4E86</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function Fn(){};

Fn.prototype=new Array();

var f=new Fn();

console.log(f.constructor===Fn);    // false
console.log(f.constructor===Array); // true

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\uFF084\uFF09Object.prototype.toString.call()</p><blockquote><p><code>toString()</code>\xA0\u662F\xA0<code>Object</code>\xA0\u7684\u539F\u578B\u65B9\u6CD5\uFF0C\u8C03\u7528\u8BE5\u65B9\u6CD5\uFF0C\u53EF\u4EE5\u7EDF\u4E00\u8FD4\u56DE\u683C\u5F0F\u4E3A\xA0<code>&quot;[object Xxx]&quot;</code>\xA0\u7684\u5B57\u7B26\u4E32\uFF0C\u5176\u4E2D\xA0<code>Xxx</code>\xA0\u5C31\u662F\u5BF9\u8C61\u7684\u7C7B\u578B\u3002\u5BF9\u4E8E\xA0<code>Object</code>\xA0\u5BF9\u8C61\uFF0C\u76F4\u63A5\u8C03\u7528\xA0<code>toString()</code>\xA0\u5C31\u80FD\u8FD4\u56DE\xA0<code>[object Object]</code>\uFF1B\u800C\u5BF9\u4E8E\u5176\u4ED6\u5BF9\u8C61\uFF0C\u5219\u9700\u8981\u901A\u8FC7\xA0<code>call</code>\xA0\u6765\u8C03\u7528\uFF0C\u624D\u80FD\u8FD4\u56DE\u6B63\u786E\u7684\u7C7B\u578B\u4FE1\u606F\u3002\u6211\u4EEC\u6765\u770B\u4E00\u4E0B\u4EE3\u7801\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Object.prototype.toString({})       // &quot;[object Object]&quot;
Object.prototype.toString.call({})  // \u540C\u4E0A\u7ED3\u679C\uFF0C\u52A0\u4E0Acall\u4E5Fok
Object.prototype.toString.call(1)    // &quot;[object Number]&quot;
Object.prototype.toString.call(&#39;1&#39;)  // &quot;[object String]&quot;
Object.prototype.toString.call(true)  // &quot;[object Boolean]&quot;
Object.prototype.toString.call(function(){})  // &quot;[object Function]&quot;
Object.prototype.toString.call(null)   //&quot;[object Null]&quot;
Object.prototype.toString.call(undefined) //&quot;[object Undefined]&quot;
Object.prototype.toString.call(/123/g)    //&quot;[object RegExp]&quot;
Object.prototype.toString.call(new Date()) //&quot;[object Date]&quot;
Object.prototype.toString.call([])       //&quot;[object Array]&quot;
Object.prototype.toString.call(document)  //&quot;[object HTMLDocument]&quot;
Object.prototype.toString.call(window)   //&quot;[object Window]&quot;

// \u4ECE\u4E0A\u9762\u8FD9\u6BB5\u4EE3\u7801\u53EF\u4EE5\u770B\u51FA\uFF0CObject.prototype.toString.call() \u53EF\u4EE5\u5F88\u597D\u5730\u5224\u65AD\u5F15\u7528\u7C7B\u578B\uFF0C\u751A\u81F3\u53EF\u4EE5\u628A document \u548C window \u90FD\u533A\u5206\u5F00\u6765\u3002

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u5B9E\u73B0\u4E00\u4E2A\u5168\u5C40\u901A\u7528\u7684\u6570\u636E\u7C7B\u578B\u5224\u65AD\u65B9\u6CD5\uFF0C\u6765\u52A0\u6DF1\u4F60\u7684\u7406\u89E3\uFF0C\u4EE3\u7801\u5982\u4E0B</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function getType(obj){
  let type  = typeof obj;
  if (type !== &quot;object&quot;) {    // \u5148\u8FDB\u884Ctypeof\u5224\u65AD\uFF0C\u5982\u679C\u662F\u57FA\u7840\u6570\u636E\u7C7B\u578B\uFF0C\u76F4\u63A5\u8FD4\u56DE
    return type;
  }
  // \u5BF9\u4E8Etypeof\u8FD4\u56DE\u7ED3\u679C\u662Fobject\u7684\uFF0C\u518D\u8FDB\u884C\u5982\u4E0B\u7684\u5224\u65AD\uFF0C\u6B63\u5219\u8FD4\u56DE\u7ED3\u679C
  return Object.prototype.toString.call(obj).replace(/^\\[object (\\S+)\\]$/, &#39;$1&#39;);  // \u6CE8\u610F\u6B63\u5219\u4E2D\u95F4\u6709\u4E2A\u7A7A\u683C
}
/* \u4EE3\u7801\u9A8C\u8BC1\uFF0C\u9700\u8981\u6CE8\u610F\u5927\u5C0F\u5199\uFF0C\u54EA\u4E9B\u662Ftypeof\u5224\u65AD\uFF0C\u54EA\u4E9B\u662FtoString\u5224\u65AD\uFF1F\u601D\u8003\u4E0B */
getType([])     // &quot;Array&quot; typeof []\u662Fobject\uFF0C\u56E0\u6B64toString\u8FD4\u56DE
getType(&#39;123&#39;)  // &quot;string&quot; typeof \u76F4\u63A5\u8FD4\u56DE
getType(window) // &quot;Window&quot; toString\u8FD4\u56DE
getType(null)   // &quot;Null&quot;\u9996\u5B57\u6BCD\u5927\u5199\uFF0Ctypeof null\u662Fobject\uFF0C\u9700toString\u6765\u5224\u65AD
getType(undefined)   // &quot;undefined&quot; typeof \u76F4\u63A5\u8FD4\u56DE
getType()            // &quot;undefined&quot; typeof \u76F4\u63A5\u8FD4\u56DE
getType(function(){}) // &quot;function&quot; typeof\u80FD\u5224\u65AD\uFF0C\u56E0\u6B64\u9996\u5B57\u6BCD\u5C0F\u5199
getType(/123/g)      //&quot;RegExp&quot; toString\u8FD4\u56DE

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5C0F\u7ED3</p><ul><li><code>typeof</code><ul><li>\u76F4\u63A5\u5728\u8BA1\u7B97\u673A\u5E95\u5C42\u57FA\u4E8E\u6570\u636E\u7C7B\u578B\u7684\u503C\uFF08\u4E8C\u8FDB\u5236\uFF09\u8FDB\u884C\u68C0\u6D4B</li><li><code>typeof null</code>\u4E3A<code>object</code>\xA0\u539F\u56E0\u662F\u5BF9\u8C61\u5B58\u5728\u5728\u8BA1\u7B97\u673A\u4E2D\uFF0C\u90FD\u662F\u4EE5<code>000</code>\u5F00\u59CB\u7684\u4E8C\u8FDB\u5236\u5B58\u50A8\uFF0C\u6240\u4EE5\u68C0\u6D4B\u51FA\u6765\u7684\u7ED3\u679C\u662F\u5BF9\u8C61</li><li><code>typeof</code>\xA0\u666E\u901A\u5BF9\u8C61/\u6570\u7EC4\u5BF9\u8C61/\u6B63\u5219\u5BF9\u8C61/\u65E5\u671F\u5BF9\u8C61 \u90FD\u662F<code>object</code></li><li><code>typeof NaN === &#39;number&#39;</code></li></ul></li><li><code>instanceof</code><ul><li>\u68C0\u6D4B\u5F53\u524D\u5B9E\u4F8B\u662F\u5426\u5C5E\u4E8E\u8FD9\u4E2A\u7C7B\u7684</li><li>\u5E95\u5C42\u673A\u5236\uFF1A\u53EA\u8981\u5F53\u524D\u7C7B\u51FA\u73B0\u5728\u5B9E\u4F8B\u7684\u539F\u578B\u4E0A\uFF0C\u7ED3\u679C\u90FD\u662Ftrue</li><li>\u4E0D\u80FD\u68C0\u6D4B\u57FA\u672C\u6570\u636E\u7C7B\u578B</li></ul></li><li><code>constructor</code><ul><li>\u652F\u6301\u57FA\u672C\u7C7B\u578B</li><li>constructor\u53EF\u4EE5\u968F\u4FBF\u6539\uFF0C\u4E5F\u4E0D\u51C6</li></ul></li><li><code>Object.prototype.toString.call([val])</code><ul><li>\u8FD4\u56DE\u5F53\u524D\u5B9E\u4F8B\u6240\u5C5E\u7C7B\u4FE1\u606F</li></ul></li></ul><blockquote><p>\u5224\u65AD\xA0<code>Target</code>\xA0\u7684\u7C7B\u578B\uFF0C\u5355\u5355\u7528\xA0<code>typeof</code>\xA0\u5E76\u65E0\u6CD5\u5B8C\u5168\u6EE1\u8DB3\uFF0C\u8FD9\u5176\u5B9E\u5E76\u4E0D\u662F\xA0<code>bug</code>\uFF0C\u672C\u8D28\u539F\u56E0\u662F\xA0<code>JS</code>\xA0\u7684\u4E07\u7269\u7686\u5BF9\u8C61\u7684\u7406\u8BBA\u3002\u56E0\u6B64\u8981\u771F\u6B63\u5B8C\u7F8E\u5224\u65AD\u65F6\uFF0C\u6211\u4EEC\u9700\u8981\u533A\u5206\u5BF9\u5F85:</p></blockquote><ul><li>\u57FA\u672C\u7C7B\u578B(<code>null</code>): \u4F7F\u7528\xA0<code>String(null)</code></li><li>\u57FA\u672C\u7C7B\u578B(<code>string / number / boolean / undefined</code>) +\xA0<code>function</code>: - \u76F4\u63A5\u4F7F\u7528\xA0<code>typeof</code>\u5373\u53EF</li><li>\u5176\u4F59\u5F15\u7528\u7C7B\u578B(<code>Array / Date / RegExp Error</code>): \u8C03\u7528<code>toString</code>\u540E\u6839\u636E<code>[object XXX]</code>\u8FDB\u884C\u5224\u65AD</li></ul><p>3. \u6570\u636E\u7C7B\u578B\u8F6C\u6362</p><p>\u6211\u4EEC\u5148\u770B\u4E00\u6BB5\u4EE3\u7801\uFF0C\u4E86\u89E3\u4E0B\u5927\u81F4\u7684\u60C5\u51B5\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&#39;123&#39; == 123   // false or true?
&#39;&#39; == null    // false or true?
&#39;&#39; == 0        // false or true?
[] == 0        // false or true?
[] == &#39;&#39;       // false or true?
[] == ![]      // false or true?
null == undefined //  false or true?
Number(null)     // \u8FD4\u56DE\u4EC0\u4E48\uFF1F
Number(&#39;&#39;)      // \u8FD4\u56DE\u4EC0\u4E48\uFF1F
parseInt(&#39;&#39;);    // \u8FD4\u56DE\u4EC0\u4E48\uFF1F
{}+10           // \u8FD4\u56DE\u4EC0\u4E48\uFF1F
let obj = {
    [Symbol.toPrimitive]() {
        return 200;
    },
    valueOf() {
        return 300;
    },
    toString() {
        return &#39;Hello&#39;;
    }
}
console.log(obj + 200); // \u8FD9\u91CC\u6253\u5370\u51FA\u6765\u662F\u591A\u5C11\uFF1F

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u9996\u5148\u6211\u4EEC\u8981\u77E5\u9053\uFF0C\u5728\xA0<code>JS</code>\xA0\u4E2D\u7C7B\u578B\u8F6C\u6362\u53EA\u6709\u4E09\u79CD\u60C5\u51B5\uFF0C\u5206\u522B\u662F\uFF1A</p></blockquote><ul><li>\u8F6C\u6362\u4E3A\u5E03\u5C14\u503C</li><li>\u8F6C\u6362\u4E3A\u6570\u5B57</li><li>\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32</li></ul><p><img src="`+v+`" alt=""></p><p>\u8F6CBoolean</p><blockquote><p>\u5728\u6761\u4EF6\u5224\u65AD\u65F6\uFF0C\u9664\u4E86\xA0<code>undefined</code>\uFF0C<code>null</code>\uFF0C\xA0<code>false</code>\uFF0C\xA0<code>NaN</code>\uFF0C\xA0<code>&#39;&#39;</code>\uFF0C\xA0<code>0</code>\uFF0C\xA0<code>-0</code>\uFF0C\u5176\u4ED6\u6240\u6709\u503C\u90FD\u8F6C\u4E3A\xA0<code>true</code>\uFF0C\u5305\u62EC\u6240\u6709\u5BF9\u8C61</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Boolean(0)          //false
Boolean(null)       //false
Boolean(undefined)  //false
Boolean(NaN)        //false
Boolean(1)          //true
Boolean(13)         //true
Boolean(&#39;12&#39;)       //true

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5BF9\u8C61\u8F6C\u539F\u59CB\u7C7B\u578B</p><blockquote><p>\u5BF9\u8C61\u5728\u8F6C\u6362\u7C7B\u578B\u7684\u65F6\u5019\uFF0C\u4F1A\u8C03\u7528\u5185\u7F6E\u7684\xA0<code>[[ToPrimitive]]</code>\xA0\u51FD\u6570\uFF0C\u5BF9\u4E8E\u8BE5\u51FD\u6570\u6765\u8BF4\uFF0C\u7B97\u6CD5\u903B\u8F91\u4E00\u822C\u6765\u8BF4\u5982\u4E0B</p></blockquote><ul><li>\u5982\u679C\u5DF2\u7ECF\u662F\u539F\u59CB\u7C7B\u578B\u4E86\uFF0C\u90A3\u5C31\u4E0D\u9700\u8981\u8F6C\u6362\u4E86</li><li>\u8C03\u7528\xA0<code>x.valueOf()</code>\uFF0C\u5982\u679C\u8F6C\u6362\u4E3A\u57FA\u7840\u7C7B\u578B\uFF0C\u5C31\u8FD4\u56DE\u8F6C\u6362\u7684\u503C</li><li>\u8C03\u7528\xA0<code>x.toString()</code>\uFF0C\u5982\u679C\u8F6C\u6362\u4E3A\u57FA\u7840\u7C7B\u578B\uFF0C\u5C31\u8FD4\u56DE\u8F6C\u6362\u7684\u503C</li><li>\u5982\u679C\u90FD\u6CA1\u6709\u8FD4\u56DE\u539F\u59CB\u7C7B\u578B\uFF0C\u5C31\u4F1A\u62A5\u9519</li></ul><blockquote><p>\u5F53\u7136\u4F60\u4E5F\u53EF\u4EE5\u91CD\u5199\xA0<code>Symbol.toPrimitive</code>\uFF0C\u8BE5\u65B9\u6CD5\u5728\u8F6C\u539F\u59CB\u7C7B\u578B\u65F6\u8C03\u7528\u4F18\u5148\u7EA7\u6700\u9AD8\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>let a = {
  valueOf() {
    return 0
  },
  toString() {
    return &#39;1&#39;
  },
  [Symbol.toPrimitive]() {
    return 2
  }
}
1 + a // =&gt; 3

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u56DB\u5219\u8FD0\u7B97\u7B26</p><blockquote><p>\u5B83\u6709\u4EE5\u4E0B\u51E0\u4E2A\u7279\u70B9\uFF1A</p></blockquote><ul><li>\u8FD0\u7B97\u4E2D\u5176\u4E2D\u4E00\u65B9\u4E3A\u5B57\u7B26\u4E32\uFF0C\u90A3\u4E48\u5C31\u4F1A\u628A\u53E6\u4E00\u65B9\u4E5F\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32</li><li>\u5982\u679C\u4E00\u65B9\u4E0D\u662F\u5B57\u7B26\u4E32\u6216\u8005\u6570\u5B57\uFF0C\u90A3\u4E48\u4F1A\u5C06\u5B83\u8F6C\u6362\u4E3A\u6570\u5B57\u6216\u8005\u5B57\u7B26\u4E32</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>1 + &#39;1&#39; // &#39;11&#39;
true + true // 2
4 + [1,2,3] // &quot;41,2,3&quot;

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u5BF9\u4E8E\u7B2C\u4E00\u884C\u4EE3\u7801\u6765\u8BF4\uFF0C\u89E6\u53D1\u7279\u70B9\u4E00\uFF0C\u6240\u4EE5\u5C06\u6570\u5B57\xA0<code>1</code>\xA0\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32\uFF0C\u5F97\u5230\u7ED3\u679C\xA0<code>&#39;11&#39;</code></li><li>\u5BF9\u4E8E\u7B2C\u4E8C\u884C\u4EE3\u7801\u6765\u8BF4\uFF0C\u89E6\u53D1\u7279\u70B9\u4E8C\uFF0C\u6240\u4EE5\u5C06\xA0<code>true</code>\xA0\u8F6C\u4E3A\u6570\u5B57\xA0<code>1</code></li><li>\u5BF9\u4E8E\u7B2C\u4E09\u884C\u4EE3\u7801\u6765\u8BF4\uFF0C\u89E6\u53D1\u7279\u70B9\u4E8C\uFF0C\u6240\u4EE5\u5C06\u6570\u7EC4\u901A\u8FC7\xA0<code>toString</code>\u8F6C\u4E3A\u5B57\u7B26\u4E32\xA0<code>1,2,3</code>\uFF0C\u5F97\u5230\u7ED3\u679C\xA0<code>41,2,3</code></li></ul><blockquote><p>\u53E6\u5916\u5BF9\u4E8E\u52A0\u6CD5\u8FD8\u9700\u8981\u6CE8\u610F\u8FD9\u4E2A\u8868\u8FBE\u5F0F\xA0<code>&#39;a&#39; + + &#39;b&#39;</code></p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&#39;a&#39; + + &#39;b&#39; // -&gt; &quot;aNaN&quot;

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u56E0\u4E3A\xA0<code>+ &#39;b&#39;</code>\xA0\u7B49\u4E8E\xA0<code>NaN</code>\uFF0C\u6240\u4EE5\u7ED3\u679C\u4E3A\xA0<code>&quot;aNaN&quot;</code>\uFF0C\u4F60\u53EF\u80FD\u4E5F\u4F1A\u5728\u4E00\u4E9B\u4EE3\u7801\u4E2D\u770B\u5230\u8FC7\xA0<code>+ &#39;1&#39;</code>\u7684\u5F62\u5F0F\u6765\u5FEB\u901F\u83B7\u53D6\xA0<code>number</code>\xA0\u7C7B\u578B\u3002</li><li>\u90A3\u4E48\u5BF9\u4E8E\u9664\u4E86\u52A0\u6CD5\u7684\u8FD0\u7B97\u7B26\u6765\u8BF4\uFF0C\u53EA\u8981\u5176\u4E2D\u4E00\u65B9\u662F\u6570\u5B57\uFF0C\u90A3\u4E48\u53E6\u4E00\u65B9\u5C31\u4F1A\u88AB\u8F6C\u4E3A\u6570\u5B57</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>4 * &#39;3&#39; // 12
4 * [] // 0
4 * [1, 2] // NaN

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6BD4\u8F83\u8FD0\u7B97\u7B26</p><ul><li>\u5982\u679C\u662F\u5BF9\u8C61\uFF0C\u5C31\u901A\u8FC7\xA0<code>toPrimitive</code>\xA0\u8F6C\u6362\u5BF9\u8C61</li><li>\u5982\u679C\u662F\u5B57\u7B26\u4E32\uFF0C\u5C31\u901A\u8FC7\xA0<code>unicode</code>\xA0\u5B57\u7B26\u7D22\u5F15\u6765\u6BD4\u8F83</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>let a = {
  valueOf() {
    return 0
  },
  toString() {
    return &#39;1&#39;
  }
}
a &gt; -1 // true

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u5728\u4EE5\u4E0A\u4EE3\u7801\u4E2D\uFF0C\u56E0\u4E3A\xA0<code>a</code>\xA0\u662F\u5BF9\u8C61\uFF0C\u6240\u4EE5\u4F1A\u901A\u8FC7\xA0<code>valueOf</code>\xA0\u8F6C\u6362\u4E3A\u539F\u59CB\u7C7B\u578B\u518D\u6BD4\u8F83\u503C\u3002</p></blockquote><p>\u5F3A\u5236\u7C7B\u578B\u8F6C\u6362</p><blockquote><p>\u5F3A\u5236\u7C7B\u578B\u8F6C\u6362\u65B9\u5F0F\u5305\u62EC\xA0<code>Number()</code>\u3001<code>parseInt()</code>\u3001<code>parseFloat()</code>\u3001<code>toString()</code>\u3001<code>String()</code>\u3001<code>Boolean()</code>\uFF0C\u8FD9\u51E0\u79CD\u65B9\u6CD5\u90FD\u6BD4\u8F83\u7C7B\u4F3C</p></blockquote><ul><li><code>Number()</code>\xA0\u65B9\u6CD5\u7684\u5F3A\u5236\u8F6C\u6362\u89C4\u5219</li><li>\u5982\u679C\u662F\u5E03\u5C14\u503C\uFF0C<code>true</code>\xA0\u548C\xA0<code>false</code>\xA0\u5206\u522B\u88AB\u8F6C\u6362\u4E3A\xA0<code>1</code>\xA0\u548C\xA0<code>0</code>\uFF1B</li><li>\u5982\u679C\u662F\u6570\u5B57\uFF0C\u8FD4\u56DE\u81EA\u8EAB\uFF1B</li><li>\u5982\u679C\u662F\xA0<code>null</code>\uFF0C\u8FD4\u56DE\xA0<code>0</code>\uFF1B</li><li>\u5982\u679C\u662F\xA0<code>undefined</code>\uFF0C\u8FD4\u56DE\xA0<code>NaN</code>\uFF1B</li><li>\u5982\u679C\u662F\u5B57\u7B26\u4E32\uFF0C\u9075\u5FAA\u4EE5\u4E0B\u89C4\u5219\uFF1A\u5982\u679C\u5B57\u7B26\u4E32\u4E2D\u53EA\u5305\u542B\u6570\u5B57\uFF08\u6216\u8005\u662F\xA0<code>0X / 0x</code>\xA0\u5F00\u5934\u7684\u5341\u516D\u8FDB\u5236\u6570\u5B57\u5B57\u7B26\u4E32\uFF0C\u5141\u8BB8\u5305\u542B\u6B63\u8D1F\u53F7\uFF09\uFF0C\u5219\u5C06\u5176\u8F6C\u6362\u4E3A\u5341\u8FDB\u5236\uFF1B\u5982\u679C\u5B57\u7B26\u4E32\u4E2D\u5305\u542B\u6709\u6548\u7684\u6D6E\u70B9\u683C\u5F0F\uFF0C\u5C06\u5176\u8F6C\u6362\u4E3A\u6D6E\u70B9\u6570\u503C\uFF1B\u5982\u679C\u662F\u7A7A\u5B57\u7B26\u4E32\uFF0C\u5C06\u5176\u8F6C\u6362\u4E3A\xA0<code>0</code>\uFF1B\u5982\u679C\u4E0D\u662F\u4EE5\u4E0A\u683C\u5F0F\u7684\u5B57\u7B26\u4E32\uFF0C\u5747\u8FD4\u56DE NaN\uFF1B</li><li>\u5982\u679C\u662F\xA0<code>Symbol</code>\uFF0C\u629B\u51FA\u9519\u8BEF\uFF1B</li><li>\u5982\u679C\u662F\u5BF9\u8C61\uFF0C\u5E76\u4E14\u90E8\u7F72\u4E86\xA0<code>[Symbol.toPrimitive]</code>\xA0\uFF0C\u90A3\u4E48\u8C03\u7528\u6B64\u65B9\u6CD5\uFF0C\u5426\u5219\u8C03\u7528\u5BF9\u8C61\u7684\xA0<code>valueOf()</code>\xA0\u65B9\u6CD5\uFF0C\u7136\u540E\u4F9D\u636E\u524D\u9762\u7684\u89C4\u5219\u8F6C\u6362\u8FD4\u56DE\u7684\u503C\uFF1B\u5982\u679C\u8F6C\u6362\u7684\u7ED3\u679C\u662F\xA0<code>NaN</code>\xA0\uFF0C\u5219\u8C03\u7528\u5BF9\u8C61\u7684\xA0<code>toString()</code>\xA0\u65B9\u6CD5\uFF0C\u518D\u6B21\u4F9D\u7167\u524D\u9762\u7684\u987A\u5E8F\u8F6C\u6362\u8FD4\u56DE\u5BF9\u5E94\u7684\u503C\u3002</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Number(true);        // 1
Number(false);       // 0
Number(&#39;0111&#39;);      //111
Number(null);        //0
Number(&#39;&#39;);          //0
Number(&#39;1a&#39;);        //NaN
Number(-0X11);       //-17
Number(&#39;0X11&#39;)       //17

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Object \u7684\u8F6C\u6362\u89C4\u5219</p><blockquote><p>\u5BF9\u8C61\u8F6C\u6362\u7684\u89C4\u5219\uFF0C\u4F1A\u5148\u8C03\u7528\u5185\u7F6E\u7684\xA0<code>[ToPrimitive]</code>\xA0\u51FD\u6570\uFF0C\u5176\u89C4\u5219\u903B\u8F91\u5982\u4E0B\uFF1A</p></blockquote><ul><li>\u5982\u679C\u90E8\u7F72\u4E86\xA0<code>Symbol.toPrimitive</code>\xA0\u65B9\u6CD5\uFF0C\u4F18\u5148\u8C03\u7528\u518D\u8FD4\u56DE\uFF1B</li><li>\u8C03\u7528\xA0<code>valueOf()</code>\uFF0C\u5982\u679C\u8F6C\u6362\u4E3A\u57FA\u7840\u7C7B\u578B\uFF0C\u5219\u8FD4\u56DE\uFF1B</li><li>\u8C03\u7528\xA0<code>toString()</code>\uFF0C\u5982\u679C\u8F6C\u6362\u4E3A\u57FA\u7840\u7C7B\u578B\uFF0C\u5219\u8FD4\u56DE\uFF1B</li><li>\u5982\u679C\u90FD\u6CA1\u6709\u8FD4\u56DE\u57FA\u7840\u7C7B\u578B\uFF0C\u4F1A\u62A5\u9519\u3002</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var obj = {
  value: 1,
  valueOf() {
    return 2;
  },
  toString() {
    return &#39;3&#39;
  },
  [Symbol.toPrimitive]() {
    return 4
  }
}
console.log(obj + 1); // \u8F93\u51FA5
// \u56E0\u4E3A\u6709Symbol.toPrimitive\uFF0C\u5C31\u4F18\u5148\u6267\u884C\u8FD9\u4E2A\uFF1B\u5982\u679CSymbol.toPrimitive\u8FD9\u6BB5\u4EE3\u7801\u5220\u6389\uFF0C\u5219\u6267\u884CvalueOf\u6253\u5370\u7ED3\u679C\u4E3A3\uFF1B\u5982\u679CvalueOf\u4E5F\u53BB\u6389\uFF0C\u5219\u8C03\u7528toString\u8FD4\u56DE&#39;31&#39;(\u5B57\u7B26\u4E32\u62FC\u63A5)
// \u518D\u770B\u4E24\u4E2A\u7279\u6B8A\u7684case\uFF1A
10 + {}
// &quot;10[object Object]&quot;\uFF0C\u6CE8\u610F\uFF1A{}\u4F1A\u9ED8\u8BA4\u8C03\u7528valueOf\u662F{}\uFF0C\u4E0D\u662F\u57FA\u7840\u7C7B\u578B\u7EE7\u7EED\u8F6C\u6362\uFF0C\u8C03\u7528toString\uFF0C\u8FD4\u56DE\u7ED3\u679C&quot;[object Object]&quot;\uFF0C\u4E8E\u662F\u548C10\u8FDB\u884C&#39;+&#39;\u8FD0\u7B97\uFF0C\u6309\u7167\u5B57\u7B26\u4E32\u62FC\u63A5\u89C4\u5219\u6765\uFF0C\u53C2\u8003&#39;+&#39;\u7684\u89C4\u5219C
[1,2,undefined,4,5] + 10
// &quot;1,2,,4,510&quot;\uFF0C\u6CE8\u610F[1,2,undefined,4,5]\u4F1A\u9ED8\u8BA4\u5148\u8C03\u7528valueOf\u7ED3\u679C\u8FD8\u662F\u8FD9\u4E2A\u6570\u7EC4\uFF0C\u4E0D\u662F\u57FA\u7840\u6570\u636E\u7C7B\u578B\u7EE7\u7EED\u8F6C\u6362\uFF0C\u4E5F\u8FD8\u662F\u8C03\u7528toString\uFF0C\u8FD4\u56DE&quot;1,2,,4,5&quot;\uFF0C\u7136\u540E\u518D\u548C10\u8FDB\u884C\u8FD0\u7B97\uFF0C\u8FD8\u662F\u6309\u7167\u5B57\u7B26\u4E32\u62FC\u63A5\u89C4\u5219\uFF0C\u53C2\u8003&#39;+&#39;\u7684\u7B2C3\u6761\u89C4\u5219

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>&#39;==&#39; \u7684\u9690\u5F0F\u7C7B\u578B\u8F6C\u6362\u89C4\u5219</p><ul><li>\u5982\u679C\u7C7B\u578B\u76F8\u540C\uFF0C\u65E0\u987B\u8FDB\u884C\u7C7B\u578B\u8F6C\u6362\uFF1B</li><li>\u5982\u679C\u5176\u4E2D\u4E00\u4E2A\u64CD\u4F5C\u503C\u662F\xA0<code>null</code>\xA0\u6216\u8005\xA0<code>undefined</code>\uFF0C\u90A3\u4E48\u53E6\u4E00\u4E2A\u64CD\u4F5C\u7B26\u5FC5\u987B\u4E3A\xA0<code>null</code>\xA0\u6216\u8005\xA0<code>undefined</code>\uFF0C\u624D\u4F1A\u8FD4\u56DE\xA0<code>true</code>\uFF0C\u5426\u5219\u90FD\u8FD4\u56DE\xA0<code>false</code>\uFF1B</li><li>\u5982\u679C\u5176\u4E2D\u4E00\u4E2A\u662F\xA0<code>Symbol</code>\xA0\u7C7B\u578B\uFF0C\u90A3\u4E48\u8FD4\u56DE\xA0<code>false</code>\uFF1B</li><li>\u4E24\u4E2A\u64CD\u4F5C\u503C\u5982\u679C\u4E3A\xA0<code>string</code>\xA0\u548C number \u7C7B\u578B\uFF0C\u90A3\u4E48\u5C31\u4F1A\u5C06\u5B57\u7B26\u4E32\u8F6C\u6362\u4E3A\xA0<code>number</code>\uFF1B</li><li>\u5982\u679C\u4E00\u4E2A\u64CD\u4F5C\u503C\u662F\xA0<code>boolean</code>\uFF0C\u90A3\u4E48\u8F6C\u6362\u6210\xA0<code>number</code>\uFF1B</li><li>\u5982\u679C\u4E00\u4E2A\u64CD\u4F5C\u503C\u4E3A\xA0<code>object</code>\xA0\u4E14\u53E6\u4E00\u65B9\u4E3A\xA0<code>string</code>\u3001<code>number</code>\xA0\u6216\u8005\xA0<code>symbol</code>\uFF0C\u5C31\u4F1A\u628A\xA0<code>object</code>\xA0\u8F6C\u4E3A\u539F\u59CB\u7C7B\u578B\u518D\u8FDB\u884C\u5224\u65AD\uFF08\u8C03\u7528\xA0<code>object</code>\xA0\u7684\xA0<code>valueOf/toString</code>\xA0\u65B9\u6CD5\u8FDB\u884C\u8F6C\u6362\uFF09\u3002</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>null == undefined       // true  \u89C4\u52192
null == 0               // false \u89C4\u52192
&#39;&#39; == null              // false \u89C4\u52192
&#39;&#39; == 0                 // true  \u89C4\u52194 \u5B57\u7B26\u4E32\u8F6C\u9690\u5F0F\u8F6C\u6362\u6210Number\u4E4B\u540E\u518D\u5BF9\u6BD4
&#39;123&#39; == 123            // true  \u89C4\u52194 \u5B57\u7B26\u4E32\u8F6C\u9690\u5F0F\u8F6C\u6362\u6210Number\u4E4B\u540E\u518D\u5BF9\u6BD4
0 == false              // true  e\u89C4\u5219 \u5E03\u5C14\u578B\u9690\u5F0F\u8F6C\u6362\u6210Number\u4E4B\u540E\u518D\u5BF9\u6BD4
1 == true               // true  e\u89C4\u5219 \u5E03\u5C14\u578B\u9690\u5F0F\u8F6C\u6362\u6210Number\u4E4B\u540E\u518D\u5BF9\u6BD4
var a = {
  value: 0,
  valueOf: function() {
    this.value++;
    return this.value;
  }
};
// \u6CE8\u610F\u8FD9\u91CCa\u53C8\u53EF\u4EE5\u7B49\u4E8E1\u30012\u30013
console.log(a == 1 &amp;&amp; a == 2 &amp;&amp; a ==3);  //true f\u89C4\u5219 Object\u9690\u5F0F\u8F6C\u6362
// \u6CE8\uFF1A\u4F46\u662F\u6267\u884C\u8FC73\u904D\u4E4B\u540E\uFF0C\u518D\u91CD\u65B0\u6267\u884Ca==3\u6216\u4E4B\u524D\u7684\u6570\u5B57\u5C31\u662Ffalse\uFF0C\u56E0\u4E3Avalue\u5DF2\u7ECF\u52A0\u4E0A\u53BB\u4E86\uFF0C\u8FD9\u91CC\u9700\u8981\u6CE8\u610F\u4E00\u4E0B

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>&#39;+&#39; \u7684\u9690\u5F0F\u7C7B\u578B\u8F6C\u6362\u89C4\u5219</p><blockquote><p>&#39;+&#39; \u53F7\u64CD\u4F5C\u7B26\uFF0C\u4E0D\u4EC5\u53EF\u4EE5\u7528\u4F5C\u6570\u5B57\u76F8\u52A0\uFF0C\u8FD8\u53EF\u4EE5\u7528\u4F5C\u5B57\u7B26\u4E32\u62FC\u63A5\u3002\u4EC5\u5F53 &#39;+&#39; \u53F7\u4E24\u8FB9\u90FD\u662F\u6570\u5B57\u65F6\uFF0C\u8FDB\u884C\u7684\u662F\u52A0\u6CD5\u8FD0\u7B97\uFF1B\u5982\u679C\u4E24\u8FB9\u90FD\u662F\u5B57\u7B26\u4E32\uFF0C\u5219\u76F4\u63A5\u62FC\u63A5\uFF0C\u65E0\u987B\u8FDB\u884C\u9690\u5F0F\u7C7B\u578B\u8F6C\u6362\u3002</p></blockquote><ul><li>\u5982\u679C\u5176\u4E2D\u6709\u4E00\u4E2A\u662F\u5B57\u7B26\u4E32\uFF0C\u53E6\u5916\u4E00\u4E2A\u662F\xA0<code>undefined</code>\u3001<code>null</code>\xA0\u6216\u5E03\u5C14\u578B\uFF0C\u5219\u8C03\u7528\xA0<code>toString()</code>\xA0\u65B9\u6CD5\u8FDB\u884C\u5B57\u7B26\u4E32\u62FC\u63A5\uFF1B\u5982\u679C\u662F\u7EAF\u5BF9\u8C61\u3001\u6570\u7EC4\u3001\u6B63\u5219\u7B49\uFF0C\u5219\u9ED8\u8BA4\u8C03\u7528\u5BF9\u8C61\u7684\u8F6C\u6362\u65B9\u6CD5\u4F1A\u5B58\u5728\u4F18\u5148\u7EA7\uFF0C\u7136\u540E\u518D\u8FDB\u884C\u62FC\u63A5\u3002</li><li>\u5982\u679C\u5176\u4E2D\u6709\u4E00\u4E2A\u662F\u6570\u5B57\uFF0C\u53E6\u5916\u4E00\u4E2A\u662F\xA0<code>undefined</code>\u3001<code>null</code>\u3001\u5E03\u5C14\u578B\u6216\u6570\u5B57\uFF0C\u5219\u4F1A\u5C06\u5176\u8F6C\u6362\u6210\u6570\u5B57\u8FDB\u884C\u52A0\u6CD5\u8FD0\u7B97\uFF0C\u5BF9\u8C61\u7684\u60C5\u51B5\u8FD8\u662F\u53C2\u8003\u4E0A\u4E00\u6761\u89C4\u5219\u3002</li><li>\u5982\u679C\u5176\u4E2D\u4E00\u4E2A\u662F\u5B57\u7B26\u4E32\u3001\u4E00\u4E2A\u662F\u6570\u5B57\uFF0C\u5219\u6309\u7167\u5B57\u7B26\u4E32\u89C4\u5219\u8FDB\u884C\u62FC\u63A5</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>1 + 2        // 3  \u5E38\u89C4\u60C5\u51B5
&#39;1&#39; + &#39;2&#39;    // &#39;12&#39; \u5E38\u89C4\u60C5\u51B5
// \u4E0B\u9762\u770B\u4E00\u4E0B\u7279\u6B8A\u60C5\u51B5
&#39;1&#39; + undefined   // &quot;1undefined&quot; \u89C4\u52191\uFF0Cundefined\u8F6C\u6362\u5B57\u7B26\u4E32
&#39;1&#39; + null        // &quot;1null&quot; \u89C4\u52191\uFF0Cnull\u8F6C\u6362\u5B57\u7B26\u4E32
&#39;1&#39; + true        // &quot;1true&quot; \u89C4\u52191\uFF0Ctrue\u8F6C\u6362\u5B57\u7B26\u4E32
&#39;1&#39; + 1n          // &#39;11&#39; \u6BD4\u8F83\u7279\u6B8A\u5B57\u7B26\u4E32\u548CBigInt\u76F8\u52A0\uFF0CBigInt\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32
1 + undefined     // NaN  \u89C4\u52192\uFF0Cundefined\u8F6C\u6362\u6570\u5B57\u76F8\u52A0NaN
1 + null          // 1    \u89C4\u52192\uFF0Cnull\u8F6C\u6362\u4E3A0
1 + true          // 2    \u89C4\u52192\uFF0Ctrue\u8F6C\u6362\u4E3A1\uFF0C\u4E8C\u8005\u76F8\u52A0\u4E3A2
1 + 1n            // \u9519\u8BEF  \u4E0D\u80FD\u628ABigInt\u548CNumber\u7C7B\u578B\u76F4\u63A5\u6DF7\u5408\u76F8\u52A0
&#39;1&#39; + 3           // &#39;13&#39; \u89C4\u52193\uFF0C\u5B57\u7B26\u4E32\u62FC\u63A5

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u6574\u4F53\u6765\u770B\uFF0C\u5982\u679C\u6570\u636E\u4E2D\u6709\u5B57\u7B26\u4E32\uFF0CJavaScript \u7C7B\u578B\u8F6C\u6362\u8FD8\u662F\u66F4\u503E\u5411\u4E8E\u8F6C\u6362\u6210\u5B57\u7B26\u4E32\uFF0C\u56E0\u4E3A\u7B2C\u4E09\u6761\u89C4\u5219\u4E2D\u53EF\u4EE5\u770B\u5230\uFF0C\u5728\u5B57\u7B26\u4E32\u548C\u6570\u5B57\u76F8\u52A0\u7684\u8FC7\u7A0B\u4E2D\u6700\u540E\u8FD4\u56DE\u7684\u8FD8\u662F\u5B57\u7B26\u4E32\uFF0C\u8FD9\u91CC\u9700\u8981\u5173\u6CE8\u4E00\u4E0B</p></blockquote><p>null \u548C undefined \u7684\u533A\u522B\uFF1F</p><ul><li>\u9996\u5148\xA0<code>Undefined</code>\xA0\u548C\xA0<code>Null</code>\xA0\u90FD\u662F\u57FA\u672C\u6570\u636E\u7C7B\u578B\uFF0C\u8FD9\u4E24\u4E2A\u57FA\u672C\u6570\u636E\u7C7B\u578B\u5206\u522B\u90FD\u53EA\u6709\u4E00\u4E2A\u503C\uFF0C\u5C31\u662F\xA0<code>undefined</code>\xA0\u548C\xA0<code>null</code>\u3002</li><li><code>undefined</code>\xA0\u4EE3\u8868\u7684\u542B\u4E49\u662F\u672A\u5B9A\u4E49\uFF0C\xA0<code>null</code>\xA0\u4EE3\u8868\u7684\u542B\u4E49\u662F\u7A7A\u5BF9\u8C61\uFF08\u5176\u5B9E\u4E0D\u662F\u771F\u7684\u5BF9\u8C61\uFF0C\u8BF7\u770B\u4E0B\u9762\u7684\u6CE8\u610F\uFF01\uFF09\u3002\u4E00\u822C\u53D8\u91CF\u58F0\u660E\u4E86\u4F46\u8FD8\u6CA1\u6709\u5B9A\u4E49\u7684\u65F6\u5019\u4F1A\u8FD4\u56DE\xA0<code>undefined</code>\uFF0C<code>null</code>\xA0\u4E3B\u8981\u7528\u4E8E\u8D4B\u503C\u7ED9\u4E00\u4E9B\u53EF\u80FD\u4F1A\u8FD4\u56DE\u5BF9\u8C61\u7684\u53D8\u91CF\uFF0C\u4F5C\u4E3A\u521D\u59CB\u5316\u3002</li></ul><blockquote><p>\u5176\u5B9E null \u4E0D\u662F\u5BF9\u8C61\uFF0C\u867D\u7136 typeof null \u4F1A\u8F93\u51FA object\uFF0C\u4F46\u662F\u8FD9\u53EA\u662F JS \u5B58\u5728\u7684\u4E00\u4E2A\u60A0\u4E45 Bug\u3002\u5728 JS \u7684\u6700\u521D\u7248\u672C\u4E2D\u4F7F\u7528\u7684\u662F 32 \u4F4D\u7CFB\u7EDF\uFF0C\u4E3A\u4E86\u6027\u80FD\u8003\u8651\u4F7F\u7528\u4F4E\u4F4D\u5B58\u50A8\u53D8\u91CF\u7684\u7C7B\u578B\u4FE1\u606F\uFF0C000 \u5F00\u5934\u4EE3\u8868\u662F\u5BF9\u8C61\uFF0C\u7136\u800C null \u8868\u793A\u4E3A\u5168\u96F6\uFF0C\u6240\u4EE5\u5C06\u5B83\u9519\u8BEF\u7684\u5224\u65AD\u4E3A object \u3002\u867D\u7136\u73B0\u5728\u7684\u5185\u90E8\u7C7B\u578B\u5224\u65AD\u4EE3\u7801\u5DF2\u7ECF\u6539\u53D8\u4E86\uFF0C\u4F46\u662F\u5BF9\u4E8E\u8FD9\u4E2A Bug \u5374\u662F\u4E00\u76F4\u6D41\u4F20\u4E0B\u6765\u3002</p></blockquote><ul><li>undefined \u5728 js \u4E2D\u4E0D\u662F\u4E00\u4E2A\u4FDD\u7559\u5B57\uFF0C\u8FD9\u610F\u5473\u7740\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528\xA0<code>undefined</code>\xA0\u6765\u4F5C\u4E3A\u4E00\u4E2A\u53D8\u91CF\u540D\uFF0C\u8FD9\u6837\u7684\u505A\u6CD5\u662F\u975E\u5E38\u5371\u9669\u7684\uFF0C\u5B83\u4F1A\u5F71\u54CD\u6211\u4EEC\u5BF9 undefined \u503C\u7684\u5224\u65AD\u3002\u4F46\u662F\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u4E00\u4E9B\u65B9\u6CD5\u83B7\u5F97\u5B89\u5168\u7684\xA0<code>undefined</code>\xA0\u503C\uFF0C\u6BD4\u5982\u8BF4\xA0<code>void 0</code>\u3002</li><li>\u5F53\u6211\u4EEC\u5BF9\u4E24\u79CD\u7C7B\u578B\u4F7F\u7528 typeof \u8FDB\u884C\u5224\u65AD\u7684\u65F6\u5019\uFF0CNull \u7C7B\u578B\u5316\u4F1A\u8FD4\u56DE &quot;object&quot;\uFF0C\u8FD9\u662F\u4E00\u4E2A\u5386\u53F2\u9057\u7559\u7684\u95EE\u9898\u3002\u5F53\u6211\u4EEC\u4F7F\u7528\u53CC\u7B49\u53F7\u5BF9\u4E24\u79CD\u7C7B\u578B\u7684\u503C\u8FDB\u884C\u6BD4\u8F83\u65F6\u4F1A\u8FD4\u56DE true\uFF0C\u4F7F\u7528\u4E09\u4E2A\u7B49\u53F7\u65F6\u4F1A\u8FD4\u56DE false\u3002</li></ul><h3 id="_2-this" tabindex="-1"><a class="header-anchor" href="#_2-this" aria-hidden="true">#</a> 2 This</h3><blockquote><p>\u4E0D\u540C\u60C5\u51B5\u7684\u8C03\u7528\uFF0C<code>this</code>\u6307\u5411\u5206\u522B\u5982\u4F55\u3002\u987A\u5E26\u53EF\u4EE5\u63D0\u4E00\u4E0B\xA0<code>es6</code>\xA0\u4E2D\u7BAD\u5934\u51FD\u6570\u6CA1\u6709\xA0<code>this</code>,\xA0<code>arguments</code>,\xA0<code>super</code>\xA0\u7B49\uFF0C\u8FD9\u4E9B\u53EA\u4F9D\u8D56\u5305\u542B\u7BAD\u5934\u51FD\u6570\u6700\u63A5\u8FD1\u7684\u51FD\u6570</p></blockquote><blockquote><p>\u6211\u4EEC\u5148\u6765\u770B\u51E0\u4E2A\u51FD\u6570\u8C03\u7528\u7684\u573A\u666F</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function foo() {
  console.log(this.a)
}
var a = 1
foo()

const obj = {
  a: 2,
  foo: foo
}
obj.foo()

const c = new foo()

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u5BF9\u4E8E\u76F4\u63A5\u8C03\u7528\xA0<code>foo</code>\xA0\u6765\u8BF4\uFF0C\u4E0D\u7BA1\xA0<code>foo</code>\xA0\u51FD\u6570\u88AB\u653E\u5728\u4E86\u4EC0\u4E48\u5730\u65B9\uFF0C<code>this</code>\xA0\u4E00\u5B9A\u662F<code>window</code></li><li>\u5BF9\u4E8E\xA0<code>obj.foo()</code>\xA0\u6765\u8BF4\uFF0C\u6211\u4EEC\u53EA\u9700\u8981\u8BB0\u4F4F\uFF0C\u8C01\u8C03\u7528\u4E86\u51FD\u6570\uFF0C\u8C01\u5C31\u662F\xA0<code>this</code>\uFF0C\u6240\u4EE5\u5728\u8FD9\u4E2A\u573A\u666F\u4E0B\xA0<code>foo</code>\xA0\u51FD\u6570\u4E2D\u7684\xA0<code>this</code>\xA0\u5C31\u662F\xA0<code>obj</code>\xA0\u5BF9\u8C61</li><li>\u5BF9\u4E8E\xA0<code>new</code>\xA0\u7684\u65B9\u5F0F\u6765\u8BF4\uFF0C<code>this</code>\xA0\u88AB\u6C38\u8FDC\u7ED1\u5B9A\u5728\u4E86\xA0<code>c</code>\xA0\u4E0A\u9762\uFF0C\u4E0D\u4F1A\u88AB\u4EFB\u4F55\u65B9\u5F0F\u6539\u53D8\xA0<code>this</code></li></ul><blockquote><p>\u8BF4\u5B8C\u4E86\u4EE5\u4E0A\u51E0\u79CD\u60C5\u51B5\uFF0C\u5176\u5B9E\u5F88\u591A\u4EE3\u7801\u4E2D\u7684\xA0<code>this</code>\xA0\u5E94\u8BE5\u5C31\u6CA1\u4EC0\u4E48\u95EE\u9898\u4E86\uFF0C\u4E0B\u9762\u8BA9\u6211\u4EEC\u770B\u770B\u7BAD\u5934\u51FD\u6570\u4E2D\u7684\xA0<code>this</code></p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function a() {
  return () =&gt; {
    return () =&gt; {
      console.log(this)
    }
  }
}
console.log(a()()())

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u9996\u5148\u7BAD\u5934\u51FD\u6570\u5176\u5B9E\u662F\u6CA1\u6709\xA0<code>this</code>\xA0\u7684\uFF0C\u7BAD\u5934\u51FD\u6570\u4E2D\u7684\xA0<code>this</code>\xA0\u53EA\u53D6\u51B3\u5305\u88F9\u7BAD\u5934\u51FD\u6570\u7684\u7B2C\u4E00\u4E2A\u666E\u901A\u51FD\u6570\u7684\xA0<code>this</code>\u3002\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C\u56E0\u4E3A\u5305\u88F9\u7BAD\u5934\u51FD\u6570\u7684\u7B2C\u4E00\u4E2A\u666E\u901A\u51FD\u6570\u662F\xA0<code>a</code>\uFF0C\u6240\u4EE5\u6B64\u65F6\u7684\xA0<code>this</code>\xA0\u662F\xA0<code>window</code>\u3002\u53E6\u5916\u5BF9\u7BAD\u5934\u51FD\u6570\u4F7F\u7528\xA0<code>bind</code>\u8FD9\u7C7B\u51FD\u6570\u662F\u65E0\u6548\u7684\u3002</li><li>\u6700\u540E\u79CD\u60C5\u51B5\u4E5F\u5C31\u662F\xA0<code>bind</code>\xA0\u8FD9\u4E9B\u6539\u53D8\u4E0A\u4E0B\u6587\u7684\xA0<code>API</code>\xA0\u4E86\uFF0C\u5BF9\u4E8E\u8FD9\u4E9B\u51FD\u6570\u6765\u8BF4\uFF0C<code>this</code>\xA0\u53D6\u51B3\u4E8E\u7B2C\u4E00\u4E2A\u53C2\u6570\uFF0C\u5982\u679C\u7B2C\u4E00\u4E2A\u53C2\u6570\u4E3A\u7A7A\uFF0C\u90A3\u4E48\u5C31\u662F\xA0<code>window</code>\u3002</li><li>\u90A3\u4E48\u8BF4\u5230\xA0<code>bind</code>\uFF0C\u4E0D\u77E5\u9053\u5927\u5BB6\u662F\u5426\u8003\u8651\u8FC7\uFF0C\u5982\u679C\u5BF9\u4E00\u4E2A\u51FD\u6570\u8FDB\u884C\u591A\u6B21\xA0<code>bind</code>\uFF0C\u90A3\u4E48\u4E0A\u4E0B\u6587\u4F1A\u662F\u4EC0\u4E48\u5462\uFF1F</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>let a = {}
let fn = function () { console.log(this) }
fn.bind().bind(a)() // =&gt; ?

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u5982\u679C\u4F60\u8BA4\u4E3A\u8F93\u51FA\u7ED3\u679C\u662F\xA0<code>a</code>\uFF0C\u90A3\u4E48\u4F60\u5C31\u9519\u4E86\uFF0C\u5176\u5B9E\u6211\u4EEC\u53EF\u4EE5\u628A\u4E0A\u8FF0\u4EE3\u7801\u8F6C\u6362\u6210\u53E6\u4E00\u79CD\u5F62\u5F0F</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// fn.bind().bind(a) \u7B49\u4E8E
let fn2 = function fn1() {
  return function() {
    return fn.apply()
  }.apply(a)
}
fn2()

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u53EF\u4EE5\u4ECE\u4E0A\u8FF0\u4EE3\u7801\u4E2D\u53D1\u73B0\uFF0C\u4E0D\u7BA1\u6211\u4EEC\u7ED9\u51FD\u6570\xA0<code>bind</code>\xA0\u51E0\u6B21\uFF0C<code>fn</code>\xA0\u4E2D\u7684\xA0<code>this</code>\xA0\u6C38\u8FDC\u7531\u7B2C\u4E00\u6B21\xA0<code>bind</code>\xA0\u51B3\u5B9A\uFF0C\u6240\u4EE5\u7ED3\u679C\u6C38\u8FDC\u662F\xA0<code>window</code></p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>let a = { name: &#39;poetries&#39; }
function foo() {
  console.log(this.name)
}
foo.bind(a)() // =&gt; &#39;poetries&#39;

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u4EE5\u4E0A\u5C31\u662F\xA0<code>this</code>\xA0\u7684\u89C4\u5219\u4E86\uFF0C\u4F46\u662F\u53EF\u80FD\u4F1A\u53D1\u751F\u591A\u4E2A\u89C4\u5219\u540C\u65F6\u51FA\u73B0\u7684\u60C5\u51B5\uFF0C\u8FD9\u65F6\u5019\u4E0D\u540C\u7684\u89C4\u5219\u4E4B\u95F4\u4F1A\u6839\u636E\u4F18\u5148\u7EA7\u6700\u9AD8\u7684\u6765\u51B3\u5B9A\xA0<code>this</code>\xA0\u6700\u7EC8\u6307\u5411\u54EA\u91CC\u3002</p></blockquote><blockquote><p>\u9996\u5148\uFF0C<code>new</code>\xA0\u7684\u65B9\u5F0F\u4F18\u5148\u7EA7\u6700\u9AD8\uFF0C\u63A5\u4E0B\u6765\u662F\xA0<code>bind</code>\xA0\u8FD9\u4E9B\u51FD\u6570\uFF0C\u7136\u540E\u662F\xA0<code>obj.foo()</code>\xA0\u8FD9\u79CD\u8C03\u7528\u65B9\u5F0F\uFF0C\u6700\u540E\u662F\xA0<code>foo</code>\xA0\u8FD9\u79CD\u8C03\u7528\u65B9\u5F0F\uFF0C\u540C\u65F6\uFF0C\u7BAD\u5934\u51FD\u6570\u7684\xA0<code>this</code>\xA0\u4E00\u65E6\u88AB\u7ED1\u5B9A\uFF0C\u5C31\u4E0D\u4F1A\u518D\u88AB\u4EFB\u4F55\u65B9\u5F0F\u6240\u6539\u53D8\u3002</p></blockquote><p><img src="`+t+'" alt=""></p><p>\u51FD\u6570\u6267\u884C\u6539\u53D8this</p><ul><li>\u7531\u4E8E JS \u7684\u8BBE\u8BA1\u539F\u7406: \u5728\u51FD\u6570\u4E2D\uFF0C\u53EF\u4EE5\u5F15\u7528\u8FD0\u884C\u73AF\u5883\u4E2D\u7684\u53D8\u91CF\u3002\u56E0\u6B64\u5C31\u9700\u8981\u4E00\u4E2A\u673A\u5236\u6765\u8BA9\u6211\u4EEC\u53EF\u4EE5\u5728\u51FD\u6570\u4F53\u5185\u90E8\u83B7\u53D6\u5F53\u524D\u7684\u8FD0\u884C\u73AF\u5883\uFF0C\u8FD9\u4FBF\u662F<code>this</code>\u3002</li></ul><blockquote><p>\u56E0\u6B64\u8981\u660E\u767D\xA0<code>this</code>\xA0\u6307\u5411\uFF0C\u5176\u5B9E\u5C31\u662F\u8981\u641E\u6E05\u695A \u51FD\u6570\u7684\u8FD0\u884C\u73AF\u5883\uFF0C\u8BF4\u4EBA\u8BDD\u5C31\u662F\uFF0C\u8C01\u8C03\u7528\u4E86\u51FD\u6570\u3002\u4F8B\u5982</p></blockquote><ul><li><code>obj.fn()</code>\uFF0C\u4FBF\u662F\xA0<code>obj</code>\xA0\u8C03\u7528\u4E86\u51FD\u6570\uFF0C\u65E2\u51FD\u6570\u4E2D\u7684\xA0<code>this === obj</code></li><li><code>fn()</code>\uFF0C\u8FD9\u91CC\u53EF\u4EE5\u770B\u6210\xA0<code>window.fn()</code>\uFF0C\u56E0\u6B64\xA0<code>this === window</code></li></ul><blockquote><p>\u4F46\u8FD9\u79CD\u673A\u5236\u5E76\u4E0D\u5B8C\u5168\u80FD\u6EE1\u8DB3\u6211\u4EEC\u7684\u4E1A\u52A1\u9700\u6C42\uFF0C\u56E0\u6B64\u63D0\u4F9B\u4E86\u4E09\u79CD\u65B9\u5F0F\u53EF\u4EE5\u624B\u52A8\u4FEE\u6539\xA0<code>this</code>\xA0\u7684\u6307\u5411:</p></blockquote><ul><li><code>call: fn.call(target, 1, 2)</code></li><li><code>apply: fn.apply(target, [1, 2])</code></li><li><code>bind: fn.bind(target)(1,2)</code></li></ul><h3 id="_3-apply-call-bind-\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#_3-apply-call-bind-\u539F\u7406" aria-hidden="true">#</a> 3 apply/call/bind \u539F\u7406</h3><p><img src="'+u+`" alt=""></p><blockquote><p><code>call\u3001apply</code>\xA0\u548C\xA0<code>bind</code>\xA0\u662F\u6302\u5728\xA0<code>Function</code>\xA0\u5BF9\u8C61\u4E0A\u7684\u4E09\u4E2A\u65B9\u6CD5\uFF0C\u8C03\u7528\u8FD9\u4E09\u4E2A\u65B9\u6CD5\u7684\u5FC5\u987B\u662F\u4E00\u4E2A\u51FD\u6570\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>func.call(thisArg, param1, param2, ...)
func.apply(thisArg, [param1,param2,...])
func.bind(thisArg, param1, param2, ...)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u5728\u6D4F\u89C8\u5668\u91CC\uFF0C\u5728\u5168\u5C40\u8303\u56F4\u5185this \u6307\u5411window\u5BF9\u8C61\uFF1B</li><li>\u5728\u51FD\u6570\u4E2D\uFF0Cthis\u6C38\u8FDC\u6307\u5411\u6700\u540E\u8C03\u7528\u4ED6\u7684\u90A3\u4E2A\u5BF9\u8C61\uFF1B</li><li>\u6784\u9020\u51FD\u6570\u4E2D\uFF0Cthis\u6307\u5411new\u51FA\u6765\u7684\u90A3\u4E2A\u65B0\u7684\u5BF9\u8C61\uFF1B</li><li><code>call\u3001apply\u3001bind</code>\u4E2D\u7684this\u88AB\u5F3A\u7ED1\u5B9A\u5728\u6307\u5B9A\u7684\u90A3\u4E2A\u5BF9\u8C61\u4E0A\uFF1B</li><li>\u7BAD\u5934\u51FD\u6570\u4E2Dthis\u6BD4\u8F83\u7279\u6B8A,\u7BAD\u5934\u51FD\u6570this\u4E3A\u7236\u4F5C\u7528\u57DF\u7684this\uFF0C\u4E0D\u662F\u8C03\u7528\u65F6\u7684this.\u8981\u77E5\u9053\u524D\u56DB\u79CD\u65B9\u5F0F,\u90FD\u662F\u8C03\u7528\u65F6\u786E\u5B9A,\u4E5F\u5C31\u662F\u52A8\u6001\u7684,\u800C\u7BAD\u5934\u51FD\u6570\u7684this\u6307\u5411\u662F\u9759\u6001\u7684,\u58F0\u660E\u7684\u65F6\u5019\u5C31\u786E\u5B9A\u4E86\u4E0B\u6765\uFF1B</li><li><code>apply\u3001call\u3001bind</code>\u90FD\u662Fjs\u7ED9\u51FD\u6570\u5185\u7F6E\u7684\u4E00\u4E9BAPI\uFF0C\u8C03\u7528\u4ED6\u4EEC\u53EF\u4EE5\u4E3A\u51FD\u6570\u6307\u5B9Athis\u7684\u6267\u884C,\u540C\u65F6\u4E5F\u53EF\u4EE5\u4F20\u53C2\u3002</li></ul><p><img src="`+m+`" alt=""></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>let a = {
    value: 1
}
function getValue(name, age) {
    console.log(name)
    console.log(age)
    console.log(this.value)
}
getValue.call(a, &#39;poe&#39;, &#39;24&#39;)
getValue.apply(a, [&#39;poe&#39;, &#39;24&#39;])

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>bind</code>\xA0\u548C\u5176\u4ED6\u4E24\u4E2A\u65B9\u6CD5\u4F5C\u7528\u4E5F\u662F\u4E00\u81F4\u7684\uFF0C\u53EA\u662F\u8BE5\u65B9\u6CD5\u4F1A\u8FD4\u56DE\u4E00\u4E2A\u51FD\u6570\u3002\u5E76\u4E14\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\xA0<code>bind</code>\xA0\u5B9E\u73B0\u67EF\u91CC\u5316</p></blockquote><p>\u65B9\u6CD5\u7684\u5E94\u7528\u573A\u666F</p><blockquote><p>\u4E0B\u9762\u51E0\u79CD\u5E94\u7528\u573A\u666F\uFF0C\u4F60\u591A\u52A0\u4F53\u4F1A\u5C31\u53EF\u4EE5\u53D1\u73B0\u5B83\u4EEC\u7684\u7406\u5FF5\u90FD\u662F&quot;\u501F\u7528&quot;\u65B9\u6CD5\u7684\u601D\u8DEF\u3002\u6211\u4EEC\u6765\u770B\u770B\u90FD\u6709\u54EA\u4E9B\u3002</p></blockquote><ol><li>\u5224\u65AD\u6570\u636E\u7C7B\u578B</li></ol><blockquote><p>\u7528\xA0<code>Object.prototype.toString</code>\xA0\u6765\u5224\u65AD\u7C7B\u578B\u662F\u6700\u5408\u9002\u7684\uFF0C\u501F\u7528\u5B83\u6211\u4EEC\u51E0\u4E4E\u53EF\u4EE5\u5224\u65AD\u6240\u6709\u7C7B\u578B\u7684\u6570\u636E</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function getType(obj){
  let type  = typeof obj;
  if (type !== &quot;object&quot;) {
    return type;
  }
  return Object.prototype.toString.call(obj).replace(/^$/, &#39;$1&#39;);
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>\u7C7B\u6570\u7EC4\u501F\u7528\u65B9\u6CD5</li></ol><blockquote><p>\u7C7B\u6570\u7EC4\u56E0\u4E3A\u4E0D\u662F\u771F\u6B63\u7684\u6570\u7EC4\uFF0C\u6240\u6709\u6CA1\u6709\u6570\u7EC4\u7C7B\u578B\u4E0A\u81EA\u5E26\u7684\u79CD\u79CD\u65B9\u6CD5\uFF0C\u6240\u4EE5\u6211\u4EEC\u5C31\u53EF\u4EE5\u5229\u7528\u4E00\u4E9B\u65B9\u6CD5\u53BB\u501F\u7528\u6570\u7EC4\u7684\u65B9\u6CD5\uFF0C\u6BD4\u5982\u501F\u7528\u6570\u7EC4\u7684\xA0<code>push</code>\xA0\u65B9\u6CD5\uFF0C\u770B\u4E0B\u9762\u7684\u4E00\u6BB5\u4EE3\u7801\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var arrayLike = {
  0: &#39;java&#39;,
  1: &#39;script&#39;,
  length: 2
}
Array.prototype.push.call(arrayLike, &#39;jack&#39;, &#39;lily&#39;);
console.log(typeof arrayLike); // &#39;object&#39;
console.log(arrayLike);
// {0: &quot;java&quot;, 1: &quot;script&quot;, 2: &quot;jack&quot;, 3: &quot;lily&quot;, length: 4}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u7528\xA0<code>call</code>\xA0\u7684\u65B9\u6CD5\u6765\u501F\u7528\xA0<code>Array \u539F\u578B\u94FE\u4E0A\u7684 push</code>\xA0\u65B9\u6CD5\uFF0C\u53EF\u4EE5\u5B9E\u73B0\u4E00\u4E2A<code>\u7C7B\u6570\u7EC4\u7684 push</code>\xA0\u65B9\u6CD5\uFF0C\u7ED9\xA0<code>arrayLike</code>\xA0\u6DFB\u52A0\u65B0\u7684\u5143\u7D20</p></blockquote><ol><li>\u83B7\u53D6\u6570\u7EC4\u7684\u6700\u5927 / \u6700\u5C0F\u503C</li></ol><blockquote><p>\u6211\u4EEC\u53EF\u4EE5\u7528 apply \u6765\u5B9E\u73B0\u6570\u7EC4\u4E2D\u5224\u65AD\u6700\u5927 / \u6700\u5C0F\u503C\uFF0C<code>apply</code>\xA0\u76F4\u63A5\u4F20\u9012\u6570\u7EC4\u4F5C\u4E3A\u8C03\u7528\u65B9\u6CD5\u7684\u53C2\u6570\uFF0C\u4E5F\u53EF\u4EE5\u51CF\u5C11\u4E00\u6B65\u5C55\u5F00\u6570\u7EC4\uFF0C\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\xA0<code>Math.max\u3001Math.min</code>\xA0\u6765\u83B7\u53D6\u6570\u7EC4\u7684\u6700\u5927\u503C / \u6700\u5C0F\u503C\uFF0C\u8BF7\u770B\u4E0B\u9762\u8FD9\u6BB5\u4EE3\u7801\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>let arr = [13, 6, 10, 11, 16];
const max = Math.max.apply(Math, arr);
const min = Math.min.apply(Math, arr);

console.log(max);  // 16
console.log(min);  // 6

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5B9E\u73B0\u4E00\u4E2A bind \u51FD\u6570</p><p>\u5BF9\u4E8E\u5B9E\u73B0\u4EE5\u4E0B\u51E0\u4E2A\u51FD\u6570\uFF0C\u53EF\u4EE5\u4ECE\u51E0\u4E2A\u65B9\u9762\u601D\u8003</p><ul><li>\u4E0D\u4F20\u5165\u7B2C\u4E00\u4E2A\u53C2\u6570\uFF0C\u90A3\u4E48\u9ED8\u8BA4\u4E3A\xA0<code>window</code></li><li>\u6539\u53D8\u4E86\xA0<code>this</code>\xA0\u6307\u5411\uFF0C\u8BA9\u65B0\u7684\u5BF9\u8C61\u53EF\u4EE5\u6267\u884C\u8BE5\u51FD\u6570\u3002\u90A3\u4E48\u601D\u8DEF\u662F\u5426\u53EF\u4EE5\u53D8\u6210\u7ED9\u65B0\u7684\u5BF9\u8C61\u6DFB\u52A0\u4E00\u4E2A\u51FD\u6570\uFF0C\u7136\u540E\u5728\u6267\u884C\u5B8C\u4EE5\u540E\u5220\u9664\uFF1F</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Function.prototype.myBind = function (context) {
  if (typeof this !== &#39;function&#39;) {
    throw new TypeError(&#39;Error&#39;)
  }
  var _this = this
  var args = [...arguments].slice(1)
  // \u8FD4\u56DE\u4E00\u4E2A\u51FD\u6570
  return function F() {
    // \u56E0\u4E3A\u8FD4\u56DE\u4E86\u4E00\u4E2A\u51FD\u6570\uFF0C\u6211\u4EEC\u53EF\u4EE5 new F()\uFF0C\u6240\u4EE5\u9700\u8981\u5224\u65AD
    if (this instanceof F) {
      return new _this(...args, ...arguments)
    }
    return _this.apply(context, args.concat(...arguments))
  }
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5B9E\u73B0\u4E00\u4E2A call \u51FD\u6570</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Function.prototype.myCall = function (context) {
  var context = context || window
  // \u7ED9 context \u6DFB\u52A0\u4E00\u4E2A\u5C5E\u6027
  // getValue.call(a, &#39;pp&#39;, &#39;24&#39;) =&gt; a.fn = getValue
  context.fn = this
  // \u5C06 context \u540E\u9762\u7684\u53C2\u6570\u53D6\u51FA\u6765
  var args = [...arguments].slice(1)
  // getValue.call(a, &#39;pp&#39;, &#39;24&#39;) =&gt; a.fn(&#39;pp&#39;, &#39;24&#39;)
  var result = context.fn(...args)
  // \u5220\u9664 fn
  delete context.fn
  return result
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5B9E\u73B0\u4E00\u4E2A apply \u51FD\u6570</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Function.prototype.myApply = function(context = window, ...args) {
  // this--&gt;func  context--&gt; obj  args--&gt; \u4F20\u9012\u8FC7\u6765\u7684\u53C2\u6570

  // \u5728context\u4E0A\u52A0\u4E00\u4E2A\u552F\u4E00\u503C\u4E0D\u5F71\u54CDcontext\u4E0A\u7684\u5C5E\u6027
  let key = Symbol(&#39;key&#39;)
  context[key] = this; // context\u4E3A\u8C03\u7528\u7684\u4E0A\u4E0B\u6587,this\u6B64\u5904\u4E3A\u51FD\u6570\uFF0C\u5C06\u8FD9\u4E2A\u51FD\u6570\u4F5C\u4E3Acontext\u7684\u65B9\u6CD5
  // let args = [...arguments].slice(1)   //\u7B2C\u4E00\u4E2A\u53C2\u6570\u4E3Aobj\u6240\u4EE5\u5220\u9664,\u4F2A\u6570\u7EC4\u8F6C\u4E3A\u6570\u7EC4

  let result = context[key](...args);
  delete context[key]; // \u4E0D\u5220\u9664\u4F1A\u5BFC\u81F4context\u5C5E\u6027\u8D8A\u6765\u8D8A\u591A
  return result;
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// \u4F7F\u7528
function f(a,b){
 console.log(a,b)
 console.log(this.name)
}
let obj={
 name:&#39;\u5F20\u4E09&#39;
}
f.myApply(obj,[1,2])  //arguments[1]

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-\u53D8\u91CF\u63D0\u5347" tabindex="-1"><a class="header-anchor" href="#_4-\u53D8\u91CF\u63D0\u5347" aria-hidden="true">#</a> 4 \u53D8\u91CF\u63D0\u5347</h3><blockquote><p>\u5F53\u6267\u884C\xA0<code>JS</code>\xA0\u4EE3\u7801\u65F6\uFF0C\u4F1A\u751F\u6210\u6267\u884C\u73AF\u5883\uFF0C\u53EA\u8981\u4EE3\u7801\u4E0D\u662F\u5199\u5728\u51FD\u6570\u4E2D\u7684\uFF0C\u5C31\u662F\u5728\u5168\u5C40\u6267\u884C\u73AF\u5883\u4E2D\uFF0C\u51FD\u6570\u4E2D\u7684\u4EE3\u7801\u4F1A\u4EA7\u751F\u51FD\u6570\u6267\u884C\u73AF\u5883\uFF0C\u53EA\u6B64\u4E24\u79CD\u6267\u884C\u73AF\u5883\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>b() // call b
console.log(a) // undefined

var a = &#39;Hello world&#39;

function b() {
    console.log(&#39;call b&#39;)
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u60F3\u5FC5\u4EE5\u4E0A\u7684\u8F93\u51FA\u5927\u5BB6\u80AF\u5B9A\u90FD\u5DF2\u7ECF\u660E\u767D\u4E86\uFF0C\u8FD9\u662F\u56E0\u4E3A\u51FD\u6570\u548C\u53D8\u91CF\u63D0\u5347\u7684\u539F\u56E0\u3002\u901A\u5E38\u63D0\u5347\u7684\u89E3\u91CA\u662F\u8BF4\u5C06\u58F0\u660E\u7684\u4EE3\u7801\u79FB\u52A8\u5230\u4E86\u9876\u90E8\uFF0C\u8FD9\u5176\u5B9E\u6CA1\u6709\u4EC0\u4E48\u9519\u8BEF\uFF0C\u4FBF\u4E8E\u5927\u5BB6\u7406\u89E3\u3002\u4F46\u662F\u66F4\u51C6\u786E\u7684\u89E3\u91CA\u5E94\u8BE5\u662F\uFF1A\u5728\u751F\u6210\u6267\u884C\u73AF\u5883\u65F6\uFF0C\u4F1A\u6709\u4E24\u4E2A\u9636\u6BB5\u3002\u7B2C\u4E00\u4E2A\u9636\u6BB5\u662F\u521B\u5EFA\u7684\u9636\u6BB5\uFF0C<code>JS</code>\xA0\u89E3\u91CA\u5668\u4F1A\u627E\u51FA\u9700\u8981\u63D0\u5347\u7684\u53D8\u91CF\u548C\u51FD\u6570\uFF0C\u5E76\u4E14\u7ED9\u4ED6\u4EEC\u63D0\u524D\u5728\u5185\u5B58\u4E2D\u5F00\u8F9F\u597D\u7A7A\u95F4\uFF0C\u51FD\u6570\u7684\u8BDD\u4F1A\u5C06\u6574\u4E2A\u51FD\u6570\u5B58\u5165\u5185\u5B58\u4E2D\uFF0C\u53D8\u91CF\u53EA\u58F0\u660E\u5E76\u4E14\u8D4B\u503C\u4E3A\xA0<code>undefined</code>\uFF0C\u6240\u4EE5\u5728\u7B2C\u4E8C\u4E2A\u9636\u6BB5\uFF0C\u4E5F\u5C31\u662F\u4EE3\u7801\u6267\u884C\u9636\u6BB5\uFF0C\u6211\u4EEC\u53EF\u4EE5\u76F4\u63A5\u63D0\u524D\u4F7F\u7528</p></blockquote><ul><li>\u5728\u63D0\u5347\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u76F8\u540C\u7684\u51FD\u6570\u4F1A\u8986\u76D6\u4E0A\u4E00\u4E2A\u51FD\u6570\uFF0C\u5E76\u4E14\u51FD\u6570\u4F18\u5148\u4E8E\u53D8\u91CF\u63D0\u5347</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>b() // call b second

function b() {
    console.log(&#39;call b fist&#39;)
}
function b() {
    console.log(&#39;call b second&#39;)
}
var b = &#39;Hello world&#39;

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>var</code>\xA0\u4F1A\u4EA7\u751F\u5F88\u591A\u9519\u8BEF\uFF0C\u6240\u4EE5\u5728 ES6\u4E2D\u5F15\u5165\u4E86\xA0<code>let</code>\u3002<code>let</code>\u4E0D\u80FD\u5728\u58F0\u660E\u524D\u4F7F\u7528\uFF0C\u4F46\u662F\u8FD9\u5E76\u4E0D\u662F\u5E38\u8BF4\u7684\xA0<code>let</code>\xA0\u4E0D\u4F1A\u63D0\u5347\uFF0C<code>let</code>\u63D0\u5347\u4E86\uFF0C\u5728\u7B2C\u4E00\u9636\u6BB5\u5185\u5B58\u4E5F\u5DF2\u7ECF\u4E3A\u4ED6\u5F00\u8F9F\u597D\u4E86\u7A7A\u95F4\uFF0C\u4F46\u662F\u56E0\u4E3A\u8FD9\u4E2A\u58F0\u660E\u7684\u7279\u6027\u5BFC\u81F4\u4E86\u5E76\u4E0D\u80FD\u5728\u58F0\u660E\u524D\u4F7F\u7528</p></blockquote><h3 id="_5-\u6267\u884C\u4E0A\u4E0B\u6587" tabindex="-1"><a class="header-anchor" href="#_5-\u6267\u884C\u4E0A\u4E0B\u6587" aria-hidden="true">#</a> 5 \u6267\u884C\u4E0A\u4E0B\u6587</h3><blockquote><p>\u5F53\u6267\u884C JS \u4EE3\u7801\u65F6\uFF0C\u4F1A\u4EA7\u751F\u4E09\u79CD\u6267\u884C\u4E0A\u4E0B\u6587</p></blockquote><ul><li>\u5168\u5C40\u6267\u884C\u4E0A\u4E0B\u6587</li><li>\u51FD\u6570\u6267\u884C\u4E0A\u4E0B\u6587</li><li><code>eval</code>\xA0\u6267\u884C\u4E0A\u4E0B\u6587</li></ul><blockquote><p>\u6BCF\u4E2A\u6267\u884C\u4E0A\u4E0B\u6587\u4E2D\u90FD\u6709\u4E09\u4E2A\u91CD\u8981\u7684\u5C5E\u6027</p></blockquote><ul><li>\u53D8\u91CF\u5BF9\u8C61\uFF08<code>VO</code>\uFF09\uFF0C\u5305\u542B\u53D8\u91CF\u3001\u51FD\u6570\u58F0\u660E\u548C\u51FD\u6570\u7684\u5F62\u53C2\uFF0C\u8BE5\u5C5E\u6027\u53EA\u80FD\u5728\u5168\u5C40\u4E0A\u4E0B\u6587\u4E2D\u8BBF\u95EE</li><li>\u4F5C\u7528\u57DF\u94FE\uFF08<code>JS</code>\xA0\u91C7\u7528\u8BCD\u6CD5\u4F5C\u7528\u57DF\uFF0C\u4E5F\u5C31\u662F\u8BF4\u53D8\u91CF\u7684\u4F5C\u7528\u57DF\u662F\u5728\u5B9A\u4E49\u65F6\u5C31\u51B3\u5B9A\u4E86\uFF09</li><li><code>this</code></li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var a = 10
function foo(i) {
  var b = 20
}
foo()

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u5BF9\u4E8E\u4E0A\u8FF0\u4EE3\u7801\uFF0C\u6267\u884C\u6808\u4E2D\u6709\u4E24\u4E2A\u4E0A\u4E0B\u6587\uFF1A\u5168\u5C40\u4E0A\u4E0B\u6587\u548C\u51FD\u6570 foo \u4E0A\u4E0B\u6587\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>stack = [
    globalContext,
    fooContext
]

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u5BF9\u4E8E\u5168\u5C40\u4E0A\u4E0B\u6587\u6765\u8BF4\uFF0C<code>VO</code>\u5927\u6982\u662F\u8FD9\u6837\u7684</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>globalContext.VO === globe
globalContext.VO = {
    a: undefined,
	foo: &lt;Function&gt;,
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u5BF9\u4E8E\u51FD\u6570\xA0<code>foo</code>\xA0\u6765\u8BF4\uFF0C<code>VO</code>\xA0\u4E0D\u80FD\u8BBF\u95EE\uFF0C\u53EA\u80FD\u8BBF\u95EE\u5230\u6D3B\u52A8\u5BF9\u8C61\uFF08<code>AO</code>\uFF09</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>fooContext.VO === foo.AO
fooContext.AO {
    i: undefined,
	b: undefined,
    arguments: &lt;&gt;
}
// arguments \u662F\u51FD\u6570\u72EC\u6709\u7684\u5BF9\u8C61(\u7BAD\u5934\u51FD\u6570\u6CA1\u6709)
// \u8BE5\u5BF9\u8C61\u662F\u4E00\u4E2A\u4F2A\u6570\u7EC4\uFF0C\u6709 \`length\` \u5C5E\u6027\u4E14\u53EF\u4EE5\u901A\u8FC7\u4E0B\u6807\u8BBF\u95EE\u5143\u7D20
// \u8BE5\u5BF9\u8C61\u4E2D\u7684 \`callee\` \u5C5E\u6027\u4EE3\u8868\u51FD\u6570\u672C\u8EAB
// \`caller\` \u5C5E\u6027\u4EE3\u8868\u51FD\u6570\u7684\u8C03\u7528\u8005

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u5BF9\u4E8E\u4F5C\u7528\u57DF\u94FE\uFF0C\u53EF\u4EE5\u628A\u5B83\u7406\u89E3\u6210\u5305\u542B\u81EA\u8EAB\u53D8\u91CF\u5BF9\u8C61\u548C\u4E0A\u7EA7\u53D8\u91CF\u5BF9\u8C61\u7684\u5217\u8868\uFF0C\u901A\u8FC7\xA0<code>[[Scope]]</code>\u5C5E\u6027\u67E5\u627E\u4E0A\u7EA7\u53D8\u91CF</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>fooContext.[[Scope]] = [
    globalContext.VO
]
fooContext.Scope = fooContext.[[Scope]] + fooContext.VO
fooContext.Scope = [
    fooContext.VO,
    globalContext.VO
]

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u63A5\u4E0B\u6765\u8BA9\u6211\u4EEC\u770B\u4E00\u4E2A\u8001\u751F\u5E38\u8C08\u7684\u4F8B\u5B50\uFF0C<code>var</code></p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>b() // call b
console.log(a) // undefined

var a = &#39;Hello world&#39;

function b() {
	console.log(&#39;call b&#39;)
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u60F3\u5FC5\u4EE5\u4E0A\u7684\u8F93\u51FA\u5927\u5BB6\u80AF\u5B9A\u90FD\u5DF2\u7ECF\u660E\u767D\u4E86\uFF0C\u8FD9\u662F\u56E0\u4E3A\u51FD\u6570\u548C\u53D8\u91CF\u63D0\u5347\u7684\u539F\u56E0\u3002\u901A\u5E38\u63D0\u5347\u7684\u89E3\u91CA\u662F\u8BF4\u5C06\u58F0\u660E\u7684\u4EE3\u7801\u79FB\u52A8\u5230\u4E86\u9876\u90E8\uFF0C\u8FD9\u5176\u5B9E\u6CA1\u6709\u4EC0\u4E48\u9519\u8BEF\uFF0C\u4FBF\u4E8E\u5927\u5BB6\u7406\u89E3\u3002\u4F46\u662F\u66F4\u51C6\u786E\u7684\u89E3\u91CA\u5E94\u8BE5\u662F\uFF1A\u5728\u751F\u6210\u6267\u884C\u4E0A\u4E0B\u6587\u65F6\uFF0C\u4F1A\u6709\u4E24\u4E2A\u9636\u6BB5\u3002\u7B2C\u4E00\u4E2A\u9636\u6BB5\u662F\u521B\u5EFA\u7684\u9636\u6BB5\uFF08\u5177\u4F53\u6B65\u9AA4\u662F\u521B\u5EFA\xA0<code>VO</code>\uFF09\uFF0C<code>JS</code>\xA0\u89E3\u91CA\u5668\u4F1A\u627E\u51FA\u9700\u8981\u63D0\u5347\u7684\u53D8\u91CF\u548C\u51FD\u6570\uFF0C\u5E76\u4E14\u7ED9\u4ED6\u4EEC\u63D0\u524D\u5728\u5185\u5B58\u4E2D\u5F00\u8F9F\u597D\u7A7A\u95F4\uFF0C\u51FD\u6570\u7684\u8BDD\u4F1A\u5C06\u6574\u4E2A\u51FD\u6570\u5B58\u5165\u5185\u5B58\u4E2D\uFF0C\u53D8\u91CF\u53EA\u58F0\u660E\u5E76\u4E14\u8D4B\u503C\u4E3A\xA0<code>undefined</code>\uFF0C\u6240\u4EE5\u5728\u7B2C\u4E8C\u4E2A\u9636\u6BB5\uFF0C\u4E5F\u5C31\u662F\u4EE3\u7801\u6267\u884C\u9636\u6BB5\uFF0C\u6211\u4EEC\u53EF\u4EE5\u76F4\u63A5\u63D0\u524D\u4F7F\u7528\u3002</p></blockquote><ul><li>\u5728\u63D0\u5347\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u76F8\u540C\u7684\u51FD\u6570\u4F1A\u8986\u76D6\u4E0A\u4E00\u4E2A\u51FD\u6570\uFF0C\u5E76\u4E14\u51FD\u6570\u4F18\u5148\u4E8E\u53D8\u91CF\u63D0\u5347</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>b() // call b second

function b() {
	console.log(&#39;call b fist&#39;)
}
function b() {
	console.log(&#39;call b second&#39;)
}
var b = &#39;Hello world&#39;

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>var</code>\u4F1A\u4EA7\u751F\u5F88\u591A\u9519\u8BEF\uFF0C\u6240\u4EE5\u5728\xA0<code>ES6</code>\u4E2D\u5F15\u5165\u4E86\xA0<code>let</code>\u3002<code>let</code>\u4E0D\u80FD\u5728\u58F0\u660E\u524D\u4F7F\u7528\uFF0C\u4F46\u662F\u8FD9\u5E76\u4E0D\u662F\u5E38\u8BF4\u7684\xA0<code>let</code>\xA0\u4E0D\u4F1A\u63D0\u5347\uFF0C<code>let</code>\xA0\u63D0\u5347\u4E86\u58F0\u660E\u4F46\u6CA1\u6709\u8D4B\u503C\uFF0C\u56E0\u4E3A\u4E34\u65F6\u6B7B\u533A\u5BFC\u81F4\u4E86\u5E76\u4E0D\u80FD\u5728\u58F0\u660E\u524D\u4F7F\u7528\u3002</p></blockquote><ul><li>\u5BF9\u4E8E\u975E\u533F\u540D\u7684\u7ACB\u5373\u6267\u884C\u51FD\u6570\u9700\u8981\u6CE8\u610F\u4EE5\u4E0B\u4E00\u70B9</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var foo = 1
(function foo() {
    foo = 10
    console.log(foo)
}()) // -&gt; \u0192 foo() { foo = 10 ; console.log(foo) }

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u56E0\u4E3A\u5F53\xA0<code>JS</code>\xA0\u89E3\u91CA\u5668\u5728\u9047\u5230\u975E\u533F\u540D\u7684\u7ACB\u5373\u6267\u884C\u51FD\u6570\u65F6\uFF0C\u4F1A\u521B\u5EFA\u4E00\u4E2A\u8F85\u52A9\u7684\u7279\u5B9A\u5BF9\u8C61\uFF0C\u7136\u540E\u5C06\u51FD\u6570\u540D\u79F0\u4F5C\u4E3A\u8FD9\u4E2A\u5BF9\u8C61\u7684\u5C5E\u6027\uFF0C\u56E0\u6B64\u51FD\u6570\u5185\u90E8\u624D\u53EF\u4EE5\u8BBF\u95EE\u5230\xA0<code>foo</code>\uFF0C\u4F46\u662F\u8FD9\u4E2A\u503C\u53C8\u662F\u53EA\u8BFB\u7684\uFF0C\u6240\u4EE5\u5BF9\u5B83\u7684\u8D4B\u503C\u5E76\u4E0D\u751F\u6548\uFF0C\u6240\u4EE5\u6253\u5370\u7684\u7ED3\u679C\u8FD8\u662F\u8FD9\u4E2A\u51FD\u6570\uFF0C\u5E76\u4E14\u5916\u90E8\u7684\u503C\u4E5F\u6CA1\u6709\u53D1\u751F\u66F4\u6539\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>specialObject = {};

Scope = specialObject + Scope;

foo = new FunctionExpression;
foo.[[Scope]] = Scope;
specialObject.foo = foo; // {DontDelete}, {ReadOnly}

delete Scope[0]; // remove specialObject from the front of scope chain

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u603B\u7ED3</p><blockquote><p>\u6267\u884C\u4E0A\u4E0B\u6587\u53EF\u4EE5\u7B80\u5355\u7406\u89E3\u4E3A\u4E00\u4E2A\u5BF9\u8C61:</p></blockquote><p>\u5B83\u5305\u542B\u4E09\u4E2A\u90E8\u5206:</p><ul><li>\u53D8\u91CF\u5BF9\u8C61(<code>VO</code>)</li><li>\u4F5C\u7528\u57DF\u94FE(\u8BCD\u6CD5\u4F5C\u7528\u57DF)</li><li><code>this</code>\u6307\u5411</li></ul><p>\u5B83\u7684\u7C7B\u578B:</p><ul><li>\u5168\u5C40\u6267\u884C\u4E0A\u4E0B\u6587</li><li>\u51FD\u6570\u6267\u884C\u4E0A\u4E0B\u6587</li><li><code>eval</code>\u6267\u884C\u4E0A\u4E0B\u6587</li></ul><p>\u4EE3\u7801\u6267\u884C\u8FC7\u7A0B:</p><ul><li>\u521B\u5EFA \u5168\u5C40\u4E0A\u4E0B\u6587 (<code>global EC</code>)</li><li>\u5168\u5C40\u6267\u884C\u4E0A\u4E0B\u6587 (<code>caller</code>) \u9010\u884C \u81EA\u4E0A\u800C\u4E0B \u6267\u884C\u3002\u9047\u5230\u51FD\u6570\u65F6\uFF0C\u51FD\u6570\u6267\u884C\u4E0A\u4E0B\u6587 (<code>callee</code>) \u88AB<code>push</code>\u5230\u6267\u884C\u6808\u9876\u5C42</li><li>\u51FD\u6570\u6267\u884C\u4E0A\u4E0B\u6587\u88AB\u6FC0\u6D3B\uFF0C\u6210\u4E3A\xA0<code>active EC</code>, \u5F00\u59CB\u6267\u884C\u51FD\u6570\u4E2D\u7684\u4EE3\u7801\uFF0C<code>caller</code>\xA0\u88AB\u6302\u8D77</li><li>\u51FD\u6570\u6267\u884C\u5B8C\u540E\uFF0C<code>callee</code>\xA0\u88AB<code>pop</code>\u79FB\u9664\u51FA\u6267\u884C\u6808\uFF0C\u63A7\u5236\u6743\u4EA4\u8FD8\u5168\u5C40\u4E0A\u4E0B\u6587 (<code>caller</code>)\uFF0C\u7EE7\u7EED\u6267\u884C</li></ul><h3 id="_6-\u4F5C\u7528\u57DF" tabindex="-1"><a class="header-anchor" href="#_6-\u4F5C\u7528\u57DF" aria-hidden="true">#</a> 6 \u4F5C\u7528\u57DF</h3><ul><li>\u4F5C\u7528\u57DF\uFF1A \u4F5C\u7528\u57DF\u662F\u5B9A\u4E49\u53D8\u91CF\u7684\u533A\u57DF\uFF0C\u5B83\u6709\u4E00\u5957\u8BBF\u95EE\u53D8\u91CF\u7684\u89C4\u5219\uFF0C\u8FD9\u5957\u89C4\u5219\u6765\u7BA1\u7406\u6D4F\u89C8\u5668\u5F15\u64CE\u5982\u4F55\u5728\u5F53\u524D\u4F5C\u7528\u57DF\u4EE5\u53CA\u5D4C\u5957\u7684\u4F5C\u7528\u57DF\u4E2D\u6839\u636E\u53D8\u91CF\uFF08\u6807\u8BC6\u7B26\uFF09\u8FDB\u884C\u53D8\u91CF\u67E5\u627E</li><li>\u4F5C\u7528\u57DF\u94FE\uFF1A \u4F5C\u7528\u57DF\u94FE\u7684\u4F5C\u7528\u662F\u4FDD\u8BC1\u5BF9\u6267\u884C\u73AF\u5883\u6709\u6743\u8BBF\u95EE\u7684\u6240\u6709\u53D8\u91CF\u548C\u51FD\u6570\u7684\u6709\u5E8F\u8BBF\u95EE\uFF0C\u901A\u8FC7\u4F5C\u7528\u57DF\u94FE\uFF0C\u6211\u4EEC\u53EF\u4EE5\u8BBF\u95EE\u5230\u5916\u5C42\u73AF\u5883\u7684\u53D8\u91CF\u548C \u51FD\u6570\u3002</li></ul><blockquote><p>\u4F5C\u7528\u57DF\u94FE\u7684\u672C\u8D28\u4E0A\u662F\u4E00\u4E2A\u6307\u5411\u53D8\u91CF\u5BF9\u8C61\u7684\u6307\u9488\u5217\u8868\u3002\u53D8\u91CF\u5BF9\u8C61\u662F\u4E00\u4E2A\u5305\u542B\u4E86\u6267\u884C\u73AF\u5883\u4E2D\u6240\u6709\u53D8\u91CF\u548C\u51FD\u6570\u7684\u5BF9\u8C61\u3002\u4F5C\u7528\u57DF\u94FE\u7684\u524D \u7AEF\u59CB\u7EC8\u90FD\u662F\u5F53\u524D\u6267\u884C\u4E0A\u4E0B\u6587\u7684\u53D8\u91CF\u5BF9\u8C61\u3002\u5168\u5C40\u6267\u884C\u4E0A\u4E0B\u6587\u7684\u53D8\u91CF\u5BF9\u8C61\uFF08\u4E5F\u5C31\u662F\u5168\u5C40\u5BF9\u8C61\uFF09\u59CB\u7EC8\u662F\u4F5C\u7528\u57DF\u94FE\u7684\u6700\u540E\u4E00\u4E2A\u5BF9\u8C61\u3002</p></blockquote><ul><li>\u5F53\u6211\u4EEC\u67E5\u627E\u4E00\u4E2A\u53D8\u91CF\u65F6\uFF0C\u5982\u679C\u5F53\u524D\u6267\u884C\u73AF\u5883\u4E2D\u6CA1\u6709\u627E\u5230\uFF0C\u6211\u4EEC\u53EF\u4EE5\u6CBF\u7740\u4F5C\u7528\u57DF\u94FE\u5411\u540E\u67E5\u627E</li><li>\u4F5C\u7528\u57DF\u94FE\u7684\u521B\u5EFA\u8FC7\u7A0B\u8DDF\u6267\u884C\u4E0A\u4E0B\u6587\u7684\u5EFA\u7ACB\u6709\u5173....</li></ul><blockquote><p>\u4F5C\u7528\u57DF\u53EF\u4EE5\u7406\u89E3\u4E3A\u53D8\u91CF\u7684\u53EF\u8BBF\u95EE\u6027\uFF0C\u603B\u5171\u5206\u4E3A\u4E09\u79CD\u7C7B\u578B\uFF0C\u5206\u522B\u4E3A\uFF1A</p></blockquote><ul><li>\u5168\u5C40\u4F5C\u7528\u57DF</li><li>\u51FD\u6570\u4F5C\u7528\u57DF</li><li>\u5757\u7EA7\u4F5C\u7528\u57DF\uFF0CES6 \u4E2D\u7684\xA0<code>let</code>\u3001<code>const</code>\xA0\u5C31\u53EF\u4EE5\u4EA7\u751F\u8BE5\u4F5C\u7528\u57DF</li></ul><p>\u5176\u5B9E\u770B\u5B8C\u524D\u9762\u7684\u95ED\u5305\u3001<code>this</code>\xA0\u8FD9\u90E8\u5206\u5185\u90E8\u7684\u8BDD\uFF0C\u5E94\u8BE5\u57FA\u672C\u80FD\u4E86\u89E3\u4F5C\u7528\u57DF\u7684\u4E00\u4E9B\u5E94\u7528\u3002</p><p>\u4E00\u65E6\u6211\u4EEC\u5C06\u8FD9\u4E9B\u4F5C\u7528\u57DF\u5D4C\u5957\u8D77\u6765\uFF0C\u5C31\u53D8\u6210\u4E86\u53E6\u5916\u4E00\u4E2A\u91CD\u8981\u7684\u77E5\u8BC6\u70B9\u300C\u4F5C\u7528\u57DF\u94FE\u300D\uFF0C\u4E5F\u5C31\u662F JS \u5230\u5E95\u662F\u5982\u4F55\u8BBF\u95EE\u9700\u8981\u7684\u53D8\u91CF\u6216\u8005\u51FD\u6570\u7684\u3002</p><ul><li>\u9996\u5148\u4F5C\u7528\u57DF\u94FE\u662F\u5728\u5B9A\u4E49\u65F6\u5C31\u88AB\u786E\u5B9A\u4E0B\u6765\u7684\uFF0C\u548C\u7BAD\u5934\u51FD\u6570\u91CC\u7684 this \u4E00\u6837\uFF0C\u540E\u7EED\u4E0D\u4F1A\u6539\u53D8\uFF0CJS \u4F1A\u4E00\u5C42\u5C42\u5F80\u4E0A\u5BFB\u627E\u9700\u8981\u7684\u5185\u5BB9\u3002</li><li>\u5176\u5B9E\u4F5C\u7528\u57DF\u94FE\u8FD9\u4E2A\u4E1C\u897F\u6211\u4EEC\u5728\u95ED\u5305\u5C0F\u7ED3\u4E2D\u5DF2\u7ECF\u770B\u5230\u8FC7\u5B83\u7684\u5B9E\u4F53\u4E86\uFF1A<code>[[Scopes]]</code></li></ul><p><img src="`+b+`" alt=""></p><p>\u56FE\u4E2D\u7684\xA0<code>[[Scopes]]</code>\xA0\u662F\u4E2A\u6570\u7EC4\uFF0C\u4F5C\u7528\u57DF\u7684\u4E00\u5C42\u5C42\u5F80\u4E0A\u5BFB\u627E\u5C31\u7B49\u540C\u4E8E\u904D\u5386\xA0<code>[[Scopes]]</code>\u3002</p><p>1. \u5168\u5C40\u4F5C\u7528\u57DF</p><blockquote><p>\u5168\u5C40\u53D8\u91CF\u662F\u6302\u8F7D\u5728 window \u5BF9\u8C61\u4E0B\u7684\u53D8\u91CF\uFF0C\u6240\u4EE5\u5728\u7F51\u9875\u4E2D\u7684\u4EFB\u4F55\u4F4D\u7F6E\u4F60\u90FD\u53EF\u4EE5\u4F7F\u7528\u5E76\u4E14\u8BBF\u95EE\u5230\u8FD9\u4E2A\u5168\u5C40\u53D8\u91CF</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var globalName = &#39;global&#39;;
function getName() {
  console.log(globalName) // global
  var name = &#39;inner&#39;
  console.log(name) // inner
}
getName();
console.log(name); //
console.log(globalName); //global
function setName(){
  vName = &#39;setName&#39;;
}
setName();
console.log(vName); // setName

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u4ECE\u8FD9\u6BB5\u4EE3\u7801\u4E2D\u6211\u4EEC\u53EF\u4EE5\u770B\u5230\uFF0CglobalName \u8FD9\u4E2A\u53D8\u91CF\u65E0\u8BBA\u5728\u4EC0\u4E48\u5730\u65B9\u90FD\u662F\u53EF\u4EE5\u88AB\u8BBF\u95EE\u5230\u7684\uFF0C\u6240\u4EE5\u5B83\u5C31\u662F\u5168\u5C40\u53D8\u91CF\u3002\u800C\u5728 getName \u51FD\u6570\u4E2D\u4F5C\u4E3A\u5C40\u90E8\u53D8\u91CF\u7684 name \u53D8\u91CF\u662F\u4E0D\u5177\u5907\u8FD9\u79CD\u80FD\u529B\u7684</li><li>\u5F53\u7136\u5168\u5C40\u4F5C\u7528\u57DF\u6709\u76F8\u5E94\u7684\u7F3A\u70B9\uFF0C\u6211\u4EEC\u5B9A\u4E49\u5F88\u591A\u5168\u5C40\u53D8\u91CF\u7684\u65F6\u5019\uFF0C\u4F1A\u5BB9\u6613\u5F15\u8D77\u53D8\u91CF\u547D\u540D\u7684\u51B2\u7A81\uFF0C\u6240\u4EE5\u5728\u5B9A\u4E49\u53D8\u91CF\u7684\u65F6\u5019\u5E94\u8BE5\u6CE8\u610F\u4F5C\u7528\u57DF\u7684\u95EE\u9898\u3002</li></ul><p>2. \u51FD\u6570\u4F5C\u7528\u57DF</p><blockquote><p>\u51FD\u6570\u4E2D\u5B9A\u4E49\u7684\u53D8\u91CF\u53EB\u4F5C\u51FD\u6570\u53D8\u91CF\uFF0C\u8FD9\u4E2A\u65F6\u5019\u53EA\u80FD\u5728\u51FD\u6570\u5185\u90E8\u624D\u80FD\u8BBF\u95EE\u5230\u5B83\uFF0C\u6240\u4EE5\u5B83\u7684\u4F5C\u7528\u57DF\u4E5F\u5C31\u662F\u51FD\u6570\u7684\u5185\u90E8\uFF0C\u79F0\u4E3A\u51FD\u6570\u4F5C\u7528\u57DF</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function getName () {
  var name = &#39;inner&#39;;
  console.log(name); //inner
}
getName();
console.log(name);

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u9664\u4E86\u8FD9\u4E2A\u51FD\u6570\u5185\u90E8\uFF0C\u5176\u4ED6\u5730\u65B9\u90FD\u662F\u4E0D\u80FD\u8BBF\u95EE\u5230\u5B83\u7684\u3002\u540C\u65F6\uFF0C\u5F53\u8FD9\u4E2A\u51FD\u6570\u88AB\u6267\u884C\u5B8C\u4E4B\u540E\uFF0C\u8FD9\u4E2A\u5C40\u90E8\u53D8\u91CF\u4E5F\u76F8\u5E94\u4F1A\u88AB\u9500\u6BC1\u3002\u6240\u4EE5\u4F60\u4F1A\u770B\u5230\u5728 getName \u51FD\u6570\u5916\u9762\u7684 name \u662F\u8BBF\u95EE\u4E0D\u5230\u7684</p></blockquote><p>3. \u5757\u7EA7\u4F5C\u7528\u57DF</p><blockquote><p>ES6 \u4E2D\u65B0\u589E\u4E86\u5757\u7EA7\u4F5C\u7528\u57DF\uFF0C\u6700\u76F4\u63A5\u7684\u8868\u73B0\u5C31\u662F\u65B0\u589E\u7684 let \u5173\u952E\u8BCD\uFF0C\u4F7F\u7528 let \u5173\u952E\u8BCD\u5B9A\u4E49\u7684\u53D8\u91CF\u53EA\u80FD\u5728\u5757\u7EA7\u4F5C\u7528\u57DF\u4E2D\u88AB\u8BBF\u95EE\uFF0C\u6709&quot;\u6682\u65F6\u6027\u6B7B\u533A&quot;\u7684\u7279\u70B9\uFF0C\u4E5F\u5C31\u662F\u8BF4\u8FD9\u4E2A\u53D8\u91CF\u5728\u5B9A\u4E49\u4E4B\u524D\u662F\u4E0D\u80FD\u88AB\u4F7F\u7528\u7684\u3002</p></blockquote><p>\u5728 JS \u7F16\u7801\u8FC7\u7A0B\u4E2D\xA0<code>if \u8BED\u53E5</code>\u53CA\xA0<code>for</code>\xA0\u8BED\u53E5\u540E\u9762\xA0<code>{...}</code>\xA0\u8FD9\u91CC\u9762\u6240\u5305\u62EC\u7684\uFF0C\u5C31\u662F<code>\u5757\u7EA7\u4F5C\u7528\u57DF</code></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>console.log(a) //a is not defined
if(true){
  let a = &#39;123&#39;\uFF1B
  console.log(a)\uFF1B // 123
}
console.log(a) //a is not defined

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u4ECE\u8FD9\u6BB5\u4EE3\u7801\u53EF\u4EE5\u770B\u51FA\uFF0C\u53D8\u91CF a \u662F\u5728\xA0<code>if \u8BED\u53E5{...}</code>\xA0\u4E2D\u7531\xA0<code>let \u5173\u952E\u8BCD</code>\u8FDB\u884C\u5B9A\u4E49\u7684\u53D8\u91CF\uFF0C\u6240\u4EE5\u5B83\u7684\u4F5C\u7528\u57DF\u662F if \u8BED\u53E5\u62EC\u53F7\u4E2D\u7684\u90A3\u90E8\u5206\uFF0C\u800C\u5728\u5916\u9762\u8FDB\u884C\u8BBF\u95EE a \u53D8\u91CF\u662F\u4F1A\u62A5\u9519\u7684\uFF0C\u56E0\u4E3A\u8FD9\u91CC\u4E0D\u662F\u5B83\u7684\u4F5C\u7528\u57DF\u3002\u6240\u4EE5\u5728 if \u4EE3\u7801\u5757\u7684\u524D\u540E\u8F93\u51FA a \u8FD9\u4E2A\u53D8\u91CF\u7684\u7ED3\u679C\uFF0C\u63A7\u5236\u53F0\u4F1A\u663E\u793A a \u5E76\u6CA1\u6709\u5B9A\u4E49</p></blockquote><h3 id="_7-\u95ED\u5305" tabindex="-1"><a class="header-anchor" href="#_7-\u95ED\u5305" aria-hidden="true">#</a> 7 \u95ED\u5305</h3><blockquote><p>\u95ED\u5305\u5176\u5B9E\u5C31\u662F\u4E00\u4E2A\u53EF\u4EE5\u8BBF\u95EE\u5176\u4ED6\u51FD\u6570\u5185\u90E8\u53D8\u91CF\u7684\u51FD\u6570\u3002\u521B\u5EFA\u95ED\u5305\u7684\u6700\u5E38\u89C1\u7684\u65B9\u5F0F\u5C31\u662F\u5728\u4E00\u4E2A\u51FD\u6570\u5185\u521B\u5EFA\u53E6\u4E00\u4E2A\u51FD\u6570\uFF0C\u521B\u5EFA\u7684\u51FD\u6570\u53EF\u4EE5 \u8BBF\u95EE\u5230\u5F53\u524D\u51FD\u6570\u7684\u5C40\u90E8\u53D8\u91CF\u3002</p></blockquote><p><img src="`+p+`" alt=""></p><p>\u56E0\u4E3A\u901A\u5E38\u60C5\u51B5\u4E0B\uFF0C\u51FD\u6570\u5185\u90E8\u53D8\u91CF\u662F\u65E0\u6CD5\u5728\u5916\u90E8\u8BBF\u95EE\u7684\uFF08\u5373\u5168\u5C40\u53D8\u91CF\u548C\u5C40\u90E8\u53D8\u91CF\u7684\u533A\u522B\uFF09\uFF0C\u56E0\u6B64\u4F7F\u7528\u95ED\u5305\u7684\u4F5C\u7528\uFF0C\u5C31\u5177\u5907\u5B9E\u73B0\u4E86\u80FD\u5728\u5916\u90E8\u8BBF\u95EE\u67D0\u4E2A\u51FD\u6570\u5185\u90E8\u53D8\u91CF\u7684\u529F\u80FD\uFF0C\u8BA9\u8FD9\u4E9B\u5185\u90E8\u53D8\u91CF\u7684\u503C\u59CB\u7EC8\u53EF\u4EE5\u4FDD\u5B58\u5728\u5185\u5B58\u4E2D\u3002\u4E0B\u9762\u6211\u4EEC\u901A\u8FC7\u4EE3\u7801\u5148\u6765\u770B\u4E00\u4E2A\u7B80\u5355\u7684\u4F8B\u5B50</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function fun1() {
	var a = 1;
	return function(){
		console.log(a);
	};
}
fun1();
var result = fun1();
result();  // 1

// \u7ED3\u5408\u95ED\u5305\u7684\u6982\u5FF5\uFF0C\u6211\u4EEC\u628A\u8FD9\u6BB5\u4EE3\u7801\u653E\u5230\u63A7\u5236\u53F0\u6267\u884C\u4E00\u4E0B\uFF0C\u5C31\u53EF\u4EE5\u53D1\u73B0\u6700\u540E\u8F93\u51FA\u7684\u7ED3\u679C\u662F 1\uFF08\u5373 a \u53D8\u91CF\u7684\u503C\uFF09\u3002\u90A3\u4E48\u53EF\u4EE5\u5F88\u6E05\u695A\u5730\u53D1\u73B0\uFF0Ca \u53D8\u91CF\u4F5C\u4E3A\u4E00\u4E2A fun1 \u51FD\u6570\u7684\u5185\u90E8\u53D8\u91CF\uFF0C\u6B63\u5E38\u60C5\u51B5\u4E0B\u4F5C\u4E3A\u51FD\u6570\u5185\u7684\u5C40\u90E8\u53D8\u91CF\uFF0C\u662F\u65E0\u6CD5\u88AB\u5916\u90E8\u8BBF\u95EE\u5230\u7684\u3002\u4F46\u662F\u901A\u8FC7\u95ED\u5305\uFF0C\u6211\u4EEC\u6700\u540E\u8FD8\u662F\u53EF\u4EE5\u62FF\u5230 a \u53D8\u91CF\u7684\u503C

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u95ED\u5305\u6709\u4E24\u4E2A\u5E38\u7528\u7684\u7528\u9014</p><ul><li>\u95ED\u5305\u7684\u7B2C\u4E00\u4E2A\u7528\u9014\u662F\u4F7F\u6211\u4EEC\u5728\u51FD\u6570\u5916\u90E8\u80FD\u591F\u8BBF\u95EE\u5230\u51FD\u6570\u5185\u90E8\u7684\u53D8\u91CF\u3002\u901A\u8FC7\u4F7F\u7528\u95ED\u5305\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u5728\u5916\u90E8\u8C03\u7528\u95ED\u5305\u51FD\u6570\uFF0C\u4ECE\u800C\u5728\u5916\u90E8\u8BBF\u95EE\u5230\u51FD\u6570\u5185\u90E8\u7684\u53D8\u91CF\uFF0C\u53EF\u4EE5\u4F7F\u7528\u8FD9\u79CD\u65B9\u6CD5\u6765\u521B\u5EFA\u79C1\u6709\u53D8\u91CF\u3002</li><li>\u51FD\u6570\u7684\u53E6\u4E00\u4E2A\u7528\u9014\u662F\u4F7F\u5DF2\u7ECF\u8FD0\u884C\u7ED3\u675F\u7684\u51FD\u6570\u4E0A\u4E0B\u6587\u4E2D\u7684\u53D8\u91CF\u5BF9\u8C61\u7EE7\u7EED\u7559\u5728\u5185\u5B58\u4E2D\uFF0C\u56E0\u4E3A\u95ED\u5305\u51FD\u6570\u4FDD\u7559\u4E86\u8FD9\u4E2A\u53D8\u91CF\u5BF9\u8C61\u7684\u5F15\u7528\uFF0C\u6240\u4EE5\u8FD9\u4E2A\u53D8\u91CF\u5BF9\u8C61\u4E0D\u4F1A\u88AB\u56DE\u6536\u3002</li></ul><blockquote><p>\u5176\u5B9E\u95ED\u5305\u7684\u672C\u8D28\u5C31\u662F\u4F5C\u7528\u57DF\u94FE\u7684\u4E00\u4E2A\u7279\u6B8A\u7684\u5E94\u7528\uFF0C\u53EA\u8981\u4E86\u89E3\u4E86\u4F5C\u7528\u57DF\u94FE\u7684\u521B\u5EFA\u8FC7\u7A0B\uFF0C\u5C31\u80FD\u591F\u7406\u89E3\u95ED\u5305\u7684\u5B9E\u73B0\u539F\u7406\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>let a = 1
// fn \u662F\u95ED\u5305
function fn() {
  console.log(a);
}

function fn1() {
  let a = 1
  // \u8FD9\u91CC\u4E5F\u662F\u95ED\u5305
  return () =&gt; {
    console.log(a);
  }
}
const fn2 = fn1()
fn2()

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u5927\u5BB6\u90FD\u77E5\u9053\u95ED\u5305\u5176\u4E2D\u4E00\u4E2A\u4F5C\u7528\u662F\u8BBF\u95EE\u79C1\u6709\u53D8\u91CF\uFF0C\u5C31\u6BD4\u5982\u4E0A\u8FF0\u4EE3\u7801\u4E2D\u7684 fn2 \u8BBF\u95EE\u5230\u4E86 fn1 \u51FD\u6570\u4E2D\u7684\u53D8\u91CF a\u3002\u4F46\u662F\u6B64\u65F6 fn1 \u65E9\u5DF2\u9500\u6BC1\uFF0C\u6211\u4EEC\u662F\u5982\u4F55\u8BBF\u95EE\u5230\u53D8\u91CF a \u7684\u5462\uFF1F\u4E0D\u662F\u90FD\u8BF4\u539F\u59CB\u7C7B\u578B\u662F\u5B58\u653E\u5728\u6808\u4E0A\u7684\u4E48\uFF0C\u4E3A\u4EC0\u4E48\u6B64\u65F6\u5374\u6CA1\u6709\u88AB\u9500\u6BC1\u6389\uFF1F</li><li>\u63A5\u4E0B\u6765\u7B14\u8005\u4F1A\u6839\u636E\u6D4F\u89C8\u5668\u7684\u8868\u73B0\u6765\u91CD\u65B0\u7406\u89E3\u5173\u4E8E\u539F\u59CB\u7C7B\u578B\u5B58\u653E\u4F4D\u7F6E\u7684\u8BF4\u6CD5\u3002</li><li>\u5148\u6765\u8BF4\u4E0B\u6570\u636E\u5B58\u653E\u7684\u6B63\u786E\u89C4\u5219\u662F\uFF1A\u5C40\u90E8\u3001\u5360\u7528\u7A7A\u95F4\u786E\u5B9A\u7684\u6570\u636E\uFF0C\u4E00\u822C\u4F1A\u5B58\u653E\u5728\u6808\u4E2D\uFF0C\u5426\u5219\u5C31\u5728\u5806\u4E2D\uFF08\u4E5F\u6709\u4F8B\u5916\uFF09\u3002 \u90A3\u4E48\u63A5\u4E0B\u6765\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7 Chrome \u6765\u5E2E\u52A9\u6211\u4EEC\u9A8C\u8BC1\u8FD9\u4E2A\u8BF4\u6CD5\u8BF4\u6CD5\u3002</li></ul><p><img src="`+g+`" alt=""></p><blockquote><p>\u4E0A\u56FE\u4E2D\u753B\u7EA2\u6846\u7684\u4F4D\u7F6E\u6211\u4EEC\u80FD\u770B\u5230\u4E00\u4E2A\u5185\u90E8\u7684\u5BF9\u8C61\xA0<code>[[Scopes]]</code>\uFF0C\u5176\u4E2D\u5B58\u653E\u7740\u53D8\u91CF a\uFF0C\u8BE5\u5BF9\u8C61\u662F\u88AB\u5B58\u653E\u5728\u5806\u4E0A\u7684\uFF0C\u5176\u4E2D\u5305\u542B\u4E86\u95ED\u5305\u3001\u5168\u5C40\u5BF9\u8C61\u7B49\u7B49\u5185\u5BB9\uFF0C\u56E0\u6B64\u6211\u4EEC\u80FD\u901A\u8FC7\u95ED\u5305\u8BBF\u95EE\u5230\u672C\u8BE5\u9500\u6BC1\u7684\u53D8\u91CF\u3002</p></blockquote><p>\u53E6\u5916\u6700\u5F00\u59CB\u6211\u4EEC\u5BF9\u4E8E\u95ED\u5305\u7684\u5B9A\u4F4D\u662F\uFF1A\u5047\u5982\u4E00\u4E2A\u51FD\u6570\u80FD\u8BBF\u95EE\u5916\u90E8\u7684\u53D8\u91CF\uFF0C\u90A3\u4E48\u8FD9\u4E2A\u51FD\u6570\u5B83\u5C31\u662F\u4E00\u4E2A\u95ED\u5305\uFF0C\u56E0\u6B64\u63A5\u4E0B\u6765\u6211\u4EEC\u770B\u770B\u5728\u5168\u5C40\u4E0B\u7684\u8868\u73B0\u662F\u600E\u4E48\u6837\u7684\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>let a = 1
var b = 2
// fn \u662F\u95ED\u5305
function fn() {
  console.log(a, b);
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+x+'" alt=""></p><p>\u4ECE\u4E0A\u56FE\u6211\u4EEC\u80FD\u53D1\u73B0\u5168\u5C40\u4E0B\u58F0\u660E\u7684\u53D8\u91CF\uFF0C\u5982\u679C\u662F var \u7684\u8BDD\u5C31\u76F4\u63A5\u88AB\u6302\u5230 globe \u4E0A\uFF0C\u5982\u679C\u662F\u5176\u4ED6\u5173\u952E\u5B57\u58F0\u660E\u7684\u8BDD\u5C31\u88AB\u6302\u5230 Script \u4E0A\u3002\u867D\u7136\u8FD9\u4E9B\u5185\u5BB9\u540C\u6837\u8FD8\u662F\u5B58\u5728\xA0<code>[[Scopes]]</code>\uFF0C\u4F46\u662F\u5168\u5C40\u53D8\u91CF\u5E94\u8BE5\u662F\u5B58\u653E\u5728\u9759\u6001\u533A\u57DF\u7684\uFF0C\u56E0\u4E3A\u5168\u5C40\u53D8\u91CF\u65E0\u9700\u8FDB\u884C\u5783\u573E\u56DE\u6536\uFF0C\u7B49\u9700\u8981\u56DE\u6536\u7684\u65F6\u5019\u6574\u4E2A\u5E94\u7528\u90FD\u6CA1\u4E86\u3002</p><p>\u53EA\u6709\u5728\u4E0B\u56FE\u7684\u573A\u666F\u4E2D\uFF0C\u539F\u59CB\u7C7B\u578B\u624D\u53EF\u80FD\u662F\u88AB\u5B58\u50A8\u5728\u6808\u4E0A\u3002</p><blockquote><p>\u8FD9\u91CC\u4E3A\u4EC0\u4E48\u8981\u8BF4\u53EF\u80FD\uFF0C\u662F\u56E0\u4E3A JS \u662F\u95E8\u52A8\u6001\u7C7B\u578B\u8BED\u8A00\uFF0C\u4E00\u4E2A\u53D8\u91CF\u58F0\u660E\u65F6\u53EF\u4EE5\u662F\u539F\u59CB\u7C7B\u578B\uFF0C\u9A6C\u4E0A\u53C8\u53EF\u4EE5\u8D4B\u503C\u4E3A\u5BF9\u8C61\u7C7B\u578B\uFF0C\u7136\u540E\u53C8\u56DE\u5230\u539F\u59CB\u7C7B\u578B\u3002\u8FD9\u6837\u9891\u7E41\u7684\u5728\u5806\u6808\u4E0A\u5207\u6362\u5B58\u50A8\u4F4D\u7F6E\uFF0C\u5185\u90E8\u5F15\u64CE\u662F\u4E0D\u662F\u4E5F\u4F1A\u6709\u4EC0\u4E48\u4F18\u5316\u624B\u6BB5\uFF0C\u6216\u8005\u5E72\u8106\u5168\u90E8\u90FD\u4E22\u5806\u4E0A\uFF1F\u53EA\u6709 const \u58F0\u660E\u7684\u539F\u59CB\u7C7B\u578B\u624D\u4E00\u5B9A\u5B58\u5728\u6808\u4E0A\uFF1F\u5F53\u7136\u8FD9\u53EA\u662F\u7B14\u8005\u7684\u4E00\u4E2A\u63A8\u6D4B\uFF0C\u6682\u65F6\u6CA1\u6709\u6DF1\u7A76\uFF0C\u8BFB\u8005\u53EF\u4EE5\u5FFD\u7565\u8FD9\u6BB5\u778E\u60F3</p></blockquote><p><img src="'+f+`" alt=""></p><p>\u56E0\u6B64\u7B14\u8005\u5BF9\u4E8E\u539F\u59CB\u7C7B\u578B\u5B58\u50A8\u4F4D\u7F6E\u7684\u7406\u89E3\u4E3A\uFF1A\u5C40\u90E8\u53D8\u91CF\u624D\u662F\u88AB\u5B58\u50A8\u5728\u6808\u4E0A\uFF0C\u5168\u5C40\u53D8\u91CF\u5B58\u5728\u9759\u6001\u533A\u57DF\u4E0A\uFF0C\u5176\u5B83\u90FD\u5B58\u50A8\u5728\u5806\u4E0A\u3002</p><p>\u5F53\u7136\u8FD9\u4E2A\u7406\u89E3\u662F\u5EFA\u7ACB\u7684 Chrome \u7684\u8868\u73B0\u4E4B\u4E0A\u7684\uFF0C\u5728\u4E0D\u540C\u7684\u6D4F\u89C8\u5668\u4E0A\u56E0\u4E3A\u5F15\u64CE\u7684\u4E0D\u540C\uFF0C\u53EF\u80FD\u5B58\u50A8\u7684\u65B9\u5F0F\u8FD8\u662F\u6709\u6240\u53D8\u5316\u7684\u3002</p><p>\u95ED\u5305\u4EA7\u751F\u7684\u539F\u56E0</p><blockquote><p>\u6211\u4EEC\u5728\u524D\u9762\u4ECB\u7ECD\u4E86\u4F5C\u7528\u57DF\u7684\u6982\u5FF5\uFF0C\u90A3\u4E48\u4F60\u8FD8\u9700\u8981\u660E\u767D\u4F5C\u7528\u57DF\u94FE\u7684\u57FA\u672C\u6982\u5FF5\u3002\u5176\u5B9E\u5F88\u7B80\u5355\uFF0C\u5F53\u8BBF\u95EE\u4E00\u4E2A\u53D8\u91CF\u65F6\uFF0C\u4EE3\u7801\u89E3\u91CA\u5668\u4F1A\u9996\u5148\u5728\u5F53\u524D\u7684\u4F5C\u7528\u57DF\u67E5\u627E\uFF0C\u5982\u679C\u6CA1\u627E\u5230\uFF0C\u5C31\u53BB\u7236\u7EA7\u4F5C\u7528\u57DF\u53BB\u67E5\u627E\uFF0C\u76F4\u5230\u627E\u5230\u8BE5\u53D8\u91CF\u6216\u8005\u4E0D\u5B58\u5728\u7236\u7EA7\u4F5C\u7528\u57DF\u4E2D\uFF0C\u8FD9\u6837\u7684\u94FE\u8DEF\u5C31\u662F\u4F5C\u7528\u57DF\u94FE</p></blockquote><p>\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u6BCF\u4E00\u4E2A\u5B50\u51FD\u6570\u90FD\u4F1A\u62F7\u8D1D\u4E0A\u7EA7\u7684\u4F5C\u7528\u57DF\uFF0C\u5F62\u6210\u4E00\u4E2A\u4F5C\u7528\u57DF\u7684\u94FE\u6761\u3002\u90A3\u4E48\u6211\u4EEC\u8FD8\u662F\u901A\u8FC7\u4E0B\u9762\u7684\u4EE3\u7801\u6765\u8BE6\u7EC6\u8BF4\u660E\u4E00\u4E0B\u4F5C\u7528\u57DF\u94FE</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var a = 1;
function fun1() {
  var a = 2
  function fun2() {
    var a = 3;
    console.log(a);//3
  }
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u4ECE\u4E2D\u53EF\u4EE5\u770B\u51FA\uFF0Cfun1 \u51FD\u6570\u7684\u4F5C\u7528\u57DF\u6307\u5411\u5168\u5C40\u4F5C\u7528\u57DF\uFF08window\uFF09\u548C\u5B83\u81EA\u5DF1\u672C\u8EAB\uFF1Bfun2 \u51FD\u6570\u7684\u4F5C\u7528\u57DF\u6307\u5411\u5168\u5C40\u4F5C\u7528\u57DF \uFF08window\uFF09\u3001fun1 \u548C\u5B83\u672C\u8EAB\uFF1B\u800C\u4F5C\u7528\u57DF\u662F\u4ECE\u6700\u5E95\u5C42\u5411\u4E0A\u627E\uFF0C\u76F4\u5230\u627E\u5230\u5168\u5C40\u4F5C\u7528\u57DF window \u4E3A\u6B62\uFF0C\u5982\u679C\u5168\u5C40\u8FD8\u6CA1\u6709\u7684\u8BDD\u5C31\u4F1A\u62A5\u9519\u3002</li><li>\u90A3\u4E48\u8FD9\u5C31\u5F88\u5F62\u8C61\u5730\u8BF4\u660E\u4E86\u4EC0\u4E48\u662F\u4F5C\u7528\u57DF\u94FE\uFF0C\u5373\u5F53\u524D\u51FD\u6570\u4E00\u822C\u90FD\u4F1A\u5B58\u5728\u4E0A\u5C42\u51FD\u6570\u7684\u4F5C\u7528\u57DF\u7684\u5F15\u7528\uFF0C\u90A3\u4E48\u4ED6\u4EEC\u5C31\u5F62\u6210\u4E86\u4E00\u6761\u4F5C\u7528\u57DF\u94FE\u3002</li><li>\u7531\u6B64\u53EF\u89C1\uFF0C<code>\u95ED\u5305\u4EA7\u751F\u7684\u672C\u8D28\u5C31\u662F\uFF1A\u5F53\u524D\u73AF\u5883\u4E2D\u5B58\u5728\u6307\u5411\u7236\u7EA7\u4F5C\u7528\u57DF\u7684\u5F15\u7528</code>\u3002\u90A3\u4E48\u8FD8\u662F\u62FF\u4E0A\u7684\u4EE3\u7801\u4E3E\u4F8B\u3002</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function fun1() {
  var a = 2
  function fun2() {
    console.log(a);  //2
  }
  return fun2;
}
var result = fun1();
result();

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u4ECE\u4E0A\u9762\u8FD9\u6BB5\u4EE3\u7801\u53EF\u4EE5\u770B\u51FA\uFF0C\u8FD9\u91CC result \u4F1A\u62FF\u5230\u7236\u7EA7\u4F5C\u7528\u57DF\u4E2D\u7684\u53D8\u91CF\uFF0C\u8F93\u51FA 2\u3002\u56E0\u4E3A\u5728\u5F53\u524D\u73AF\u5883\u4E2D\uFF0C\u542B\u6709\u5BF9 fun2 \u51FD\u6570\u7684\u5F15\u7528\uFF0Cfun2 \u51FD\u6570\u6070\u6070\u5F15\u7528\u4E86 window\u3001fun1 \u548C fun2 \u7684\u4F5C\u7528\u57DF\u3002\u56E0\u6B64 fun2 \u51FD\u6570\u662F\u53EF\u4EE5\u8BBF\u95EE\u5230 fun1 \u51FD\u6570\u7684\u4F5C\u7528\u57DF\u7684\u53D8\u91CF\u3002</li><li>\u90A3\u662F\u4E0D\u662F\u53EA\u6709\u8FD4\u56DE\u51FD\u6570\u624D\u7B97\u662F\u4EA7\u751F\u4E86\u95ED\u5305\u5462\uFF1F\u5176\u5B9E\u4E5F\u4E0D\u662F\uFF0C\u56DE\u5230\u95ED\u5305\u7684\u672C\u8D28\uFF0C\u6211\u4EEC\u53EA\u9700\u8981\u8BA9\u7236\u7EA7\u4F5C\u7528\u57DF\u7684\u5F15\u7528\u5B58\u5728\u5373\u53EF\uFF0C\u56E0\u6B64\u8FD8\u53EF\u4EE5\u8FD9\u4E48\u6539\u4EE3\u7801\uFF0C\u5982\u4E0B\u6240\u793A</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var fun3;
function fun1() {
  var a = 2
  fun3 = function() {
    console.log(a);
  }
}
fun1();
fun3();

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u53EF\u4EE5\u770B\u51FA\uFF0C\u5176\u4E2D\u5B9E\u73B0\u7684\u7ED3\u679C\u548C\u524D\u4E00\u6BB5\u4EE3\u7801\u7684\u6548\u679C\u5176\u5B9E\u662F\u4E00\u6837\u7684\uFF0C\u5C31\u662F\u5728\u7ED9 fun3 \u51FD\u6570\u8D4B\u503C\u540E\uFF0Cfun3 \u51FD\u6570\u5C31\u62E5\u6709\u4E86 window\u3001fun1 \u548C fun3 \u672C\u8EAB\u8FD9\u51E0\u4E2A\u4F5C\u7528\u57DF\u7684\u8BBF\u95EE\u6743\u9650\uFF1B\u7136\u540E\u8FD8\u662F\u4ECE\u4E0B\u5F80\u4E0A\u67E5\u627E\uFF0C\u76F4\u5230\u627E\u5230 fun1 \u7684\u4F5C\u7528\u57DF\u4E2D\u5B58\u5728 a \u8FD9\u4E2A\u53D8\u91CF\uFF1B\u56E0\u6B64\u8F93\u51FA\u7684\u7ED3\u679C\u8FD8\u662F 2\uFF0C\u6700\u540E\u4EA7\u751F\u4E86\u95ED\u5305\uFF0C\u5F62\u5F0F\u53D8\u4E86\uFF0C\u672C\u8D28\u6CA1\u6709\u6539\u53D8\u3002</p></blockquote><p>\u56E0\u6B64\u6700\u540E<code>\u8FD4\u56DE\u7684\u4E0D\u7BA1\u662F\u4E0D\u662F\u51FD\u6570\uFF0C\u4E5F\u90FD\u4E0D\u80FD\u8BF4\u660E\u6CA1\u6709\u4EA7\u751F\u95ED\u5305</code></p><p>\u95ED\u5305\u7684\u8868\u73B0\u5F62\u5F0F</p><ol><li>\u8FD4\u56DE\u4E00\u4E2A\u51FD\u6570</li><li><code>\u5728\u5B9A\u65F6\u5668\u3001\u4E8B\u4EF6\u76D1\u542C\u3001Ajax \u8BF7\u6C42\u3001Web Workers \u6216\u8005\u4EFB\u4F55\u5F02\u6B65\u4E2D\uFF0C\u53EA\u8981\u4F7F\u7528\u4E86\u56DE\u8C03\u51FD\u6570\uFF0C\u5B9E\u9645\u4E0A\u5C31\u662F\u5728\u4F7F\u7528\u95ED\u5305</code>\u3002\u8BF7\u770B\u4E0B\u9762\u8FD9\u6BB5\u4EE3\u7801\uFF0C\u8FD9\u4E9B\u90FD\u662F\u5E73\u5E38\u5F00\u53D1\u4E2D\u7528\u5230\u7684\u5F62\u5F0F</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// \u5B9A\u65F6\u5668
setTimeout(function handler(){
  console.log(&#39;1&#39;);
}\uFF0C1000);
// \u4E8B\u4EF6\u76D1\u542C
$(&#39;#app&#39;).click(function(){
  console.log(&#39;Event Listener&#39;);
});

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>\u4F5C\u4E3A\u51FD\u6570\u53C2\u6570\u4F20\u9012\u7684\u5F62\u5F0F\uFF0C\u6BD4\u5982\u4E0B\u9762\u7684\u4F8B\u5B50\u3002</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var a = 1;
function foo(){
  var a = 2;
  function baz(){
    console.log(a);
  }
  bar(baz);
}
function bar(fn){
  // \u8FD9\u5C31\u662F\u95ED\u5305
  fn();
}
foo();  // \u8F93\u51FA2\uFF0C\u800C\u4E0D\u662F1

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li><code>IIFE\uFF08\u7ACB\u5373\u6267\u884C\u51FD\u6570\uFF09\uFF0C\u521B\u5EFA\u4E86\u95ED\u5305\uFF0C\u4FDD\u5B58\u4E86\u5168\u5C40\u4F5C\u7528\u57DF\uFF08window\uFF09\u548C\u5F53\u524D\u51FD\u6570\u7684\u4F5C\u7528\u57DF</code>\uFF0C\u56E0\u6B64\u53EF\u4EE5\u8F93\u51FA\u5168\u5C40\u7684\u53D8\u91CF\uFF0C\u5982\u4E0B\u6240\u793A</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var a = 2;
(function IIFE(){
  console.log(a);  // \u8F93\u51FA2
})();

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>IIFE \u8FD9\u4E2A\u51FD\u6570\u4F1A\u7A0D\u5FAE\u6709\u4E9B\u7279\u6B8A\uFF0C\u7B97\u662F\u4E00\u79CD\u81EA\u6267\u884C\u533F\u540D\u51FD\u6570\uFF0C\u8FD9\u4E2A\u533F\u540D\u51FD\u6570\u62E5\u6709\u72EC\u7ACB\u7684\u4F5C\u7528\u57DF\u3002\u8FD9\u4E0D\u4EC5\u53EF\u4EE5\u907F\u514D\u4E86\u5916\u754C\u8BBF\u95EE\u6B64 IIFE \u4E2D\u7684\u53D8\u91CF\uFF0C\u800C\u4E14\u53C8\u4E0D\u4F1A\u6C61\u67D3\u5168\u5C40\u4F5C\u7528\u57DF\uFF0C\u6211\u4EEC\u7ECF\u5E38\u80FD\u5728\u9AD8\u7EA7\u7684 JavaScript \u7F16\u7A0B\u4E2D\u770B\u89C1\u6B64\u7C7B\u51FD\u6570\u3002</p></blockquote><p>\u5982\u4F55\u89E3\u51B3\u5FAA\u73AF\u8F93\u51FA\u95EE\u9898\uFF1F</p><blockquote><p>\u5728\u4E92\u8054\u7F51\u5927\u5382\u7684\u9762\u8BD5\u4E2D\uFF0C\u89E3\u51B3\u5FAA\u73AF\u8F93\u51FA\u95EE\u9898\u662F\u6BD4\u8F83\u9AD8\u9891\u7684\u9762\u8BD5\u9898\uFF0C\u4E00\u822C\u90FD\u4F1A\u7ED9\u4E00\u6BB5\u8FD9\u6837\u7684\u4EE3\u7801\u8BA9\u4F60\u6765\u89E3\u91CA</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>for(var i = 1; i &lt;= 5; i ++){
  setTimeout(function() {
    console.log(i)
  }, 0)
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0A\u9762\u8FD9\u6BB5\u4EE3\u7801\u6267\u884C\u4E4B\u540E\uFF0C\u4ECE\u63A7\u5236\u53F0\u6267\u884C\u7684\u7ED3\u679C\u53EF\u4EE5\u770B\u51FA\u6765\uFF0C\u7ED3\u679C\u8F93\u51FA\u7684\u662F 5 \u4E2A 6\uFF0C\u90A3\u4E48\u4E00\u822C\u9762\u8BD5\u5B98\u90FD\u4F1A\u5148\u95EE\u4E3A\u4EC0\u4E48\u90FD\u662F 6\uFF1F\u6211\u60F3\u8BA9\u4F60\u5B9E\u73B0\u8F93\u51FA 1\u30012\u30013\u30014\u30015 \u7684\u8BDD\u600E\u4E48\u529E\u5462\uFF1F</p><p>\u56E0\u6B64\u7ED3\u5408\u672C\u8BB2\u6240\u5B66\u7684\u77E5\u8BC6\u6211\u4EEC\u6765\u601D\u8003\u4E00\u4E0B\uFF0C\u5E94\u8BE5\u600E\u4E48\u7ED9\u9762\u8BD5\u5B98\u4E00\u4E2A\u6EE1\u610F\u7684\u89E3\u91CA\u3002\u4F60\u53EF\u4EE5\u56F4\u7ED5\u8FD9\u4E24\u70B9\u6765\u56DE\u7B54\u3002</p><ul><li><code>setTimeout</code>\xA0\u4E3A\u5B8F\u4EFB\u52A1\uFF0C\u7531\u4E8E JS \u4E2D\u5355\u7EBF\u7A0B\xA0<code>eventLoop \u673A\u5236</code>\uFF0C\u5728\u4E3B\u7EBF\u7A0B\u540C\u6B65\u4EFB\u52A1\u6267\u884C\u5B8C\u540E\u624D\u53BB\u6267\u884C\u5B8F\u4EFB\u52A1\uFF0C\u56E0\u6B64<code>\u5FAA\u73AF\u7ED3\u675F\u540E setTimeout \u4E2D\u7684\u56DE\u8C03\u624D\u4F9D\u6B21\u6267\u884C</code></li><li>\u56E0\u4E3A\xA0<code>setTimeout</code>\xA0\u51FD\u6570\u4E5F\u662F\u4E00\u79CD\u95ED\u5305\uFF0C\u5F80\u4E0A\u627E\u5B83\u7684<code>\u7236\u7EA7\u4F5C\u7528\u57DF\u94FE\u5C31\u662F window</code>\uFF0C<code>\u53D8\u91CF i \u4E3A window \u4E0A\u7684\u5168\u5C40\u53D8\u91CF</code>\uFF0C\u5F00\u59CB\u6267\u884C setTimeout \u4E4B\u524D\u53D8\u91CF i \u5DF2\u7ECF\u5C31\u662F 6 \u4E86\uFF0C\u56E0\u6B64\u6700\u540E\u8F93\u51FA\u7684\u8FDE\u7EED\u5C31\u90FD\u662F 6\u3002</li></ul><blockquote><p>\u90A3\u4E48\u6211\u4EEC\u518D\u6765\u770B\u770B\u5982\u4F55\u6309\u987A\u5E8F\u4F9D\u6B21\u8F93\u51FA 1\u30012\u30013\u30014\u30015 \u5462\uFF1F</p></blockquote><ol><li>\u5229\u7528 IIFE</li></ol><blockquote><p>\u53EF\u4EE5\u5229\u7528 IIFE\uFF08\u7ACB\u5373\u6267\u884C\u51FD\u6570\uFF09\uFF0C\u5F53\u6BCF\u6B21 for \u5FAA\u73AF\u65F6\uFF0C\u628A\u6B64\u65F6\u7684\u53D8\u91CF i \u4F20\u9012\u5230\u5B9A\u65F6\u5668\u4E2D\uFF0C\u7136\u540E\u6267\u884C\uFF0C\u6539\u9020\u4E4B\u540E\u7684\u4EE3\u7801\u5982\u4E0B\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>for(var i = 1;i &lt;= 5;i++){
  (function(j){
    setTimeout(function timer(){
      console.log(j)
    }, 0)
  })(i)
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>\u4F7F\u7528 ES6 \u4E2D\u7684 let</li></ol><blockquote><p>ES6 \u4E2D\u65B0\u589E\u7684 let \u5B9A\u4E49\u53D8\u91CF\u7684\u65B9\u5F0F\uFF0C\u4F7F\u5F97 ES6 \u4E4B\u540E JS \u53D1\u751F\u9769\u547D\u6027\u7684\u53D8\u5316\uFF0C\u8BA9 JS \u6709\u4E86\u5757\u7EA7\u4F5C\u7528\u57DF\uFF0C\u4EE3\u7801\u7684\u4F5C\u7528\u57DF\u4EE5\u5757\u7EA7\u4E3A\u5355\u4F4D\u8FDB\u884C\u6267\u884C\u3002\u901A\u8FC7\u6539\u9020\u540E\u7684\u4EE3\u7801\uFF0C\u53EF\u4EE5\u5B9E\u73B0\u4E0A\u9762\u60F3\u8981\u7684\u7ED3\u679C\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>for(let i = 1; i &lt;= 5; i++){
  setTimeout(function() {
    console.log(i);
  },0)
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>\u5B9A\u65F6\u5668\u4F20\u5165\u7B2C\u4E09\u4E2A\u53C2\u6570</li></ol><blockquote><p>setTimeout \u4F5C\u4E3A\u7ECF\u5E38\u4F7F\u7528\u7684\u5B9A\u65F6\u5668\uFF0C\u5B83\u662F\u5B58\u5728\u7B2C\u4E09\u4E2A\u53C2\u6570\u7684\uFF0C\u65E5\u5E38\u5DE5\u4F5C\u4E2D\u6211\u4EEC\u7ECF\u5E38\u4F7F\u7528\u7684\u4E00\u822C\u662F\u524D\u4E24\u4E2A\uFF0C\u4E00\u4E2A\u662F\u56DE\u8C03\u51FD\u6570\uFF0C\u53E6\u5916\u4E00\u4E2A\u662F\u65F6\u95F4\uFF0C\u800C\u7B2C\u4E09\u4E2A\u53C2\u6570\u7528\u5F97\u6BD4\u8F83\u5C11\u3002\u90A3\u4E48\u7ED3\u5408\u7B2C\u4E09\u4E2A\u53C2\u6570\uFF0C\u8C03\u6574\u5B8C\u4E4B\u540E\u7684\u4EE3\u7801\u5982\u4E0B\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>for(var i=1;i&lt;=5;i++){
  setTimeout(function(j) {
    console.log(j)
  }, 0, i)
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4ECE\u4E2D\u53EF\u4EE5\u770B\u5230\uFF0C\u7B2C\u4E09\u4E2A\u53C2\u6570\u7684\u4F20\u9012\uFF0C\u53EF\u4EE5\u6539\u53D8 setTimeout \u7684\u6267\u884C\u903B\u8F91\uFF0C\u4ECE\u800C\u5B9E\u73B0\u6211\u4EEC\u60F3\u8981\u7684\u7ED3\u679C\uFF0C\u8FD9\u4E5F\u662F\u4E00\u79CD\u89E3\u51B3\u5FAA\u73AF\u8F93\u51FA\u95EE\u9898\u7684\u9014\u5F84</p><p>\u5E38\u89C1\u8003\u70B9</p><ul><li>\u95ED\u5305\u80FD\u8003\u7684\u5F88\u591A\uFF0C\u6982\u5FF5\u548C\u7B14\u8BD5\u9898\u90FD\u4F1A\u8003\u3002</li><li>\u6982\u5FF5\u9898\u5C31\u662F\u8003\u8003\u95ED\u5305\u662F\u4EC0\u4E48\u4E86\u3002</li><li>\u7B14\u8BD5\u9898\u7684\u8BDD\u57FA\u672C\u90FD\u4F1A\u7ED3\u5408\u4E0A\u5F02\u6B65\uFF0C\u6BD4\u5982\u6700\u5E38\u89C1\u7684\uFF1A</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>for (var i = 0; i &lt; 6; i++) {
  setTimeout(() =&gt; {
    console.log(i)
  })
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u9053\u9898\u4F1A\u95EE\u8F93\u51FA\u4EC0\u4E48\uFF0C\u6709\u54EA\u51E0\u79CD\u65B9\u5F0F\u53EF\u4EE5\u5F97\u5230\u60F3\u8981\u7684\u7B54\u6848\uFF1F</p><h3 id="_8-new\u7684\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#_8-new\u7684\u539F\u7406" aria-hidden="true">#</a> 8 New\u7684\u539F\u7406</h3><p>\u5E38\u89C1\u8003\u70B9</p><ul><li><code>new</code>\xA0\u505A\u4E86\u90A3\u4E9B\u4E8B\uFF1F</li><li><code>new</code>\xA0\u8FD4\u56DE\u4E0D\u540C\u7684\u7C7B\u578B\u65F6\u4F1A\u6709\u4EC0\u4E48\u8868\u73B0\uFF1F</li><li>\u624B\u5199 new \u7684\u5B9E\u73B0\u8FC7\u7A0B</li></ul><blockquote><p>new \u5173\u952E\u8BCD\u7684<code>\u4E3B\u8981\u4F5C\u7528\u5C31\u662F\u6267\u884C\u4E00\u4E2A\u6784\u9020\u51FD\u6570\u3001\u8FD4\u56DE\u4E00\u4E2A\u5B9E\u4F8B\u5BF9\u8C61</code>\uFF0C\u5728 new \u7684\u8FC7\u7A0B\u4E2D\uFF0C\u6839\u636E\u6784\u9020\u51FD\u6570\u7684\u60C5\u51B5\uFF0C\u6765\u786E\u5B9A\u662F\u5426\u53EF\u4EE5\u63A5\u53D7\u53C2\u6570\u7684\u4F20\u9012\u3002\u4E0B\u9762\u6211\u4EEC\u901A\u8FC7\u4E00\u6BB5\u4EE3\u7801\u6765\u770B\u4E00\u4E2A\u7B80\u5355\u7684 new \u7684\u4F8B\u5B50</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function Person(){
   this.name = &#39;Jack&#39;;
}
var p = new Person();
console.log(p.name)  // Jack

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u6BB5\u4EE3\u7801\u6BD4\u8F83\u5BB9\u6613\u7406\u89E3\uFF0C\u4ECE\u8F93\u51FA\u7ED3\u679C\u53EF\u4EE5\u770B\u51FA\uFF0Cp \u662F\u4E00\u4E2A\u901A\u8FC7 person \u8FD9\u4E2A\u6784\u9020\u51FD\u6570\u751F\u6210\u7684\u4E00\u4E2A\u5B9E\u4F8B\u5BF9\u8C61\uFF0C\u8FD9\u4E2A\u5E94\u8BE5\u5F88\u5BB9\u6613\u7406\u89E3\u3002</p><blockquote><p><code>new</code>\xA0\u64CD\u4F5C\u7B26\u53EF\u4EE5\u5E2E\u52A9\u6211\u4EEC\u6784\u5EFA\u51FA\u4E00\u4E2A\u5B9E\u4F8B\uFF0C\u5E76\u4E14\u7ED1\u5B9A\u4E0A this\uFF0C\u5185\u90E8\u6267\u884C\u6B65\u9AA4\u53EF\u5927\u6982\u5206\u4E3A\u4EE5\u4E0B\u51E0\u6B65\uFF1A</p></blockquote><ol><li>\u521B\u5EFA\u4E00\u4E2A\u65B0\u5BF9\u8C61</li><li>\u5BF9\u8C61\u8FDE\u63A5\u5230\u6784\u9020\u51FD\u6570\u539F\u578B\u4E0A\uFF0C\u5E76\u7ED1\u5B9A\xA0<code>this</code>\uFF08this \u6307\u5411\u65B0\u5BF9\u8C61\uFF09</li><li>\u6267\u884C\u6784\u9020\u51FD\u6570\u4EE3\u7801\uFF08\u4E3A\u8FD9\u4E2A\u65B0\u5BF9\u8C61\u6DFB\u52A0\u5C5E\u6027\uFF09</li><li>\u8FD4\u56DE\u65B0\u5BF9\u8C61</li></ol><p>\u5728\u7B2C\u56DB\u6B65\u8FD4\u56DE\u65B0\u5BF9\u8C61\u8FD9\u8FB9\u6709\u4E00\u4E2A\u60C5\u51B5\u4F1A\u4F8B\u5916\uFF1A</p><blockquote><p>\u90A3\u4E48\u95EE\u9898\u6765\u4E86\uFF0C\u5982\u679C\u4E0D\u7528\xA0<code>new</code>\xA0\u8FD9\u4E2A\u5173\u952E\u8BCD\uFF0C\u7ED3\u5408\u4E0A\u9762\u7684\u4EE3\u7801\u6539\u9020\u4E00\u4E0B\uFF0C\u53BB\u6389\xA0<code>new</code>\uFF0C\u4F1A\u53D1\u751F\u4EC0\u4E48\u6837\u7684\u53D8\u5316\u5462\uFF1F\u6211\u4EEC\u518D\u6765\u770B\u4E0B\u9762\u8FD9\u6BB5\u4EE3\u7801</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function Person(){
  this.name = &#39;Jack&#39;;
}
var p = Person();
console.log(p) // undefined
console.log(name) // Jack
console.log(p.name) // &#39;name&#39; of undefined

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u4ECE\u4E0A\u9762\u7684\u4EE3\u7801\u4E2D\u53EF\u4EE5\u770B\u5230\uFF0C\u6211\u4EEC\u6CA1\u6709\u4F7F\u7528\xA0<code>new</code>\xA0\u8FD9\u4E2A\u5173\u952E\u8BCD\uFF0C\u8FD4\u56DE\u7684\u7ED3\u679C\u5C31\u662F\xA0<code>undefined</code>\u3002\u5176\u4E2D\u7531\u4E8E\xA0<code>JavaScript</code>\xA0\u4EE3\u7801\u5728\u9ED8\u8BA4\u60C5\u51B5\u4E0B\xA0<code>this</code>\xA0\u7684\u6307\u5411\u662F\xA0<code>window</code>\uFF0C\u90A3\u4E48\xA0<code>name</code>\xA0\u7684\u8F93\u51FA\u7ED3\u679C\u5C31\u4E3A\xA0<code>Jack</code>\uFF0C\u8FD9\u662F\u4E00\u79CD\u4E0D\u5B58\u5728\xA0<code>new</code>\xA0\u5173\u952E\u8BCD\u7684\u60C5\u51B5\u3002</li><li>\u90A3\u4E48\u5F53\u6784\u9020\u51FD\u6570\u4E2D\u6709\xA0<code>return</code>\xA0\u4E00\u4E2A\u5BF9\u8C61\u7684\u64CD\u4F5C\uFF0C\u7ED3\u679C\u53C8\u4F1A\u662F\u4EC0\u4E48\u6837\u5B50\u5462\uFF1F\u6211\u4EEC\u518D\u6765\u770B\u4E00\u6BB5\u5728\u4E0A\u9762\u7684\u57FA\u7840\u4E0A\u6539\u9020\u8FC7\u7684\u4EE3\u7801\u3002</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function Person(){
   this.name = &#39;Jack&#39;;
   return {age: 18}
}
var p = new Person();
console.log(p)  // {age: 18}
console.log(p.name) // undefined
console.log(p.age) // 18

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u901A\u8FC7\u8FD9\u6BB5\u4EE3\u7801\u53C8\u53EF\u4EE5\u770B\u51FA\uFF0C\u5F53\u6784\u9020\u51FD\u6570\u6700\u540E\xA0<code>return</code>\xA0\u51FA\u6765\u7684\u662F\u4E00\u4E2A\u548C\xA0<code>this</code>\xA0\u65E0\u5173\u7684\u5BF9\u8C61\u65F6\uFF0C<code>new \u547D\u4EE4\u4F1A\u76F4\u63A5\u8FD4\u56DE\u8FD9\u4E2A\u65B0\u5BF9\u8C61</code>\uFF0C<code>\u800C\u4E0D\u662F\u901A\u8FC7 new \u6267\u884C\u6B65\u9AA4\u751F\u6210\u7684 this \u5BF9\u8C61</code></p></blockquote><p>\u4F46\u662F\u8FD9\u91CC\u8981\u6C42\u6784\u9020\u51FD\u6570\u5FC5\u987B\u662F\u8FD4\u56DE\u4E00\u4E2A\u5BF9\u8C61\uFF0C<code>\u5982\u679C\u8FD4\u56DE\u7684\u4E0D\u662F\u5BF9\u8C61\uFF0C\u90A3\u4E48\u8FD8\u662F\u4F1A\u6309\u7167 new \u7684\u5B9E\u73B0\u6B65\u9AA4\uFF0C\u8FD4\u56DE\u65B0\u751F\u6210\u7684\u5BF9\u8C61</code>\u3002\u63A5\u4E0B\u6765\u8FD8\u662F\u5728\u4E0A\u9762\u8FD9\u6BB5\u4EE3\u7801\u7684\u57FA\u7840\u4E4B\u4E0A\u7A0D\u5FAE\u6539\u52A8\u4E00\u4E0B</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function Person(){
   this.name = &#39;Jack&#39;;
   return &#39;tom&#39;;
}
var p = new Person();
console.log(p)  // {name: &#39;Jack&#39;}
console.log(p.name) // Jack

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53EF\u4EE5\u770B\u51FA\uFF0C\u5F53\u6784\u9020\u51FD\u6570\u4E2D\xA0<code>return</code>\xA0\u7684\u4E0D\u662F\u4E00\u4E2A\u5BF9\u8C61\u65F6\uFF0C\u90A3\u4E48\u5B83\u8FD8\u662F\u4F1A\u6839\u636E\xA0<code>new</code>\xA0\u5173\u952E\u8BCD\u7684\u6267\u884C\u903B\u8F91\uFF0C\u751F\u6210\u4E00\u4E2A\u65B0\u7684\u5BF9\u8C61\uFF08\u7ED1\u5B9A\u4E86\u6700\u65B0\xA0<code>this</code>\uFF09\uFF0C\u6700\u540E\u8FD4\u56DE\u51FA\u6765</p><blockquote><p>\u56E0\u6B64\u6211\u4EEC\u603B\u7ED3\u4E00\u4E0B\uFF1A<code>new \u5173\u952E\u8BCD\u6267\u884C\u4E4B\u540E\u603B\u662F\u4F1A\u8FD4\u56DE\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u8981\u4E48\u662F\u5B9E\u4F8B\u5BF9\u8C61\uFF0C\u8981\u4E48\u662F return \u8BED\u53E5\u6307\u5B9A\u7684\u5BF9\u8C61</code></p></blockquote><p><img src="`+h+`" alt=""></p><p>\u624B\u5DE5\u5B9E\u73B0New\u7684\u8FC7\u7A0B</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function create(fn, ...args) {
  if(typeof fn !== &#39;function&#39;) {
    throw &#39;fn must be a function&#39;;
  }
	// 1\u3001\u7528new Object() \u7684\u65B9\u5F0F\u65B0\u5EFA\u4E86\u4E00\u4E2A\u5BF9\u8C61obj
  // var obj = new Object()
	// 2\u3001\u7ED9\u8BE5\u5BF9\u8C61\u7684__proto__\u8D4B\u503C\u4E3Afn.prototype\uFF0C\u5373\u8BBE\u7F6E\u539F\u578B\u94FE
  // obj.__proto__ = fn.prototype

  // 1\u30012\u6B65\u9AA4\u5408\u5E76
  // \u521B\u5EFA\u4E00\u4E2A\u7A7A\u5BF9\u8C61\uFF0C\u4E14\u8FD9\u4E2A\u7A7A\u5BF9\u8C61\u7EE7\u627F\u6784\u9020\u51FD\u6570\u7684 prototype \u5C5E\u6027
  // \u5373\u5B9E\u73B0 obj.__proto__ === constructor.prototype
  var obj = Object.create(fn.prototype);

	// 3\u3001\u6267\u884Cfn\uFF0C\u5E76\u5C06obj\u4F5C\u4E3A\u5185\u90E8this\u3002\u4F7F\u7528 apply\uFF0C\u6539\u53D8\u6784\u9020\u51FD\u6570 this \u7684\u6307\u5411\u5230\u65B0\u5EFA\u7684\u5BF9\u8C61\uFF0C\u8FD9\u6837 obj \u5C31\u53EF\u4EE5\u8BBF\u95EE\u5230\u6784\u9020\u51FD\u6570\u4E2D\u7684\u5C5E\u6027
  var res = fn.apply(obj, args);
	// 4\u3001\u5982\u679Cfn\u6709\u8FD4\u56DE\u503C\uFF0C\u5219\u5C06\u5176\u4F5C\u4E3Anew\u64CD\u4F5C\u8FD4\u56DE\u5185\u5BB9\uFF0C\u5426\u5219\u8FD4\u56DEobj
	return res instanceof Object ? res : obj;
};

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u4F7F\u7528\xA0<code>Object.create</code>\xA0\u5C06\xA0<code>obj \u7684</code>proto<code>\u6307\u5411\u4E3A\u6784\u9020\u51FD\u6570\u7684\u539F\u578B</code>\uFF1B</li><li>\u4F7F\u7528\xA0<code>apply</code>\xA0\u65B9\u6CD5\uFF0C\u5C06\u6784\u9020\u51FD\u6570\u5185\u7684\xA0<code>this</code>\xA0\u6307\u5411\u4E3A\xA0<code>obj</code>\uFF1B</li><li>\u5728\xA0<code>create</code>\xA0\u8FD4\u56DE\u65F6\uFF0C\u4F7F\u7528\u4E09\u76EE\u8FD0\u7B97\u7B26\u51B3\u5B9A\u8FD4\u56DE\u7ED3\u679C\u3002</li></ul><p>\u6211\u4EEC\u77E5\u9053\uFF0C<code>\u6784\u9020\u51FD\u6570\u5982\u679C\u6709\u663E\u5F0F\u8FD4\u56DE\u503C\uFF0C\u4E14\u8FD4\u56DE\u503C\u4E3A\u5BF9\u8C61\u7C7B\u578B\uFF0C\u90A3\u4E48\u6784\u9020\u51FD\u6570\u8FD4\u56DE\u7ED3\u679C\u4E0D\u518D\u662F\u76EE\u6807\u5B9E\u4F8B</code></p><p>\u5982\u4E0B\u4EE3\u7801\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function Person(name) {
  this.name = name
  return {1: 1}
}
const person = new Person(Person, &#39;lucas&#39;)
console.log(person)
// {1: 1}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6D4B\u8BD5</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>//\u4F7F\u7528create\u4EE3\u66FFnew
function Person() {...}
// \u4F7F\u7528\u5185\u7F6E\u51FD\u6570new
var person = new Person(1,2)

// \u4F7F\u7528\u624B\u5199\u7684new\uFF0C\u5373create
var person = create(Person, 1,2)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>new \u88AB\u8C03\u7528\u540E\u5927\u81F4\u505A\u4E86\u54EA\u51E0\u4EF6\u4E8B\u60C5</p><ul><li>\u8BA9\u5B9E\u4F8B\u53EF\u4EE5\u8BBF\u95EE\u5230\u79C1\u6709\u5C5E\u6027\uFF1B</li><li>\u8BA9\u5B9E\u4F8B\u53EF\u4EE5\u8BBF\u95EE\u6784\u9020\u51FD\u6570\u539F\u578B\uFF08<code>constructor.prototype</code>\uFF09\u6240\u5728\u539F\u578B\u94FE\u4E0A\u7684\u5C5E\u6027\uFF1B</li><li>\u6784\u9020\u51FD\u6570\u8FD4\u56DE\u7684\u6700\u540E\u7ED3\u679C\u662F\u5F15\u7528\u6570\u636E\u7C7B\u578B\u3002</li></ul><h3 id="_9-\u539F\u578B-\u539F\u578B\u94FE" tabindex="-1"><a class="header-anchor" href="#_9-\u539F\u578B-\u539F\u578B\u94FE" aria-hidden="true">#</a> 9 \u539F\u578B/\u539F\u578B\u94FE</h3><p><code>__proto__</code>\u548Cprototype\u5173\u7CFB\uFF1A<code>__proto__</code>\u548C<code>constructor</code>\u662F\u5BF9\u8C61\u72EC\u6709\u7684\u30022\uFE0F\u20E3<code>prototype</code>\u5C5E\u6027\u662F\u51FD\u6570\u72EC\u6709\u7684</p><blockquote><p>\u5728 js \u4E2D\u6211\u4EEC\u662F\u4F7F\u7528\u6784\u9020\u51FD\u6570\u6765\u65B0\u5EFA\u4E00\u4E2A\u5BF9\u8C61\u7684\uFF0C\u6BCF\u4E00\u4E2A\u6784\u9020\u51FD\u6570\u7684\u5185\u90E8\u90FD\u6709\u4E00\u4E2A prototype \u5C5E\u6027\u503C\uFF0C\u8FD9\u4E2A\u5C5E\u6027\u503C\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u8FD9\u4E2A\u5BF9\u8C61\u5305\u542B\u4E86\u53EF\u4EE5\u7531\u8BE5\u6784\u9020\u51FD\u6570\u7684\u6240\u6709\u5B9E\u4F8B\u5171\u4EAB\u7684\u5C5E\u6027\u548C\u65B9\u6CD5\u3002\u5F53\u6211\u4EEC\u4F7F\u7528\u6784\u9020\u51FD\u6570\u65B0\u5EFA\u4E00\u4E2A\u5BF9\u8C61\u540E\uFF0C\u5728\u8FD9\u4E2A\u5BF9\u8C61\u7684\u5185\u90E8\u5C06\u5305\u542B\u4E00\u4E2A\u6307\u9488\uFF0C\u8FD9\u4E2A\u6307\u9488\u6307\u5411\u6784\u9020\u51FD\u6570\u7684 prototype \u5C5E\u6027\u5BF9\u5E94\u7684\u503C\uFF0C\u5728 ES5 \u4E2D\u8FD9\u4E2A\u6307\u9488\u88AB\u79F0\u4E3A\u5BF9\u8C61\u7684\u539F\u578B\u3002\u4E00\u822C\u6765\u8BF4\u6211\u4EEC\u662F\u4E0D\u5E94\u8BE5\u80FD\u591F\u83B7\u53D6\u5230\u8FD9\u4E2A\u503C\u7684\uFF0C\u4F46\u662F\u73B0\u5728\u6D4F\u89C8\u5668\u4E2D\u90FD\u5B9E\u73B0\u4E86 proto \u5C5E\u6027\u6765\u8BA9\u6211\u4EEC\u8BBF\u95EE\u8FD9\u4E2A\u5C5E\u6027\uFF0C\u4F46\u662F\u6211\u4EEC\u6700\u597D\u4E0D\u8981\u4F7F\u7528\u8FD9\u4E2A\u5C5E\u6027\uFF0C\u56E0\u4E3A\u5B83\u4E0D\u662F\u89C4\u8303\u4E2D\u89C4\u5B9A\u7684\u3002ES5 \u4E2D\u65B0\u589E\u4E86\u4E00\u4E2A\xA0<code>Object.getPrototypeOf()</code>\xA0\u65B9\u6CD5\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u8FD9\u4E2A\u65B9\u6CD5\u6765\u83B7\u53D6\u5BF9\u8C61\u7684\u539F\u578B\u3002</p></blockquote><p>\u5F53\u6211\u4EEC\u8BBF\u95EE\u4E00\u4E2A\u5BF9\u8C61\u7684\u5C5E\u6027\u65F6\uFF0C\u5982\u679C\u8FD9\u4E2A\u5BF9\u8C61\u5185\u90E8\u4E0D\u5B58\u5728\u8FD9\u4E2A\u5C5E\u6027\uFF0C\u90A3\u4E48\u5B83\u5C31\u4F1A\u53BB\u5B83\u7684\u539F\u578B\u5BF9\u8C61\u91CC\u627E\u8FD9\u4E2A\u5C5E\u6027\uFF0C\u8FD9\u4E2A\u539F\u578B\u5BF9\u8C61\u53C8\u4F1A\u6709\u81EA\u5DF1\u7684\u539F\u578B\uFF0C\u4E8E\u662F\u5C31\u8FD9\u6837\u4E00\u76F4\u627E\u4E0B\u53BB\uFF0C\u4E5F\u5C31\u662F\u539F\u578B\u94FE\u7684\u6982\u5FF5\u3002\u539F\u578B\u94FE\u7684\u5C3D\u5934\u4E00\u822C\u6765\u8BF4\u90FD\u662F\xA0<code>Object.prototype</code>\xA0\u6240\u4EE5\u8FD9\u5C31\u662F\u6211\u4EEC\u65B0\u5EFA\u7684\u5BF9\u8C61\u4E3A\u4EC0\u4E48\u80FD\u591F\u4F7F\u7528\xA0<code>toString()</code>\xA0\u7B49\u65B9\u6CD5\u7684\u539F\u56E0\u3002</p><blockquote><p>\u7279\u70B9\uFF1AJavaScript \u5BF9\u8C61\u662F\u901A\u8FC7\u5F15\u7528\u6765\u4F20\u9012\u7684\uFF0C\u6211\u4EEC\u521B\u5EFA\u7684\u6BCF\u4E2A\u65B0\u5BF9\u8C61\u5B9E\u4F53\u4E2D\u5E76\u6CA1\u6709\u4E00\u4EFD\u5C5E\u4E8E\u81EA\u5DF1\u7684\u539F\u578B\u526F\u672C\u3002\u5F53\u6211\u4EEC\u4FEE\u6539\u539F\u578B\u65F6\uFF0C\u4E0E \u4E4B\u76F8\u5173\u7684\u5BF9\u8C61\u4E5F\u4F1A\u7EE7\u627F\u8FD9\u4E00\u6539\u53D8</p></blockquote><ul><li>\u539F\u578B(<code>prototype</code>): \u4E00\u4E2A\u7B80\u5355\u7684\u5BF9\u8C61\uFF0C\u7528\u4E8E\u5B9E\u73B0\u5BF9\u8C61\u7684 \u5C5E\u6027\u7EE7\u627F\u3002\u53EF\u4EE5\u7B80\u5355\u7684\u7406\u89E3\u6210\u5BF9\u8C61\u7684\u7239\u3002\u5728\xA0<code>Firefox</code>\xA0\u548C\xA0<code>Chrome</code>\xA0\u4E2D\uFF0C\u6BCF\u4E2A<code>JavaScript</code>\u5BF9\u8C61\u4E2D\u90FD\u5305\u542B\u4E00\u4E2A<code>__proto__</code>(\u975E\u6807\u51C6)\u7684\u5C5E\u6027\u6307\u5411\u5B83\u7239(\u8BE5\u5BF9\u8C61\u7684\u539F\u578B)\uFF0C\u53EF<code>obj.__proto__</code>\u8FDB\u884C\u8BBF\u95EE\u3002</li><li>\u6784\u9020\u51FD\u6570: \u53EF\u4EE5\u901A\u8FC7<code>new</code>\u6765 \u65B0\u5EFA\u4E00\u4E2A\u5BF9\u8C61 \u7684\u51FD\u6570\u3002</li><li>\u5B9E\u4F8B: \u901A\u8FC7\u6784\u9020\u51FD\u6570\u548C<code>new</code>\u521B\u5EFA\u51FA\u6765\u7684\u5BF9\u8C61\uFF0C\u4FBF\u662F\u5B9E\u4F8B\u3002 \u5B9E\u4F8B\u901A\u8FC7<code>__proto__</code>\u6307\u5411\u539F\u578B\uFF0C\u901A\u8FC7<code>constructor</code>\u6307\u5411\u6784\u9020\u51FD\u6570\u3002</li></ul><blockquote><p>\u4EE5<code>Object</code>\u4E3A\u4F8B\uFF0C\u6211\u4EEC\u5E38\u7528\u7684<code>Object</code>\u4FBF\u662F\u4E00\u4E2A\u6784\u9020\u51FD\u6570\uFF0C\u56E0\u6B64\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u5B83\u6784\u5EFA\u5B9E\u4F8B\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// \u5B9E\u4F8B
const instance = new Object()

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u5219\u6B64\u65F6\uFF0C \u5B9E\u4F8B\u4E3A<code>instance</code>, \u6784\u9020\u51FD\u6570\u4E3A<code>Object</code>\uFF0C\u6211\u4EEC\u77E5\u9053\uFF0C\u6784\u9020\u51FD\u6570\u62E5\u6709\u4E00\u4E2A<code>prototype</code>\u7684\u5C5E\u6027\u6307\u5411\u539F\u578B\uFF0C\u56E0\u6B64\u539F\u578B\u4E3A:</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// \u539F\u578B
const prototype = Object.prototype

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u91CC\u6211\u4EEC\u53EF\u4EE5\u6765\u770B\u51FA\u4E09\u8005\u7684\u5173\u7CFB:</p><ul><li><code>\u5B9E\u4F8B.__proto__ === \u539F\u578B</code></li><li><code>\u539F\u578B.constructor === \u6784\u9020\u51FD\u6570</code></li><li><code>\u6784\u9020\u51FD\u6570.prototype === \u539F\u578B</code></li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// \u8FD9\u6761\u7EBF\u5176\u5B9E\u662F\u662F\u57FA\u4E8E\u539F\u578B\u8FDB\u884C\u83B7\u53D6\u7684\uFF0C\u53EF\u4EE5\u7406\u89E3\u6210\u4E00\u6761\u57FA\u4E8E\u539F\u578B\u7684\u6620\u5C04\u7EBF
// \u4F8B\u5982:
// const o = new Object()
// o.constructor === Object   --&gt; true
// o.__proto__ = null;
// o.constructor === Object   --&gt; false
\u5B9E\u4F8B.constructor === \u6784\u9020\u51FD\u6570

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+q+'" alt=""></p><p>\u539F\u578B\u94FE</p><blockquote><p>\u539F\u578B\u94FE\u662F\u7531\u539F\u578B\u5BF9\u8C61\u7EC4\u6210\uFF0C\u6BCF\u4E2A\u5BF9\u8C61\u90FD\u6709\xA0<code>__proto__</code>\xA0\u5C5E\u6027\uFF0C\u6307\u5411\u4E86\u521B\u5EFA\u8BE5\u5BF9\u8C61\u7684\u6784\u9020\u51FD\u6570\u7684\u539F\u578B\uFF0C<code>__proto__</code>\xA0\u5C06\u5BF9\u8C61\u8FDE\u63A5\u8D77\u6765\u7EC4\u6210\u4E86\u539F\u578B\u94FE\u3002\u662F\u4E00\u4E2A\u7528\u6765\u5B9E\u73B0\u7EE7\u627F\u548C\u5171\u4EAB\u5C5E\u6027\u7684\u6709\u9650\u7684\u5BF9\u8C61\u94FE</p></blockquote><ul><li>\u5C5E\u6027\u67E5\u627E\u673A\u5236: \u5F53\u67E5\u627E\u5BF9\u8C61\u7684\u5C5E\u6027\u65F6\uFF0C\u5982\u679C\u5B9E\u4F8B\u5BF9\u8C61\u81EA\u8EAB\u4E0D\u5B58\u5728\u8BE5\u5C5E\u6027\uFF0C\u5219\u6CBF\u7740\u539F\u578B\u94FE\u5F80\u4E0A\u4E00\u7EA7\u67E5\u627E\uFF0C\u627E\u5230\u65F6\u5219\u8F93\u51FA\uFF0C\u4E0D\u5B58\u5728\u65F6\uFF0C\u5219\u7EE7\u7EED\u6CBF\u7740\u539F\u578B\u94FE\u5F80\u4E0A\u4E00\u7EA7\u67E5\u627E\uFF0C\u76F4\u81F3\u6700\u9876\u7EA7\u7684\u539F\u578B\u5BF9\u8C61<code>Object.prototype</code>\uFF0C\u5982\u8FD8\u662F\u6CA1\u627E\u5230\uFF0C\u5219\u8F93\u51FA<code>undefined</code>\uFF1B</li><li>\u5C5E\u6027\u4FEE\u6539\u673A\u5236: \u53EA\u4F1A\u4FEE\u6539\u5B9E\u4F8B\u5BF9\u8C61\u672C\u8EAB\u7684\u5C5E\u6027\uFF0C\u5982\u679C\u4E0D\u5B58\u5728\uFF0C\u5219\u8FDB\u884C\u6DFB\u52A0\u8BE5\u5C5E\u6027\uFF0C\u5982\u679C\u9700\u8981\u4FEE\u6539\u539F\u578B\u7684\u5C5E\u6027\u65F6\uFF0C\u5219\u53EF\u4EE5\u7528:\xA0<code>b.prototype.x = 2</code>\uFF1B\u4F46\u662F\u8FD9\u6837\u4F1A\u9020\u6210\u6240\u6709\u7EE7\u627F\u4E8E\u8BE5\u5BF9\u8C61\u7684\u5B9E\u4F8B\u7684\u5C5E\u6027\u53D1\u751F\u6539\u53D8\u3002</li></ul><p>js \u83B7\u53D6\u539F\u578B\u7684\u65B9\u6CD5</p><ul><li><code>p.proto</code></li><li><code>p.constructor.prototype</code></li><li><code>Object.getPrototypeOf(p)</code></li></ul><p>\u603B\u7ED3</p><p><img src="'+y+'" alt=""></p><ul><li>\u6BCF\u4E2A\u51FD\u6570\u90FD\u6709\xA0<code>prototype</code>\xA0\u5C5E\u6027\uFF0C\u9664\u4E86\xA0<code>Function.prototype.bind()</code>\uFF0C\u8BE5\u5C5E\u6027\u6307\u5411\u539F\u578B\u3002</li><li>\u6BCF\u4E2A\u5BF9\u8C61\u90FD\u6709\xA0<code>__proto__</code>\xA0\u5C5E\u6027\uFF0C\u6307\u5411\u4E86\u521B\u5EFA\u8BE5\u5BF9\u8C61\u7684\u6784\u9020\u51FD\u6570\u7684\u539F\u578B\u3002\u5176\u5B9E\u8FD9\u4E2A\u5C5E\u6027\u6307\u5411\u4E86\xA0<code>[[prototype]]</code>\uFF0C\u4F46\u662F\xA0<code>[[prototype]]</code>\u662F\u5185\u90E8\u5C5E\u6027\uFF0C\u6211\u4EEC\u5E76\u4E0D\u80FD\u8BBF\u95EE\u5230\uFF0C\u6240\u4EE5\u4F7F\u7528\xA0<code>_proto_</code>\u6765\u8BBF\u95EE\u3002</li><li>\u5BF9\u8C61\u53EF\u4EE5\u901A\u8FC7\xA0<code>__proto__</code>\xA0\u6765\u5BFB\u627E\u4E0D\u5C5E\u4E8E\u8BE5\u5BF9\u8C61\u7684\u5C5E\u6027\uFF0C<code>__proto__</code>\xA0\u5C06\u5BF9\u8C61\u8FDE\u63A5\u8D77\u6765\u7EC4\u6210\u4E86\u539F\u578B\u94FE\u3002</li></ul><h3 id="_10-\u7EE7\u627F" tabindex="-1"><a class="header-anchor" href="#_10-\u7EE7\u627F" aria-hidden="true">#</a> 10 \u7EE7\u627F</h3><p><img src="'+k+`" alt=""></p><blockquote><p>\u6D89\u53CA\u9762\u8BD5\u9898\uFF1A\u539F\u578B\u5982\u4F55\u5B9E\u73B0\u7EE7\u627F\uFF1F<code>Class</code>\xA0\u5982\u4F55\u5B9E\u73B0\u7EE7\u627F\uFF1F<code>Class</code>\xA0\u672C\u8D28\u662F\u4EC0\u4E48\uFF1F</p></blockquote><p>\u9996\u5148\u5148\u6765\u8BB2\u4E0B\xA0<code>class</code>\uFF0C\u5176\u5B9E\u5728\xA0<code>JS</code>\u4E2D\u5E76\u4E0D\u5B58\u5728\u7C7B\uFF0C<code>class</code>\xA0\u53EA\u662F\u8BED\u6CD5\u7CD6\uFF0C\u672C\u8D28\u8FD8\u662F\u51FD\u6570</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>class Person {}
Person instanceof Function // true

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7EC4\u5408\u7EE7\u627F</p><blockquote><p>\u7EC4\u5408\u7EE7\u627F\u662F\u6700\u5E38\u7528\u7684\u7EE7\u627F\u65B9\u5F0F</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function Parent(value) {
  this.val = value
}
Parent.prototype.getValue = function() {
  console.log(this.val)
}
function Child(value) {
  Parent.call(this, value)
}
Child.prototype = new Parent()

const child = new Child(1)

child.getValue() // 1
child instanceof Parent // true

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u4EE5\u4E0A\u7EE7\u627F\u7684\u65B9\u5F0F\u6838\u5FC3\u662F\u5728\u5B50\u7C7B\u7684\u6784\u9020\u51FD\u6570\u4E2D\u901A\u8FC7\xA0<code>Parent.call(this)</code>\xA0\u7EE7\u627F\u7236\u7C7B\u7684\u5C5E\u6027\uFF0C\u7136\u540E\u6539\u53D8\u5B50\u7C7B\u7684\u539F\u578B\u4E3A\xA0<code>new Parent()</code>\xA0\u6765\u7EE7\u627F\u7236\u7C7B\u7684\u51FD\u6570\u3002</li><li>\u8FD9\u79CD\u7EE7\u627F\u65B9\u5F0F\u4F18\u70B9\u5728\u4E8E\u6784\u9020\u51FD\u6570\u53EF\u4EE5\u4F20\u53C2\uFF0C\u4E0D\u4F1A\u4E0E\u7236\u7C7B\u5F15\u7528\u5C5E\u6027\u5171\u4EAB\uFF0C\u53EF\u4EE5\u590D\u7528\u7236\u7C7B\u7684\u51FD\u6570\uFF0C\u4F46\u662F\u4E5F\u5B58\u5728\u4E00\u4E2A\u7F3A\u70B9\u5C31\u662F\u5728\u7EE7\u627F\u7236\u7C7B\u51FD\u6570\u7684\u65F6\u5019\u8C03\u7528\u4E86\u7236\u7C7B\u6784\u9020\u51FD\u6570\uFF0C\u5BFC\u81F4\u5B50\u7C7B\u7684\u539F\u578B\u4E0A\u591A\u4E86\u4E0D\u9700\u8981\u7684\u7236\u7C7B\u5C5E\u6027\uFF0C\u5B58\u5728\u5185\u5B58\u4E0A\u7684\u6D6A\u8D39</li></ul><p>\u5BC4\u751F\u7EC4\u5408\u7EE7\u627F</p><blockquote><p>\u8FD9\u79CD\u7EE7\u627F\u65B9\u5F0F\u5BF9\u7EC4\u5408\u7EE7\u627F\u8FDB\u884C\u4E86\u4F18\u5316\uFF0C\u7EC4\u5408\u7EE7\u627F\u7F3A\u70B9\u5728\u4E8E\u7EE7\u627F\u7236\u7C7B\u51FD\u6570\u65F6\u8C03\u7528\u4E86\u6784\u9020\u51FD\u6570\uFF0C\u6211\u4EEC\u53EA\u9700\u8981\u4F18\u5316\u6389\u8FD9\u70B9\u5C31\u884C\u4E86</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function Parent(value) {
  this.val = value
}
Parent.prototype.getValue = function() {
  console.log(this.val)
}

function Child(value) {
  Parent.call(this, value)
}
Child.prototype = Object.create(Parent.prototype, {
  constructor: {
    value: Child,
    enumerable: false,
    writable: true,
    configurable: true
  }
})

const child = new Child(1)

child.getValue() // 1
child instanceof Parent // true

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u4EE5\u4E0A\u7EE7\u627F\u5B9E\u73B0\u7684\u6838\u5FC3\u5C31\u662F\u5C06\u7236\u7C7B\u7684\u539F\u578B\u8D4B\u503C\u7ED9\u4E86\u5B50\u7C7B\uFF0C\u5E76\u4E14\u5C06\u6784\u9020\u51FD\u6570\u8BBE\u7F6E\u4E3A\u5B50\u7C7B\uFF0C\u8FD9\u6837\u65E2\u89E3\u51B3\u4E86\u65E0\u7528\u7684\u7236\u7C7B\u5C5E\u6027\u95EE\u9898\uFF0C\u8FD8\u80FD\u6B63\u786E\u7684\u627E\u5230\u5B50\u7C7B\u7684\u6784\u9020\u51FD\u6570\u3002</p></blockquote><p>Class \u7EE7\u627F</p><blockquote><p>\u4EE5\u4E0A\u4E24\u79CD\u7EE7\u627F\u65B9\u5F0F\u90FD\u662F\u901A\u8FC7\u539F\u578B\u53BB\u89E3\u51B3\u7684\uFF0C\u5728 ES6 \u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528 class \u53BB\u5B9E\u73B0\u7EE7\u627F\uFF0C\u5E76\u4E14\u5B9E\u73B0\u8D77\u6765\u5F88\u7B80\u5355</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>class Parent {
  constructor(value) {
    this.val = value
  }
  getValue() {
    console.log(this.val)
  }
}
class Child extends Parent {
  constructor(value) {
    super(value)
    this.val = value
  }
}
let child = new Child(1)
child.getValue() // 1
child instanceof Parent // true

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>class</code>\xA0\u5B9E\u73B0\u7EE7\u627F\u7684\u6838\u5FC3\u5728\u4E8E\u4F7F\u7528\xA0<code>extends</code>\xA0\u8868\u660E\u7EE7\u627F\u81EA\u54EA\u4E2A\u7236\u7C7B\uFF0C\u5E76\u4E14\u5728\u5B50\u7C7B\u6784\u9020\u51FD\u6570\u4E2D\u5FC5\u987B\u8C03\u7528\xA0<code>super</code>\uFF0C\u56E0\u4E3A\u8FD9\u6BB5\u4EE3\u7801\u53EF\u4EE5\u770B\u6210\xA0<code>Parent.call(this, value)</code>\u3002</p></blockquote><p>ES5 \u548C ES6 \u7EE7\u627F\u7684\u533A\u522B\uFF1A</p><ul><li>ES6 \u7EE7\u627F\u7684\u5B50\u7C7B\u9700\u8981\u8C03\u7528\xA0<code>super()</code>\xA0\u624D\u80FD\u62FF\u5230\u5B50\u7C7B\uFF0CES5 \u7684\u8BDD\u662F\u901A\u8FC7\xA0<code>apply</code>\xA0\u8FD9\u79CD\u7ED1\u5B9A\u7684\u65B9\u5F0F</li><li>\u7C7B\u58F0\u660E\u4E0D\u4F1A\u63D0\u5347\uFF0C\u548C\xA0<code>let</code>\xA0\u8FD9\u4E9B\u4E00\u81F4</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function Super() {}
Super.prototype.getNumber = function() {
  return 1
}

function Sub() {}
Sub.prototype = Object.create(Super.prototype, {
  constructor: {
    value: Sub,
    enumerable: false,
    writable: true,
    configurable: true
  }
})
let s = new Sub()
s.getNumber()

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u4EE5\u4E0B\u8BE6\u7EC6\u8BB2\u89E3\u51E0\u79CD\u5E38\u89C1\u7684\u7EE7\u627F\u65B9\u5F0F</p></blockquote><p>1. \u65B9\u5F0F1: \u501F\u52A9call</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> function Parent1(){
    this.name = &#39;parent1&#39;;
  }
  function Child1(){
    Parent1.call(this);
    this.type = &#39;child1&#39;
  }
  console.log(new Child1);

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u8FD9\u6837\u5199\u7684\u65F6\u5019\u5B50\u7C7B\u867D\u7136\u80FD\u591F\u62FF\u5230\u7236\u7C7B\u7684\u5C5E\u6027\u503C\uFF0C\u4F46\u662F\u95EE\u9898\u662F\u7236\u7C7B\u539F\u578B\u5BF9\u8C61\u4E2D\u4E00\u65E6\u5B58\u5728\u65B9\u6CD5\u90A3\u4E48\u5B50\u7C7B\u65E0\u6CD5\u7EE7\u627F\u3002\u90A3\u4E48\u5F15\u51FA\u4E0B\u9762\u7684\u65B9\u6CD5\u3002</p></blockquote><p>2. \u65B9\u5F0F2: \u501F\u52A9\u539F\u578B\u94FE</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> function Parent2() {
    this.name = &#39;parent2&#39;;
    this.play = [1, 2, 3]
  }
  function Child2() {
    this.type = &#39;child2&#39;;
  }
  Child2.prototype = new Parent2();

  console.log(new Child2());

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u770B\u4F3C\u6CA1\u6709\u95EE\u9898\uFF0C\u7236\u7C7B\u7684\u65B9\u6CD5\u548C\u5C5E\u6027\u90FD\u80FD\u591F\u8BBF\u95EE\uFF0C\u4F46\u5B9E\u9645\u4E0A\u6709\u4E00\u4E2A\u6F5C\u5728\u7684\u4E0D\u8DB3\u3002\u4E3E\u4E2A\u4F8B\u5B50\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var s1 = new Child2();
var s2 = new Child2();
s1.play.push(4);
console.log(s1.play, s2.play);

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53EF\u4EE5\u770B\u5230\u63A7\u5236\u53F0\uFF1A</p><p><img src="`+j+`" alt=""></p><blockquote><p>\u660E\u660E\u6211\u53EA\u6539\u53D8\u4E86s1\u7684play\u5C5E\u6027\uFF0C\u4E3A\u4EC0\u4E48s2\u4E5F\u8DDF\u7740\u53D8\u4E86\u5462\uFF1F\u5F88\u7B80\u5355\uFF0C\u56E0\u4E3A\u4E24\u4E2A\u5B9E\u4F8B\u4F7F\u7528\u7684\u662F\u540C\u4E00\u4E2A\u539F\u578B\u5BF9\u8C61\u3002</p></blockquote><p>\u90A3\u4E48\u8FD8\u6709\u66F4\u597D\u7684\u65B9\u5F0F\u4E48\uFF1F</p><p>3. \u65B9\u5F0F3\uFF1A\u5C06\u524D\u4E24\u79CD\u7EC4\u5408</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>  function Parent3 () {
    this.name = &#39;parent3&#39;;
    this.play = [1, 2, 3];
  }
  function Child3() {
    Parent3.call(this);
    this.type = &#39;child3&#39;;
  }
  Child3.prototype = new Parent3();
  var s3 = new Child3();
  var s4 = new Child3();
  s3.play.push(4);
  console.log(s3.play, s4.play);

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53EF\u4EE5\u770B\u5230\u63A7\u5236\u53F0\uFF1A</p><p><img src="`+_+`" alt=""></p><blockquote><p>\u4E4B\u524D\u7684\u95EE\u9898\u90FD\u5F97\u4EE5\u89E3\u51B3\u3002\u4F46\u662F\u8FD9\u91CC\u53C8\u5F92\u589E\u4E86\u4E00\u4E2A\u65B0\u95EE\u9898\uFF0C\u90A3\u5C31\u662F<code>Parent3</code>\u7684\u6784\u9020\u51FD\u6570\u4F1A\u591A\u6267\u884C\u4E86\u4E00\u6B21\uFF08<code>Child3.prototype = new Parent3();</code>\uFF09\u3002\u8FD9\u662F\u6211\u4EEC\u4E0D\u613F\u770B\u5230\u7684\u3002\u90A3\u4E48\u5982\u4F55\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\uFF1F</p></blockquote><p>4. \u65B9\u5F0F4: \u7EC4\u5408\u7EE7\u627F\u7684\u4F18\u53161</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>  function Parent4 () {
    this.name = &#39;parent4&#39;;
    this.play = [1, 2, 3];
  }
  function Child4() {
    Parent4.call(this);
    this.type = &#39;child4&#39;;
  }
  Child4.prototype = Parent4.prototype;

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u91CC\u8BA9\u5C06\u7236\u7C7B\u539F\u578B\u5BF9\u8C61\u76F4\u63A5\u7ED9\u5230\u5B50\u7C7B\uFF0C\u7236\u7C7B\u6784\u9020\u51FD\u6570\u53EA\u6267\u884C\u4E00\u6B21\uFF0C\u800C\u4E14\u7236\u7C7B\u5C5E\u6027\u548C\u65B9\u6CD5\u5747\u80FD\u8BBF\u95EE\uFF0C\u4F46\u662F\u6211\u4EEC\u6765\u6D4B\u8BD5\u4E00\u4E0B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var s3 = new Child4();
var s4 = new Child4();
console.log(s3)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+S+`" alt=""></p><blockquote><p>\u5B50\u7C7B\u5B9E\u4F8B\u7684\u6784\u9020\u51FD\u6570\u662FParent4\uFF0C\u663E\u7136\u8FD9\u662F\u4E0D\u5BF9\u7684\uFF0C\u5E94\u8BE5\u662FChild4\u3002</p></blockquote><p>5. \u65B9\u5F0F5(\u6700\u63A8\u8350\u4F7F\u7528): \u7EC4\u5408\u7EE7\u627F\u7684\u4F18\u53162</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> function Parent5 () {
    this.name = &#39;parent5&#39;;
    this.play = [1, 2, 3];
  }
  function Child5() {
    Parent5.call(this);
    this.type = &#39;child5&#39;;
  }
  Child5.prototype = Object.create(Parent5.prototype);
  Child5.prototype.constructor = Child5;

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u662F\u6700\u63A8\u8350\u7684\u4E00\u79CD\u65B9\u5F0F\uFF0C\u63A5\u8FD1\u5B8C\u7F8E\u7684\u7EE7\u627F\uFF0C\u5B83\u7684\u540D\u5B57\u4E5F\u53EB\u505A\u5BC4\u751F\u7EC4\u5408\u7EE7\u627F\u3002</p><p>6. ES6\u7684extends\u88AB\u7F16\u8BD1\u540E\u7684JavaScript\u4EE3\u7801</p><blockquote><p>ES6\u7684\u4EE3\u7801\u6700\u540E\u90FD\u662F\u8981\u5728\u6D4F\u89C8\u5668\u4E0A\u80FD\u591F\u8DD1\u8D77\u6765\u7684\uFF0C\u8FD9\u4E2D\u95F4\u5C31\u5229\u7528\u4E86babel\u8FD9\u4E2A\u7F16\u8BD1\u5DE5\u5177\uFF0C\u5C06ES6\u7684\u4EE3\u7801\u7F16\u8BD1\u6210ES5\u8BA9\u4E00\u4E9B\u4E0D\u652F\u6301\u65B0\u8BED\u6CD5\u7684\u6D4F\u89C8\u5668\u4E5F\u80FD\u8FD0\u884C\u3002</p></blockquote><p>\u90A3\u6700\u540E\u7F16\u8BD1\u6210\u4E86\u4EC0\u4E48\u6837\u5B50\u5462\uFF1F</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function _possibleConstructorReturn(self, call) {
    // ...
    return call &amp;&amp; (typeof call === &#39;object&#39; || typeof call === &#39;function&#39;) ? call : self;
}

function _inherits(subClass, superClass) {
    // ...
    //\u770B\u5230\u6CA1\u6709
    subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, {
        constructor: {
            value: subClass,
            enumerable: false,
            writable: true,
            configurable: true
        }
    });
    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var Parent = function Parent() {
    // \u9A8C\u8BC1\u662F\u5426\u662F Parent \u6784\u9020\u51FA\u6765\u7684 this
    _classCallCheck(this, Parent);
};

var Child = (function (_Parent) {
    _inherits(Child, _Parent);

    function Child() {
        _classCallCheck(this, Child);

        return _possibleConstructorReturn(this, (Child.__proto__ || Object.getPrototypeOf(Child)).apply(this, arguments));
    }

    return Child;
}(Parent));

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u6838\u5FC3\u662F<code>_inherits</code>\u51FD\u6570\uFF0C\u53EF\u4EE5\u770B\u5230\u5B83\u91C7\u7528\u7684\u4F9D\u7136\u4E5F\u662F\u7B2C\u4E94\u79CD\u65B9\u5F0F------------\u5BC4\u751F\u7EC4\u5408\u7EE7\u627F\u65B9\u5F0F\uFF0C\u540C\u65F6\u8BC1\u660E\u4E86\u8FD9\u79CD\u65B9\u5F0F\u7684\u6210\u529F\u3002\u4E0D\u8FC7\u8FD9\u91CC\u52A0\u4E86\u4E00\u4E2A<code>Object.setPrototypeOf(subClass, superClass)</code>\uFF0C\u8FD9\u662F\u7528\u6765\u5E72\u5565\u7684\u5462\uFF1F</p></blockquote><p>\u7B54\u6848\u662F\u7528\u6765\u7EE7\u627F\u7236\u7C7B\u7684\u9759\u6001\u65B9\u6CD5\u3002\u8FD9\u4E5F\u662F\u539F\u6765\u7684\u7EE7\u627F\u65B9\u5F0F\u758F\u5FFD\u6389\u7684\u5730\u65B9\u3002</p><p>\u8FFD\u95EE: \u9762\u5411\u5BF9\u8C61\u7684\u8BBE\u8BA1\u4E00\u5B9A\u662F\u597D\u7684\u8BBE\u8BA1\u5417\uFF1F</p><blockquote><p>\u4E0D\u4E00\u5B9A\u3002\u4ECE\u7EE7\u627F\u7684\u89D2\u5EA6\u8BF4\uFF0C\u8FD9\u4E00\u8BBE\u8BA1\u662F\u5B58\u5728\u5DE8\u5927\u9690\u60A3\u7684\u3002</p></blockquote><h3 id="_11-\u9762\u5411\u5BF9\u8C61" tabindex="-1"><a class="header-anchor" href="#_11-\u9762\u5411\u5BF9\u8C61" aria-hidden="true">#</a> 11 \u9762\u5411\u5BF9\u8C61</h3><p>\u7F16\u7A0B\u601D\u60F3</p><ul><li>\u57FA\u672C\u601D\u60F3\u662F\u4F7F\u7528\u5BF9\u8C61\uFF0C\u7C7B\uFF0C\u7EE7\u627F\uFF0C\u5C01\u88C5\u7B49\u57FA\u672C\u6982\u5FF5\u6765\u8FDB\u884C\u7A0B\u5E8F\u8BBE\u8BA1</li><li>\u4F18\u70B9 <ul><li>\u6613\u7EF4\u62A4 <ul><li>\u91C7\u7528\u9762\u5411\u5BF9\u8C61\u601D\u60F3\u8BBE\u8BA1\u7684\u7ED3\u6784\uFF0C\u53EF\u8BFB\u6027\u9AD8\uFF0C\u7531\u4E8E\u7EE7\u627F\u7684\u5B58\u5728\uFF0C\u5373\u4F7F\u6539\u53D8\u9700\u6C42\uFF0C\u90A3\u4E48\u7EF4\u62A4\u4E5F\u53EA\u662F\u5728\u5C40\u90E8\u6A21\u5757\uFF0C\u6240\u4EE5\u7EF4\u62A4\u8D77\u6765\u662F\u975E\u5E38\u65B9\u4FBF\u548C\u8F83\u4F4E\u6210\u672C\u7684</li></ul></li><li>\u6613\u6269\u5C55</li><li>\u5F00\u53D1\u5DE5\u4F5C\u7684\u91CD\u7528\u6027\u3001\u7EE7\u627F\u6027\u9AD8\uFF0C\u964D\u4F4E\u91CD\u590D\u5DE5\u4F5C\u91CF\u3002</li><li>\u7F29\u77ED\u4E86\u5F00\u53D1\u5468\u671F</li></ul></li></ul><blockquote><p>\u4E00\u822C\u9762\u5411\u5BF9\u8C61\u5305\u542B\uFF1A\u7EE7\u627F\uFF0C\u5C01\u88C5\uFF0C\u591A\u6001\uFF0C\u62BD\u8C61</p></blockquote><p>1. \u5BF9\u8C61\u5F62\u5F0F\u7684\u7EE7\u627F</p><p>\u6D45\u62F7\u8D1D</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var Person = {
    name: &#39;poetry&#39;,
    age: 18,
    address: {
        home: &#39;home&#39;,
        office: &#39;office&#39;,
    }
    sclools: [&#39;x&#39;,&#39;z&#39;],
};

var programer = {
    language: &#39;js&#39;,
};

function extend(p, c){
    var c = c || {};
    for( var prop in p){
        c[prop] = p[prop];
    }
}
extend(Person, programer);
programer.name;  // poetry
programer.address.home;  // home
programer.address.home = &#39;house&#39;;  //house
Person.address.home;  // house

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u4ECE\u4E0A\u9762\u7684\u7ED3\u679C\u770B\u51FA\uFF0C\u6D45\u62F7\u8D1D\u7684\u7F3A\u9677\u5728\u4E8E\u4FEE\u6539\u4E86\u5B50\u5BF9\u8C61\u4E2D\u5F15\u7528\u7C7B\u578B\u7684\u503C\uFF0C\u4F1A\u5F71\u54CD\u5230\u7236\u5BF9\u8C61\u4E2D\u7684\u503C\uFF0C\u56E0\u4E3A\u5728\u6D45\u62F7\u8D1D\u4E2D\u5BF9\u5F15\u7528\u7C7B\u578B\u7684\u62F7\u8D1D\u53EA\u662F\u62F7\u8D1D\u4E86\u5730\u5740\uFF0C\u6307\u5411\u4E86\u5185\u5B58\u4E2D\u540C\u4E00\u4E2A\u526F\u672C</p></blockquote><p>\u6DF1\u62F7\u8D1D</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function extendDeeply(p, c){
    var c = c || {};
    for (var prop in p){
        if(typeof p[prop] === &quot;object&quot;){
            c[prop] = (p[prop].constructor === Array)?[]:{};
            extendDeeply(p[prop], c[prop]);
        }else{
            c[prop] = p[prop];
        }
    }
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u5229\u7528\u9012\u5F52\u8FDB\u884C\u6DF1\u62F7\u8D1D\uFF0C\u8FD9\u6837\u5B50\u5BF9\u8C61\u7684\u4FEE\u6539\u5C31\u4E0D\u4F1A\u5F71\u54CD\u5230\u7236\u5BF9\u8C61</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>extendDeeply(Person, programer);
programer.address.home = &#39;poetry&#39;;
Person.address.home; // home

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5229\u7528call\u548Capply\u7EE7\u627F</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function Parent(){
    this.name = &quot;abc&quot;;
    this.address = {home: &quot;home&quot;};
}
function Child(){
    Parent.call(this);
    this.language = &quot;js&quot;;
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ES5\u4E2D\u7684Object.create()</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var p = { name : &#39;poetry&#39;};
var obj = Object.create(p);
obj.name; // poetry

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>Object.create()</code>\u4F5C\u4E3Anew\u64CD\u4F5C\u7B26\u7684\u66FF\u4EE3\u65B9\u6848\u662FES5\u4E4B\u540E\u624D\u51FA\u6765\u7684\u3002\u6211\u4EEC\u4E5F\u53EF\u4EE5\u81EA\u5DF1\u6A21\u62DF\u8BE5\u65B9\u6CD5\uFF1A</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>//\u6A21\u62DFObject.create()\u65B9\u6CD5
function myCreate(o){
    function F(){};
    F.prototype = o;
    o = new F();
    return o;
}
var p = { name : &#39;poetry&#39;};
var obj = myCreate(p);
obj.name; // poetry

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u76EE\u524D\uFF0C\u5404\u5927\u6D4F\u89C8\u5668\u7684\u6700\u65B0\u7248\u672C\uFF08\u5305\u62ECIE9\uFF09\u90FD\u90E8\u7F72\u4E86\u8FD9\u4E2A\u65B9\u6CD5\u3002\u5982\u679C\u9047\u5230\u8001\u5F0F\u6D4F\u89C8\u5668\uFF0C\u53EF\u4EE5\u7528\u4E0B\u9762\u7684\u4EE3\u7801\u81EA\u884C\u90E8\u7F72</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u3000if (!Object.create) {
\u3000\u3000\u3000\u3000Object.create = function (o) {
\u3000\u3000\u3000\u3000\u3000\u3000 function F() {}
\u3000\u3000\u3000\u3000\u3000\u3000F.prototype = o;
\u3000\u3000\u3000\u3000\u3000\u3000return new F();
\u3000\u3000\u3000\u3000};
\u3000\u3000}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2. \u7C7B\u7684\u7EE7\u627F</p><blockquote><p><code>Object.create()</code></p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function Person(name, age){}
Person.prototype.headCount = 1;
Person.prototype.eat = function(){
    console.log(&#39;eating...&#39;);
}
function Programmer(name, age, title){}

Programmer.prototype = Object.create(Person.prototype); //\u5EFA\u7ACB\u7EE7\u627F\u5173\u7CFB
Programmer.prototype.constructor = Programmer;  // \u4FEE\u6539constructor\u7684\u6307\u5411

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8C03\u7528\u7236\u7C7B\u65B9\u6CD5</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function Person(name, age){
    this.name = name;
    this.age = age;
}
Person.prototype.headCount = 1;
Person.prototype.eat = function(){
    console.log(&#39;eating...&#39;);
}

function Programmer(name, age, title){
    Person.apply(this, arguments); // \u8C03\u7528\u7236\u7C7B\u7684\u6784\u9020\u5668
}

Programmer.prototype = Object.create(Person.prototype);
Programmer.prototype.constructor = Programmer;

Programmer.prototype.language = &quot;js&quot;;
Programmer.prototype.work = function(){
    console.log(&#39;i am working code in &#39;+ this.language);
    Person.prototype.eat.apply(this, arguments); // \u8C03\u7528\u7236\u7C7B\u4E0A\u7684\u65B9\u6CD5
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3. \u5C01\u88C5</p><ul><li>\u547D\u540D\u7A7A\u95F4 <ul><li>js\u662F\u6CA1\u6709\u547D\u540D\u7A7A\u95F4\u7684\uFF0C\u56E0\u6B64\u53EF\u4EE5\u7528\u5BF9\u8C61\u6A21\u62DF</li></ul></li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var app = {};  // \u547D\u540D\u7A7A\u95F4app
//\u6A21\u57571
app.module1 = {
    name: &#39;poetry&#39;,
    f: function(){
        console.log(&#39;hi robot&#39;);
    }
};
app.module1.name; // &quot;poetry&quot;
app.module1.f();  // hi robot

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u5BF9\u8C61\u7684\u5C5E\u6027\u5916\u754C\u662F\u53EF\u8BFB\u53EF\u5199 \u5982\u4F55\u6765\u8FBE\u5230\u5C01\u88C5\u7684\u989D\u76EE\u7684\uFF1F\u7B54\uFF1A\u53EF\u901A\u8FC7<code>\u95ED\u5305+\u5C40\u90E8\u53D8\u91CF</code>\u6765\u5B8C\u6210</p></blockquote><ul><li>\u5728\u6784\u9020\u51FD\u6570\u5185\u90E8\u58F0\u660E\u5C40\u90E8\u53D8\u91CF \u548C\u666E\u901A\u65B9\u6CD5</li><li>\u56E0\u4E3A\u4F5C\u7528\u57DF\u7684\u5173\u7CFB \u53EA\u6709\u6784\u9020\u51FD\u6570\u5185\u7684\u65B9\u6CD5</li><li>\u624D\u80FD\u8BBF\u95EE\u5C40\u90E8\u53D8\u91CF \u800C\u65B9\u6CD5\u5BF9\u4E8E\u5916\u754C\u662F\u5F00\u653E\u7684</li><li>\u56E0\u6B64\u53EF\u4EE5\u901A\u8FC7\u65B9\u6CD5\u6765\u8BBF\u95EE \u539F\u672C\u5916\u754C\u8BBF\u95EE\u4E0D\u5230\u7684\u5C40\u90E8\u53D8\u91CF \u8FBE\u5230\u51FD\u6570\u5C01\u88C5\u7684\u76EE\u7684</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function Girl(name,age){
	var love = &#39;\u5C0F\u660E&#39;;//love \u662F\u5C40\u90E8\u53D8\u91CF \u51C6\u786E\u8BF4\u4E0D\u5C5E\u4E8E\u5BF9\u8C61 \u5C5E\u4E8E\u8FD9\u4E2A\u51FD\u6570\u7684\u989D\u6FC0\u6D3B\u5BF9\u8C61 \u51FD\u6570\u8C03\u7528\u65F6\u5FC5\u5C06\u4EA7\u751F\u4E00\u4E2A\u6FC0\u6D3B\u5BF9\u8C61 love\u5728\u6FC0\u6D3B\u5BF9\u8C61\u8EAB\u4E0A   \u6FC0\u6D3B\u5BF9\u8C61\u6709\u4F5C\u7528\u57DF\u7684\u5173\u7CFB \u6709\u529E\u6CD5\u8BBF\u95EE  \u52A0\u4E00\u4E2A\u51FD\u6570\u63D0\u4F9B\u5916\u754C\u8BBF\u95EE
	this.name = name;
	this.age = age;
	this.say = function () {
		return love;
	};

	this.movelove = function (){
		love = &#39;\u5C0F\u8F69&#39;; //35
	}

}

var g = new Girl(&#39;yinghong&#39;,22);

console.log(g);
console.log(g.say());//\u5C0F\u660E
console.log(g.movelove());//undefined  \u56E0\u4E3A35\u884C\u6CA1\u6709\u8FD4\u56DE
console.log(g.say());//\u5C0F\u8F69

function fn(){
	function t(){
		//var age = 22;//\u58F0\u660Eage\u53D8\u91CF \u5728t\u7684\u6FC0\u6D3B\u5BF9\u8C61\u4E0A
		age = 22;//\u8D4B\u503C\u64CD\u4F5C t\u7684\u6FC0\u6D3B\u5BF9\u8C61\u4E0A\u627Eage\u5C5E\u6027 \uFF0C\u627E\u4E0D\u5230 \u627Efn\u7684\u6FC0\u6D3B\u5BF9\u8C61....\u518D\u627E\u5230 \u6700\u7EC8\u627E\u5230window.age = 22;
				//\u4E0D\u52A0var\u5C31\u662F\u64CD\u4F5Cwindow\u5168\u5C40\u5C5E\u6027

	}
	t();
}
console.log(fn());//undefined

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>4. \u9759\u6001\u6210\u5458</p><blockquote><p>\u9762\u5411\u5BF9\u8C61\u4E2D\u7684\u9759\u6001\u65B9\u6CD5-\u9759\u6001\u5C5E\u6027\uFF1A\u6CA1\u6709new\u5BF9\u8C61 \u4E5F\u80FD\u5F15\u7528\u9759\u6001\u65B9\u6CD5\u5C5E\u6027</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function Person(name){
    var age = 100;
    this.name = name;
}
//\u9759\u6001\u6210\u5458
Person.walk = function(){
    console.log(&#39;static&#39;);
};
Person.walk();  // static

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>5. \u79C1\u6709\u4E0E\u516C\u6709</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function Person(id){
    // \u79C1\u6709\u5C5E\u6027\u4E0E\u65B9\u6CD5
    var name = &#39;poetry&#39;;
    var work = function(){
        console.log(this.id);
    };
    //\u516C\u6709\u5C5E\u6027\u4E0E\u65B9\u6CD5
    this.id = id;
    this.say = function(){
        console.log(&#39;say hello&#39;);
        work.call(this);
    };
};
var p1 = new Person(123);
p1.name; // undefined
p1.id;  // 123
p1.say();  // say hello 123

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>6. \u6A21\u5757\u5316</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var moduleA;
moduleA = function() {
    var prop = 1;

    function func() {}

    return {
        func: func,
        prop: prop
    };
}(); // \u7ACB\u5373\u6267\u884C\u533F\u540D\u51FD\u6570

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>7. \u591A\u6001</p><blockquote><p>\u591A\u6001:\u540C\u4E00\u4E2A\u7236\u7C7B\u7EE7\u627F\u51FA\u6765\u7684\u5B50\u7C7B\u5404\u6709\u5404\u7684\u5F62\u6001</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function Cat(){
	this.eat = &#39;\u8089&#39;;
}

function Tiger(){
	this.color = &#39;\u9ED1\u9EC4\u76F8\u95F4&#39;;
}

function Cheetah(){
	this.color = &#39;\u62A5\u6587&#39;;
}

function Lion(){
	this.color = &#39;\u571F\u9EC4\u8272&#39;;
}

Tiger.prototype =  Cheetah.prototype = Lion.prototype = new Cat();//\u5171\u4EAB\u4E00\u4E2A\u7956\u5148 Cat

var T = new Tiger();
var C = new Cheetah();
var L = new Lion();

console.log(T.color);
console.log(C.color);
console.log(L.color);

console.log(T.eat);
console.log(C.eat);
console.log(L.eat);

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>8. \u62BD\u8C61\u7C7B</p><blockquote><p>\u5728\u6784\u9020\u5668\u4E2D\xA0<code>throw new Error(&#39;&#39;)</code>; \u629B\u5F02\u5E38\u3002\u8FD9\u6837\u9632\u6B62\u8FD9\u4E2A\u7C7B\u88AB\u76F4\u63A5\u8C03\u7528</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function DetectorBase() {
    throw new Error(&#39;Abstract class can not be invoked directly!&#39;);
}

DetectorBase.prototype.detect = function() {
    console.log(&#39;Detection starting...&#39;);
};
DetectorBase.prototype.stop = function() {
    console.log(&#39;Detection stopped.&#39;);
};
DetectorBase.prototype.init = function() {
    throw new Error(&#39;Error&#39;);
};

// var d = new DetectorBase();
// Uncaught Error: Abstract class can not be invoked directly!

function LinkDetector() {}
LinkDetector.prototype = Object.create(DetectorBase.prototype);
LinkDetector.prototype.constructor = LinkDetector;

var l = new LinkDetector();
console.log(l); //LinkDetector {}__proto__: LinkDetector
l.detect(); //Detection starting...
l.init(); //Uncaught Error: Error

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_12-\u4E8B\u4EF6\u673A\u5236" tabindex="-1"><a class="header-anchor" href="#_12-\u4E8B\u4EF6\u673A\u5236" aria-hidden="true">#</a> 12 \u4E8B\u4EF6\u673A\u5236</h3><blockquote><p>\u6D89\u53CA\u9762\u8BD5\u9898\uFF1A\u4E8B\u4EF6\u7684\u89E6\u53D1\u8FC7\u7A0B\u662F\u600E\u4E48\u6837\u7684\uFF1F\u77E5\u9053\u4EC0\u4E48\u662F\u4E8B\u4EF6\u4EE3\u7406\u561B\uFF1F</p></blockquote><p>1. \u7B80\u4ECB</p><blockquote><p>\u4E8B\u4EF6\u6D41\u662F\u4E00\u4E2A\u4E8B\u4EF6\u6CBF\u7740\u7279\u5B9A\u6570\u636E\u7ED3\u6784\u4F20\u64AD\u7684\u8FC7\u7A0B\u3002\u5192\u6CE1\u548C\u6355\u83B7\u662F\u4E8B\u4EF6\u6D41\u5728<code>DOM</code>\u4E2D\u4E24\u79CD\u4E0D\u540C\u7684\u4F20\u64AD\u65B9\u6CD5</p></blockquote><p>\u4E8B\u4EF6\u6D41\u6709\u4E09\u4E2A\u9636\u6BB5</p><ul><li>\u4E8B\u4EF6\u6355\u83B7\u9636\u6BB5</li><li>\u5904\u4E8E\u76EE\u6807\u9636\u6BB5</li><li>\u4E8B\u4EF6\u5192\u6CE1\u9636\u6BB5</li></ul><p>\u4E8B\u4EF6\u6355\u83B7</p><blockquote><p>\u4E8B\u4EF6\u6355\u83B7\uFF08<code>event capturing</code>\uFF09\uFF1A\u901A\u4FD7\u7684\u7406\u89E3\u5C31\u662F\uFF0C\u5F53\u9F20\u6807\u70B9\u51FB\u6216\u8005\u89E6\u53D1<code>dom</code>\u4E8B\u4EF6\u65F6\uFF0C\u6D4F\u89C8\u5668\u4F1A\u4ECE\u6839\u8282\u70B9\u5F00\u59CB\u7531\u5916\u5230\u5185\u8FDB\u884C\u4E8B\u4EF6\u4F20\u64AD\uFF0C\u5373\u70B9\u51FB\u4E86\u5B50\u5143\u7D20\uFF0C\u5982\u679C\u7236\u5143\u7D20\u901A\u8FC7\u4E8B\u4EF6\u6355\u83B7\u65B9\u5F0F\u6CE8\u518C\u4E86\u5BF9\u5E94\u7684\u4E8B\u4EF6\u7684\u8BDD\uFF0C\u4F1A\u5148\u89E6\u53D1\u7236\u5143\u7D20\u7ED1\u5B9A\u7684\u4E8B\u4EF6</p></blockquote><p>\u4E8B\u4EF6\u5192\u6CE1</p><blockquote><p>\u4E8B\u4EF6\u5192\u6CE1\uFF08dubbed bubbling\uFF09\uFF1A\u4E0E\u4E8B\u4EF6\u6355\u83B7\u6070\u6070\u76F8\u53CD\uFF0C\u4E8B\u4EF6\u5192\u6CE1\u987A\u5E8F\u662F\u7531\u5185\u5230\u5916\u8FDB\u884C\u4E8B\u4EF6\u4F20\u64AD\uFF0C\u76F4\u5230\u6839\u8282\u70B9</p></blockquote><p>\u65E0\u8BBA\u662F\u4E8B\u4EF6\u6355\u83B7\u8FD8\u662F\u4E8B\u4EF6\u5192\u6CE1\uFF0C\u5B83\u4EEC\u90FD\u6709\u4E00\u4E2A\u5171\u540C\u7684\u884C\u4E3A\uFF0C\u5C31\u662F\u4E8B\u4EF6\u4F20\u64AD</p><p><img src="`+w+`" alt=""></p><p>2. \u6355\u83B7\u548C\u5192\u6CE1</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;div id=&quot;div1&quot;&gt;
  &lt;div id=&quot;div2&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;script&gt;
    let div1 = document.getElementById(&#39;div1&#39;);
    let div2 = document.getElementById(&#39;div2&#39;);

    div1.onClick = function(){
        alert(&#39;1&#39;)
    }

    div2.onClick = function(){
        alert(&#39;2&#39;);
    }

&lt;/script&gt;

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u5F53\u70B9\u51FB\xA0<code>div2</code>\u65F6\uFF0C\u4F1A\u5F39\u51FA\u4E24\u4E2A\u5F39\u51FA\u6846\u3002\u5728\xA0<code>ie8/9/10</code>\u3001<code>chrome</code>\u6D4F\u89C8\u5668\uFF0C\u4F1A\u5148\u5F39\u51FA&quot;2&quot;\u518D\u5F39\u51FA&quot;1&quot;\uFF0C\u8FD9\u5C31\u662F\u4E8B\u4EF6\u5192\u6CE1\uFF1A\u4E8B\u4EF6\u4ECE\u6700\u5E95\u5C42\u7684\u8282\u70B9\u5411\u4E0A\u5192\u6CE1\u4F20\u64AD\u3002\u4E8B\u4EF6\u6355\u83B7\u5219\u8DDF\u4E8B\u4EF6\u5192\u6CE1\u76F8\u53CD</p></blockquote><blockquote><p>W3C\u7684\u6807\u51C6\u662F\u5148\u6355\u83B7\u518D\u5192\u6CE1\uFF0C\xA0<code>addEventListener</code>\u7684\u7B2C\u4E09\u4E2A\u53C2\u6570\u51B3\u5B9A\u628A\u4E8B\u4EF6\u6CE8\u518C\u5728\u6355\u83B7\uFF08<code>true</code>\uFF09\u8FD8\u662F\u5192\u6CE1(<code>false</code>)</p></blockquote><p>3. \u4E8B\u4EF6\u5BF9\u8C61</p><p><img src="`+P+`" alt=""></p><p>4. \u4E8B\u4EF6\u6D41\u963B\u6B62</p><blockquote><p>\u5728\u4E00\u4E9B\u60C5\u51B5\u4E0B\u9700\u8981\u963B\u6B62\u4E8B\u4EF6\u6D41\u7684\u4F20\u64AD\uFF0C\u963B\u6B62\u9ED8\u8BA4\u52A8\u4F5C\u7684\u53D1\u751F</p></blockquote><ul><li><code>event.preventDefault()</code>\uFF1A\u53D6\u6D88\u4E8B\u4EF6\u5BF9\u8C61\u7684\u9ED8\u8BA4\u52A8\u4F5C\u4EE5\u53CA\u7EE7\u7EED\u4F20\u64AD\u3002</li><li><code>event.stopPropagation()/ event.cancelBubble = true</code>\uFF1A\u963B\u6B62\u4E8B\u4EF6\u5192\u6CE1\u3002</li></ul><p>\u4E8B\u4EF6\u7684\u963B\u6B62\u5728\u4E0D\u540C\u6D4F\u89C8\u5668\u6709\u4E0D\u540C\u5904\u7406</p><ul><li>\u5728<code>IE</code>\u4E0B\u4F7F\u7528\xA0<code>event.returnValue= false</code>\uFF0C</li><li>\u5728\u975E<code>IE</code>\u4E0B\u5219\u4F7F\u7528\xA0<code>event.preventDefault()</code>\u8FDB\u884C\u963B\u6B62</li></ul><p>preventDefault\u4E0EstopPropagation\u7684\u533A\u522B</p><ul><li><code>preventDefault</code>\u544A\u8BC9\u6D4F\u89C8\u5668\u4E0D\u7528\u6267\u884C\u4E0E\u4E8B\u4EF6\u76F8\u5173\u8054\u7684\u9ED8\u8BA4\u52A8\u4F5C\uFF08\u5982\u8868\u5355\u63D0\u4EA4\uFF09</li><li><code>stopPropagation</code>\u662F\u505C\u6B62\u4E8B\u4EF6\u7EE7\u7EED\u5192\u6CE1\uFF0C\u4F46\u662F\u5BF9IE9\u4EE5\u4E0B\u7684\u6D4F\u89C8\u5668\u65E0\u6548</li></ul><p>5. \u4E8B\u4EF6\u6CE8\u518C</p><ul><li>\u901A\u5E38\u6211\u4EEC\u4F7F\u7528\xA0<code>addEventListener</code>\xA0\u6CE8\u518C\u4E8B\u4EF6\uFF0C\u8BE5\u51FD\u6570\u7684\u7B2C\u4E09\u4E2A\u53C2\u6570\u53EF\u4EE5\u662F\u5E03\u5C14\u503C\uFF0C\u4E5F\u53EF\u4EE5\u662F\u5BF9\u8C61\u3002\u5BF9\u4E8E\u5E03\u5C14\u503C\xA0<code>useCapture</code>\xA0\u53C2\u6570\u6765\u8BF4\uFF0C\u8BE5\u53C2\u6570\u9ED8\u8BA4\u503C\u4E3A\xA0<code>false</code>\u3002<code>useCapture</code>\xA0\u51B3\u5B9A\u4E86\u6CE8\u518C\u7684\u4E8B\u4EF6\u662F\u6355\u83B7\u4E8B\u4EF6\u8FD8\u662F\u5192\u6CE1\u4E8B\u4EF6</li><li>\u4E00\u822C\u6765\u8BF4\uFF0C\u6211\u4EEC\u53EA\u5E0C\u671B\u4E8B\u4EF6\u53EA\u89E6\u53D1\u5728\u76EE\u6807\u4E0A\uFF0C\u8FD9\u65F6\u5019\u53EF\u4EE5\u4F7F\u7528\xA0<code>stopPropagation</code>\xA0\u6765\u963B\u6B62\u4E8B\u4EF6\u7684\u8FDB\u4E00\u6B65\u4F20\u64AD\u3002\u901A\u5E38\u6211\u4EEC\u8BA4\u4E3A\xA0<code>stopPropagation</code>\xA0\u662F\u7528\u6765\u963B\u6B62\u4E8B\u4EF6\u5192\u6CE1\u7684\uFF0C\u5176\u5B9E\u8BE5\u51FD\u6570\u4E5F\u53EF\u4EE5\u963B\u6B62\u6355\u83B7\u4E8B\u4EF6\u3002<code>stopImmediatePropagation</code>\xA0\u540C\u6837\u4E5F\u80FD\u5B9E\u73B0\u963B\u6B62\u4E8B\u4EF6\uFF0C\u4F46\u662F\u8FD8\u80FD\u963B\u6B62\u8BE5\u4E8B\u4EF6\u76EE\u6807\u6267\u884C\u522B\u7684\u6CE8\u518C\u4E8B\u4EF6</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>node.addEventListener(&#39;click&#39;,(event) =&gt;{
	event.stopImmediatePropagation()
	console.log(&#39;\u5192\u6CE1&#39;)
},false);
// \u70B9\u51FB node \u53EA\u4F1A\u6267\u884C\u4E0A\u9762\u7684\u51FD\u6570\uFF0C\u8BE5\u51FD\u6570\u4E0D\u4F1A\u6267\u884C
node.addEventListener(&#39;click&#39;,(event) =&gt; {
	console.log(&#39;\u6355\u83B7 &#39;)
},true)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>6. \u4E8B\u4EF6\u59D4\u6258</p><ul><li>\u5728<code>js</code>\u4E2D\u6027\u80FD\u4F18\u5316\u7684\u5176\u4E2D\u4E00\u4E2A\u4E3B\u8981\u601D\u60F3\u662F\u51CF\u5C11<code>dom</code>\u64CD\u4F5C\u3002</li><li>\u8282\u7701\u5185\u5B58</li><li>\u4E0D\u9700\u8981\u7ED9\u5B50\u8282\u70B9\u6CE8\u9500\u4E8B\u4EF6</li></ul><blockquote><p>\u5047\u8BBE\u6709<code>100</code>\u4E2A<code>li</code>\uFF0C\u6BCF\u4E2A<code>li</code>\u6709\u76F8\u540C\u7684\u70B9\u51FB\u4E8B\u4EF6\u3002\u5982\u679C\u4E3A\u6BCF<code>\u4E2ALi</code>\u90FD\u6DFB\u52A0\u4E8B\u4EF6\uFF0C\u5219\u4F1A\u9020\u6210<code>dom</code>\u8BBF\u95EE\u6B21\u6570\u8FC7\u591A\uFF0C\u5F15\u8D77\u6D4F\u89C8\u5668\u91CD\u7ED8\u4E0E\u91CD\u6392\u7684\u6B21\u6570\u8FC7\u591A\uFF0C\u6027\u80FD\u5219\u4F1A\u964D\u4F4E\u3002 \u4F7F\u7528\u4E8B\u4EF6\u59D4\u6258\u5219\u53EF\u4EE5\u89E3\u51B3\u8FD9\u6837\u7684\u95EE\u9898</p></blockquote><p>\u539F\u7406</p><blockquote><p>\u5B9E\u73B0\u4E8B\u4EF6\u59D4\u6258\u662F\u5229\u7528\u4E86\u4E8B\u4EF6\u7684\u5192\u6CE1\u539F\u7406\u5B9E\u73B0\u7684\u3002\u5F53\u6211\u4EEC\u4E3A\u6700\u5916\u5C42\u7684\u8282\u70B9\u6DFB\u52A0\u70B9\u51FB\u4E8B\u4EF6\uFF0C\u90A3\u4E48\u91CC\u9762\u7684<code>ul</code>\u3001<code>li</code>\u3001<code>a</code>\u7684\u70B9\u51FB\u4E8B\u4EF6\u90FD\u4F1A\u5192\u6CE1\u5230\u6700\u5916\u5C42\u8282\u70B9\u4E0A\uFF0C\u59D4\u6258\u5B83\u4EE3\u4E3A\u6267\u884C\u4E8B\u4EF6</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;ul id=&quot;ul&quot;&gt;
    &lt;li&gt;1&lt;/li&gt;
    &lt;li&gt;2&lt;/li&gt;
    &lt;li&gt;3&lt;/li&gt;
&lt;/ul&gt;
window.onload = function(){
    var ulEle = document.getElementById(&#39;ul&#39;);
    ul.onclick = function(ev){
        //\u517C\u5BB9IE
        ev = ev || window.event;
        var target = ev.target || ev.srcElement;

        if(target.nodeName.toLowerCase() == &#39;li&#39;){
            alert( target.innerHTML);
        }

    }
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_13-\u6A21\u5757\u5316" tabindex="-1"><a class="header-anchor" href="#_13-\u6A21\u5757\u5316" aria-hidden="true">#</a> 13 \u6A21\u5757\u5316</h3><blockquote><p>js \u4E2D\u73B0\u5728\u6BD4\u8F83\u6210\u719F\u7684\u6709\u56DB\u79CD\u6A21\u5757\u52A0\u8F7D\u65B9\u6848\uFF1A</p></blockquote><ul><li>\u7B2C\u4E00\u79CD\u662F CommonJS \u65B9\u6848\uFF0C\u5B83\u901A\u8FC7 require \u6765\u5F15\u5165\u6A21\u5757\uFF0C\u901A\u8FC7 module.exports \u5B9A\u4E49\u6A21\u5757\u7684\u8F93\u51FA\u63A5\u53E3\u3002\u8FD9\u79CD\u6A21\u5757\u52A0\u8F7D\u65B9\u6848\u662F\u670D\u52A1\u5668\u7AEF\u7684\u89E3\u51B3\u65B9\u6848\uFF0C\u5B83\u662F\u4EE5\u540C\u6B65\u7684\u65B9\u5F0F\u6765\u5F15\u5165\u6A21\u5757\u7684\uFF0C\u56E0\u4E3A\u5728\u670D\u52A1\u7AEF\u6587\u4EF6\u90FD\u5B58\u50A8\u5728\u672C\u5730\u78C1\u76D8\uFF0C\u6240\u4EE5\u8BFB\u53D6\u975E\u5E38\u5FEB\uFF0C\u6240\u4EE5\u4EE5\u540C\u6B65\u7684\u65B9\u5F0F\u52A0\u8F7D\u6CA1\u6709\u95EE\u9898\u3002\u4F46\u5982\u679C\u662F\u5728\u6D4F\u89C8\u5668\u7AEF\uFF0C\u7531\u4E8E\u6A21\u5757\u7684\u52A0\u8F7D\u662F\u4F7F\u7528\u7F51\u7EDC\u8BF7\u6C42\uFF0C\u56E0\u6B64\u4F7F\u7528\u5F02\u6B65\u52A0\u8F7D\u7684\u65B9\u5F0F\u66F4\u52A0\u5408\u9002\u3002</li><li>\u7B2C\u4E8C\u79CD\u662F AMD \u65B9\u6848\uFF0C\u8FD9\u79CD\u65B9\u6848\u91C7\u7528\u5F02\u6B65\u52A0\u8F7D\u7684\u65B9\u5F0F\u6765\u52A0\u8F7D\u6A21\u5757\uFF0C\u6A21\u5757\u7684\u52A0\u8F7D\u4E0D\u5F71\u54CD\u540E\u9762\u8BED\u53E5\u7684\u6267\u884C\uFF0C\u6240\u6709\u4F9D\u8D56\u8FD9\u4E2A\u6A21\u5757\u7684\u8BED\u53E5\u90FD\u5B9A\u4E49\u5728\u4E00\u4E2A\u56DE\u8C03\u51FD\u6570\u91CC\uFF0C\u7B49\u5230\u52A0\u8F7D\u5B8C\u6210\u540E\u518D\u6267\u884C\u56DE\u8C03\u51FD\u6570\u3002require.js \u5B9E\u73B0\u4E86 AMD \u89C4\u8303</li><li>\u7B2C\u4E09\u79CD\u662F CMD \u65B9\u6848\uFF0C\u8FD9\u79CD\u65B9\u6848\u548C AMD \u65B9\u6848\u90FD\u662F\u4E3A\u4E86\u89E3\u51B3\u5F02\u6B65\u6A21\u5757\u52A0\u8F7D\u7684\u95EE\u9898\uFF0Csea.js \u5B9E\u73B0\u4E86 CMD \u89C4\u8303\u3002\u5B83\u548Crequire.js\u7684\u533A\u522B\u5728\u4E8E\u6A21\u5757\u5B9A\u4E49\u65F6\u5BF9\u4F9D\u8D56\u7684\u5904\u7406\u4E0D\u540C\u548C\u5BF9\u4F9D\u8D56\u6A21\u5757\u7684\u6267\u884C\u65F6\u673A\u7684\u5904\u7406\u4E0D\u540C\u3002</li><li>\u7B2C\u56DB\u79CD\u65B9\u6848\u662F ES6 \u63D0\u51FA\u7684\u65B9\u6848\uFF0C\u4F7F\u7528 import \u548C export \u7684\u5F62\u5F0F\u6765\u5BFC\u5165\u5BFC\u51FA\u6A21\u5757</li></ul><blockquote><p>\u5728\u6709\xA0<code>Babel</code>\xA0\u7684\u60C5\u51B5\u4E0B\uFF0C\u6211\u4EEC\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\xA0<code>ES6</code>\u7684\u6A21\u5757\u5316</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// file a.js
export function a() {}
export function b() {}
// file b.js
export default function() {}

import {a, b} from &#39;./a.js&#39;
import XXX from &#39;./b.js&#39;

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>CommonJS</p><blockquote><p><code>CommonJs</code>\xA0\u662F\xA0<code>Node</code>\xA0\u72EC\u6709\u7684\u89C4\u8303\uFF0C\u6D4F\u89C8\u5668\u4E2D\u4F7F\u7528\u5C31\u9700\u8981\u7528\u5230\xA0<code>Browserify</code>\u89E3\u6790\u4E86\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// a.js
module.exports = {
    a: 1
}
// or
exports.a = 1

// b.js
var module = require(&#39;./a.js&#39;)
module.a // -&gt; log 1

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u5728\u4E0A\u8FF0\u4EE3\u7801\u4E2D\uFF0C<code>module.exports</code>\xA0\u548C\xA0<code>exports</code>\xA0\u5F88\u5BB9\u6613\u6DF7\u6DC6\uFF0C\u8BA9\u6211\u4EEC\u6765\u770B\u770B\u5927\u81F4\u5185\u90E8\u5B9E\u73B0</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var module = require(&#39;./a.js&#39;)
module.a
// \u8FD9\u91CC\u5176\u5B9E\u5C31\u662F\u5305\u88C5\u4E86\u4E00\u5C42\u7ACB\u5373\u6267\u884C\u51FD\u6570\uFF0C\u8FD9\u6837\u5C31\u4E0D\u4F1A\u6C61\u67D3\u5168\u5C40\u53D8\u91CF\u4E86\uFF0C
// \u91CD\u8981\u7684\u662F module \u8FD9\u91CC\uFF0Cmodule \u662F Node \u72EC\u6709\u7684\u4E00\u4E2A\u53D8\u91CF
module.exports = {
    a: 1
}
// \u57FA\u672C\u5B9E\u73B0
var module = {
  exports: {} // exports \u5C31\u662F\u4E2A\u7A7A\u5BF9\u8C61
}
// \u8FD9\u4E2A\u662F\u4E3A\u4EC0\u4E48 exports \u548C module.exports \u7528\u6CD5\u76F8\u4F3C\u7684\u539F\u56E0
var exports = module.exports
var load = function (module) {
    // \u5BFC\u51FA\u7684\u4E1C\u897F
    var a = 1
    module.exports = a
    return module.exports
};

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u518D\u6765\u8BF4\u8BF4\xA0<code>module.exports</code>\xA0\u548C<code>exports</code>\uFF0C\u7528\u6CD5\u5176\u5B9E\u662F\u76F8\u4F3C\u7684\uFF0C\u4F46\u662F\u4E0D\u80FD\u5BF9\xA0<code>exports</code>\xA0\u76F4\u63A5\u8D4B\u503C\uFF0C\u4E0D\u4F1A\u6709\u4EFB\u4F55\u6548\u679C\u3002</p></blockquote><blockquote><p>\u5BF9\u4E8E\xA0<code>CommonJS</code>\xA0\u548C\xA0<code>ES6</code>\xA0\u4E2D\u7684\u6A21\u5757\u5316\u7684\u4E24\u8005\u533A\u522B\u662F\uFF1A</p></blockquote><ul><li>\u524D\u8005\u652F\u6301\u52A8\u6001\u5BFC\u5165\uFF0C\u4E5F\u5C31\u662F\xA0<code>require(\${path}/xx.js)</code>\uFF0C\u540E\u8005\u76EE\u524D\u4E0D\u652F\u6301\uFF0C\u4F46\u662F\u5DF2\u6709\u63D0\u6848,\u524D\u8005\u662F\u540C\u6B65\u5BFC\u5165\uFF0C\u56E0\u4E3A\u7528\u4E8E\u670D\u52A1\u7AEF\uFF0C\u6587\u4EF6\u90FD\u5728\u672C\u5730\uFF0C\u540C\u6B65\u5BFC\u5165\u5373\u4F7F\u5361\u4F4F\u4E3B\u7EBF\u7A0B\u5F71\u54CD\u4E5F\u4E0D\u5927\u3002</li><li>\u800C\u540E\u8005\u662F\u5F02\u6B65\u5BFC\u5165\uFF0C\u56E0\u4E3A\u7528\u4E8E\u6D4F\u89C8\u5668\uFF0C\u9700\u8981\u4E0B\u8F7D\u6587\u4EF6\uFF0C\u5982\u679C\u4E5F\u91C7\u7528\u540C\u6B65\u5BFC\u5165\u4F1A\u5BF9\u6E32\u67D3\u6709\u5F88\u5927\u5F71\u54CD</li><li>\u524D\u8005\u5728\u5BFC\u51FA\u65F6\u90FD\u662F\u503C\u62F7\u8D1D\uFF0C\u5C31\u7B97\u5BFC\u51FA\u7684\u503C\u53D8\u4E86\uFF0C\u5BFC\u5165\u7684\u503C\u4E5F\u4E0D\u4F1A\u6539\u53D8\uFF0C\u6240\u4EE5\u5982\u679C\u60F3\u66F4\u65B0\u503C\uFF0C\u5FC5\u987B\u91CD\u65B0\u5BFC\u5165\u4E00\u6B21\u3002</li><li>\u4F46\u662F\u540E\u8005\u91C7\u7528\u5B9E\u65F6\u7ED1\u5B9A\u7684\u65B9\u5F0F\uFF0C\u5BFC\u5165\u5BFC\u51FA\u7684\u503C\u90FD\u6307\u5411\u540C\u4E00\u4E2A\u5185\u5B58\u5730\u5740\uFF0C\u6240\u4EE5\u5BFC\u5165\u503C\u4F1A\u8DDF\u968F\u5BFC\u51FA\u503C\u53D8\u5316</li><li>\u540E\u8005\u4F1A\u7F16\u8BD1\u6210\xA0<code>require/exports</code>\xA0\u6765\u6267\u884C\u7684</li></ul><p>AMD</p><blockquote><p><code>AMD</code>\xA0\u662F\u7531\xA0<code>RequireJS</code>\xA0\u63D0\u51FA\u7684</p></blockquote><p>AMD \u548C CMD \u89C4\u8303\u7684\u533A\u522B\uFF1F</p><ul><li>\u7B2C\u4E00\u4E2A\u65B9\u9762\u662F\u5728\u6A21\u5757\u5B9A\u4E49\u65F6\u5BF9\u4F9D\u8D56\u7684\u5904\u7406\u4E0D\u540C\u3002AMD\u63A8\u5D07\u4F9D\u8D56\u524D\u7F6E\uFF0C\u5728\u5B9A\u4E49\u6A21\u5757\u7684\u65F6\u5019\u5C31\u8981\u58F0\u660E\u5176\u4F9D\u8D56\u7684\u6A21\u5757\u3002\u800C CMD \u63A8\u5D07\u5C31\u8FD1\u4F9D\u8D56\uFF0C\u53EA\u6709\u5728\u7528\u5230\u67D0\u4E2A\u6A21\u5757\u7684\u65F6\u5019\u518D\u53BB require\u3002</li><li>\u7B2C\u4E8C\u4E2A\u65B9\u9762\u662F\u5BF9\u4F9D\u8D56\u6A21\u5757\u7684\u6267\u884C\u65F6\u673A\u5904\u7406\u4E0D\u540C\u3002\u9996\u5148 AMD \u548C CMD \u5BF9\u4E8E\u6A21\u5757\u7684\u52A0\u8F7D\u65B9\u5F0F\u90FD\u662F\u5F02\u6B65\u52A0\u8F7D\uFF0C\u4E0D\u8FC7\u5B83\u4EEC\u7684\u533A\u522B\u5728\u4E8E\u6A21\u5757\u7684\u6267\u884C\u65F6\u673A\uFF0CAMD \u5728\u4F9D\u8D56\u6A21\u5757\u52A0\u8F7D\u5B8C\u6210\u540E\u5C31\u76F4\u63A5\u6267\u884C\u4F9D\u8D56\u6A21\u5757\uFF0C\u4F9D\u8D56\u6A21\u5757\u7684\u6267\u884C\u987A\u5E8F\u548C\u6211\u4EEC\u4E66\u5199\u7684\u987A\u5E8F\u4E0D\u4E00\u5B9A\u4E00\u81F4\u3002\u800C CMD\u5728\u4F9D\u8D56\u6A21\u5757\u52A0\u8F7D\u5B8C\u6210\u540E\u5E76\u4E0D\u6267\u884C\uFF0C\u53EA\u662F\u4E0B\u8F7D\u800C\u5DF2\uFF0C\u7B49\u5230\u6240\u6709\u7684\u4F9D\u8D56\u6A21\u5757\u90FD\u52A0\u8F7D\u597D\u540E\uFF0C\u8FDB\u5165\u56DE\u8C03\u51FD\u6570\u903B\u8F91\uFF0C\u9047\u5230 require \u8BED\u53E5\u7684\u65F6\u5019\u624D\u6267\u884C\u5BF9\u5E94\u7684\u6A21\u5757\uFF0C\u8FD9\u6837\u6A21\u5757\u7684\u6267\u884C\u987A\u5E8F\u5C31\u548C\u6211\u4EEC\u4E66\u5199\u7684\u987A\u5E8F\u4FDD\u6301\u4E00\u81F4\u4E86\u3002</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// CMD
define(function(require, exports, module) {
  var a = require(&quot;./a&quot;);
  a.doSomething();
  // \u6B64\u5904\u7565\u53BB 100 \u884C
  var b = require(&quot;./b&quot;); // \u4F9D\u8D56\u53EF\u4EE5\u5C31\u8FD1\u4E66\u5199
  b.doSomething();
  // ...
});

// AMD \u9ED8\u8BA4\u63A8\u8350
define([&quot;./a&quot;, &quot;./b&quot;], function(a, b) {
  // \u4F9D\u8D56\u5FC5\u987B\u4E00\u5F00\u59CB\u5C31\u5199\u597D
  a.doSomething();
  // \u6B64\u5904\u7565\u53BB 100 \u884C
  b.doSomething();
  // ...
})

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>AMD\uFF1A<code>requirejs</code>\xA0\u5728\u63A8\u5E7F\u8FC7\u7A0B\u4E2D\u5BF9\u6A21\u5757\u5B9A\u4E49\u7684\u89C4\u8303\u5316\u4EA7\u51FA\uFF0C\u63D0\u524D\u6267\u884C\uFF0C\u63A8\u5D07\u4F9D\u8D56\u524D\u7F6E</li><li>CMD\uFF1A<code>seajs</code>\xA0\u5728\u63A8\u5E7F\u8FC7\u7A0B\u4E2D\u5BF9\u6A21\u5757\u5B9A\u4E49\u7684\u89C4\u8303\u5316\u4EA7\u51FA\uFF0C\u5EF6\u8FDF\u6267\u884C\uFF0C\u63A8\u5D07\u4F9D\u8D56\u5C31\u8FD1</li><li>CommonJs\uFF1A\u6A21\u5757\u8F93\u51FA\u7684\u662F\u4E00\u4E2A\u503C\u7684\xA0<code>copy</code>\uFF0C\u8FD0\u884C\u65F6\u52A0\u8F7D\uFF0C\u52A0\u8F7D\u7684\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF08<code>module.exports</code>\xA0\u5C5E\u6027\uFF09\uFF0C\u8BE5\u5BF9\u8C61\u53EA\u6709\u5728\u811A\u672C\u8FD0\u884C\u5B8C\u624D\u4F1A\u751F\u6210</li><li>ES6 Module\uFF1A\u6A21\u5757\u8F93\u51FA\u7684\u662F\u4E00\u4E2A\u503C\u7684\u5F15\u7528\uFF0C\u7F16\u8BD1\u65F6\u8F93\u51FA\u63A5\u53E3\uFF0C<code>ES6</code>\u6A21\u5757\u4E0D\u662F\u5BF9\u8C61\uFF0C\u5B83\u5BF9\u5916\u63A5\u53E3\u53EA\u662F\u4E00\u79CD\u9759\u6001\u5B9A\u4E49\uFF0C\u5728\u4EE3\u7801\u9759\u6001\u89E3\u6790\u9636\u6BB5\u5C31\u4F1A\u751F\u6210\u3002</li></ul><p>\u8C08\u8C08\u5BF9\u6A21\u5757\u5316\u5F00\u53D1\u7684\u7406\u89E3</p><ul><li>\u6211\u5BF9\u6A21\u5757\u7684\u7406\u89E3\u662F\uFF0C\u4E00\u4E2A\u6A21\u5757\u662F\u5B9E\u73B0\u4E00\u4E2A\u7279\u5B9A\u529F\u80FD\u7684\u4E00\u7EC4\u65B9\u6CD5\u3002\u5728\u6700\u5F00\u59CB\u7684\u65F6\u5019\uFF0Cjs \u53EA\u5B9E\u73B0\u4E00\u4E9B\u7B80\u5355\u7684\u529F\u80FD\uFF0C\u6240\u4EE5\u5E76\u6CA1\u6709\u6A21\u5757\u7684\u6982\u5FF5\uFF0C\u4F46\u968F\u7740\u7A0B\u5E8F\u8D8A\u6765\u8D8A\u590D\u6742\uFF0C\u4EE3\u7801\u7684\u6A21\u5757\u5316\u5F00\u53D1\u53D8\u5F97\u8D8A\u6765\u8D8A\u91CD\u8981\u3002</li><li>\u7531\u4E8E\u51FD\u6570\u5177\u6709\u72EC\u7ACB\u4F5C\u7528\u57DF\u7684\u7279\u70B9\uFF0C\u6700\u539F\u59CB\u7684\u5199\u6CD5\u662F\u4F7F\u7528\u51FD\u6570\u6765\u4F5C\u4E3A\u6A21\u5757\uFF0C\u51E0\u4E2A\u51FD\u6570\u4F5C\u4E3A\u4E00\u4E2A\u6A21\u5757\uFF0C\u4F46\u662F\u8FD9\u79CD\u65B9\u5F0F\u5BB9\u6613\u9020\u6210\u5168\u5C40\u53D8\u91CF\u7684\u6C61\u67D3\uFF0C\u5E76\u4E14\u6A21\u5757\u95F4\u6CA1\u6709\u8054\u7CFB\u3002</li><li>\u540E\u9762\u63D0\u51FA\u4E86\u5BF9\u8C61\u5199\u6CD5\uFF0C\u901A\u8FC7\u5C06\u51FD\u6570\u4F5C\u4E3A\u4E00\u4E2A\u5BF9\u8C61\u7684\u65B9\u6CD5\u6765\u5B9E\u73B0\uFF0C\u8FD9\u6837\u89E3\u51B3\u4E86\u76F4\u63A5\u4F7F\u7528\u51FD\u6570\u4F5C\u4E3A\u6A21\u5757\u7684\u4E00\u4E9B\u7F3A\u70B9\uFF0C\u4F46\u662F\u8FD9\u79CD\u529E\u6CD5\u4F1A\u66B4\u9732\u6240\u6709\u7684\u6240\u6709\u7684\u6A21\u5757\u6210\u5458\uFF0C\u5916\u90E8\u4EE3\u7801\u53EF\u4EE5\u4FEE\u6539\u5185\u90E8\u5C5E\u6027\u7684\u503C\u3002</li><li>\u73B0\u5728\u6700\u5E38\u7528\u7684\u662F\u7ACB\u5373\u6267\u884C\u51FD\u6570\u7684\u5199\u6CD5\uFF0C\u901A\u8FC7\u5229\u7528\u95ED\u5305\u6765\u5B9E\u73B0\u6A21\u5757\u79C1\u6709\u4F5C\u7528\u57DF\u7684\u5EFA\u7ACB\uFF0C\u540C\u65F6\u4E0D\u4F1A\u5BF9\u5168\u5C40\u4F5C\u7528\u57DF\u9020\u6210\u6C61\u67D3\u3002</li></ul><h3 id="_14-iterator\u8FED\u4EE3\u5668" tabindex="-1"><a class="header-anchor" href="#_14-iterator\u8FED\u4EE3\u5668" aria-hidden="true">#</a> 14 Iterator\u8FED\u4EE3\u5668</h3><blockquote><p><code>Iterator</code>\uFF08\u8FED\u4EE3\u5668\uFF09\u662F\u4E00\u79CD\u63A5\u53E3\uFF0C\u4E5F\u53EF\u4EE5\u8BF4\u662F\u4E00\u79CD\u89C4\u8303\u3002\u4E3A\u5404\u79CD\u4E0D\u540C\u7684\u6570\u636E\u7ED3\u6784\u63D0\u4F9B\u7EDF\u4E00\u7684\u8BBF\u95EE\u673A\u5236\u3002\u4EFB\u4F55\u6570\u636E\u7ED3\u6784\u53EA\u8981\u90E8\u7F72<code>Iterator</code>\u63A5\u53E3\uFF0C\u5C31\u53EF\u4EE5\u5B8C\u6210\u904D\u5386\u64CD\u4F5C\uFF08\u5373\u4F9D\u6B21\u5904\u7406\u8BE5\u6570\u636E\u7ED3\u6784\u7684\u6240\u6709\u6210\u5458\uFF09\u3002</p></blockquote><p>Iterator\u8BED\u6CD5\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>const obj = {
    [Symbol.iterator]:function(){}
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>[Symbol.iterator]</code>\xA0\u5C5E\u6027\u540D\u662F\u56FA\u5B9A\u7684\u5199\u6CD5\uFF0C\u53EA\u8981\u62E5\u6709\u4E86\u8BE5\u5C5E\u6027\u7684\u5BF9\u8C61\uFF0C\u5C31\u80FD\u591F\u7528\u8FED\u4EE3\u5668\u7684\u65B9\u5F0F\u8FDB\u884C\u904D\u5386\u3002</p></blockquote><ul><li>\u8FED\u4EE3\u5668\u7684\u904D\u5386\u65B9\u6CD5\u662F\u9996\u5148\u83B7\u5F97\u4E00\u4E2A\u8FED\u4EE3\u5668\u7684\u6307\u9488\uFF0C\u521D\u59CB\u65F6\u8BE5\u6307\u9488\u6307\u5411\u7B2C\u4E00\u6761\u6570\u636E\u4E4B\u524D\uFF0C\u63A5\u7740\u901A\u8FC7\u8C03\u7528 next \u65B9\u6CD5\uFF0C\u6539\u53D8\u6307\u9488\u7684\u6307\u5411\uFF0C\u8BA9\u5176\u6307\u5411\u4E0B\u4E00\u6761\u6570\u636E</li><li>\u6BCF\u4E00\u6B21\u7684\xA0<code>next</code>\xA0\u90FD\u4F1A\u8FD4\u56DE\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u8BE5\u5BF9\u8C61\u6709\u4E24\u4E2A\u5C5E\u6027 <ul><li><code>value</code>\xA0\u4EE3\u8868\u60F3\u8981\u83B7\u53D6\u7684\u6570\u636E</li><li><code>done</code>\xA0\u5E03\u5C14\u503C\uFF0Cfalse\u8868\u793A\u5F53\u524D\u6307\u9488\u6307\u5411\u7684\u6570\u636E\u6709\u503C\uFF0Ctrue\u8868\u793A\u904D\u5386\u5DF2\u7ECF\u7ED3\u675F</li></ul></li></ul><p>Iterator \u7684\u4F5C\u7528\u6709\u4E09\u4E2A\uFF1A</p><ul><li>\u521B\u5EFA\u4E00\u4E2A\u6307\u9488\u5BF9\u8C61\uFF0C\u6307\u5411\u5F53\u524D\u6570\u636E\u7ED3\u6784\u7684\u8D77\u59CB\u4F4D\u7F6E\u3002\u4E5F\u5C31\u662F\u8BF4\uFF0C\u904D\u5386\u5668\u5BF9\u8C61\u672C\u8D28\u4E0A\uFF0C\u5C31\u662F\u4E00\u4E2A\u6307\u9488\u5BF9\u8C61\u3002</li><li>\u7B2C\u4E00\u6B21\u8C03\u7528\u6307\u9488\u5BF9\u8C61\u7684next\u65B9\u6CD5\uFF0C\u53EF\u4EE5\u5C06\u6307\u9488\u6307\u5411\u6570\u636E\u7ED3\u6784\u7684\u7B2C\u4E00\u4E2A\u6210\u5458\u3002</li><li>\u7B2C\u4E8C\u6B21\u8C03\u7528\u6307\u9488\u5BF9\u8C61\u7684next\u65B9\u6CD5\uFF0C\u6307\u9488\u5C31\u6307\u5411\u6570\u636E\u7ED3\u6784\u7684\u7B2C\u4E8C\u4E2A\u6210\u5458\u3002</li><li>\u4E0D\u65AD\u8C03\u7528\u6307\u9488\u5BF9\u8C61\u7684next\u65B9\u6CD5\uFF0C\u76F4\u5230\u5B83\u6307\u5411\u6570\u636E\u7ED3\u6784\u7684\u7ED3\u675F\u4F4D\u7F6E\u3002</li></ul><blockquote><p>\u6BCF\u4E00\u6B21\u8C03\u7528next\u65B9\u6CD5\uFF0C\u90FD\u4F1A\u8FD4\u56DE\u6570\u636E\u7ED3\u6784\u7684\u5F53\u524D\u6210\u5458\u7684\u4FE1\u606F\u3002\u5177\u4F53\u6765\u8BF4\uFF0C\u5C31\u662F\u8FD4\u56DE\u4E00\u4E2A\u5305\u542Bvalue\u548Cdone\u4E24\u4E2A\u5C5E\u6027\u7684\u5BF9\u8C61\u3002\u5176\u4E2D\uFF0Cvalue\u5C5E\u6027\u662F\u5F53\u524D\u6210\u5458\u7684\u503C\uFF0Cdone\u5C5E\u6027\u662F\u4E00\u4E2A\u5E03\u5C14\u503C\uFF0C\u8868\u793A\u904D\u5386\u662F\u5426\u7ED3\u675F\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>let arr = [{num:1},2,3]
let it = arr[Symbol.iterator]() // \u83B7\u53D6\u6570\u7EC4\u4E2D\u7684\u8FED\u4EE3\u5668
console.log(it.next())  // { value: Object { num: 1 }, done: false }
console.log(it.next())  // { value: 2, done: false }
console.log(it.next())  // { value: 3, done: false }
console.log(it.next())  // { value: undefined, done: true }

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u5BF9\u8C61\u6CA1\u6709\u5E03\u5C40Iterator\u63A5\u53E3\uFF0C\u65E0\u6CD5\u4F7F\u7528<code>for of</code>\xA0\u904D\u5386\u3002\u4E0B\u9762\u4F7F\u5F97\u5BF9\u8C61\u5177\u5907Iterator\u63A5\u53E3</p></blockquote><ul><li>\u4E00\u4E2A\u6570\u636E\u7ED3\u6784\u53EA\u8981\u6709Symbol.iterator\u5C5E\u6027\uFF0C\u5C31\u53EF\u4EE5\u8BA4\u4E3A\u662F&quot;\u53EF\u904D\u5386\u7684&quot;</li><li>\u539F\u578B\u90E8\u7F72\u4E86Iterator\u63A5\u53E3\u7684\u6570\u636E\u7ED3\u6784\u6709\u4E09\u79CD\uFF0C\u5177\u4F53\u5305\u542B\u56DB\u79CD\uFF0C\u5206\u522B\u662F\u6570\u7EC4\uFF0C\u7C7B\u4F3C\u6570\u7EC4\u7684\u5BF9\u8C61\uFF0CSet\u548CMap\u7ED3\u6784</li></ul><p>\u4E3A\u4EC0\u4E48\u5BF9\u8C61\uFF08Object\uFF09\u6CA1\u6709\u90E8\u7F72Iterator\u63A5\u53E3\u5462\uFF1F</p><ul><li>\u4E00\u662F\u56E0\u4E3A\u5BF9\u8C61\u7684\u54EA\u4E2A\u5C5E\u6027\u5148\u904D\u5386\uFF0C\u54EA\u4E2A\u5C5E\u6027\u540E\u904D\u5386\u662F\u4E0D\u786E\u5B9A\u7684\uFF0C\u9700\u8981\u5F00\u53D1\u8005\u624B\u52A8\u6307\u5B9A\u3002\u7136\u800C\u904D\u5386\u904D\u5386\u5668\u662F\u4E00\u79CD\u7EBF\u6027\u5904\u7406\uFF0C\u5BF9\u4E8E\u975E\u7EBF\u6027\u7684\u6570\u636E\u7ED3\u6784\uFF0C\u90E8\u7F72\u904D\u5386\u5668\u63A5\u53E3\uFF0C\u5C31\u7B49\u4E8E\u8981\u90E8\u7F72\u4E00\u79CD\u7EBF\u6027\u8F6C\u6362</li><li>\u5BF9\u5BF9\u8C61\u90E8\u7F72<code>Iterator</code>\u63A5\u53E3\u5E76\u4E0D\u662F\u5F88\u5FC5\u8981\uFF0C\u56E0\u4E3A<code>Map</code>\u5F25\u8865\u4E86\u5B83\u7684\u7F3A\u9677\uFF0C\u53C8\u6B63\u597D\u6709<code>Iteraotr</code>\u63A5\u53E3</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>let obj = {
    id: &#39;123&#39;,
    name: &#39;\u5F20\u4E09&#39;,
    age: 18,
    gender: &#39;\u7537&#39;,
    hobbie: &#39;\u7761\u89C9&#39;
}

obj[Symbol.iterator] = function () {
    let keyArr = Object.keys(obj)
    let index = 0
    return {
        next() {
            return index &lt; keyArr.length ? {
                value: {
                    key: keyArr[index],
                    val: obj[keyArr[index++]]
                }
            } : {
                done: true
            }
        }
    }
}

for (let key of obj) {
  console.log(key)
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+O+'" alt=""></p><h3 id="_15-promise" tabindex="-1"><a class="header-anchor" href="#_15-promise" aria-hidden="true">#</a> 15 Promise</h3><blockquote><p>\u8FD9\u91CC\u4F60\u8C08\xA0<code>promise</code>\u7684\u65F6\u5019\uFF0C\u9664\u4E86\u5C06\u4ED6\u89E3\u51B3\u7684\u75DB\u70B9\u4EE5\u53CA\u5E38\u7528\u7684\xA0<code>API</code>\xA0\u4E4B\u5916\uFF0C\u6700\u597D\u8FDB\u884C\u62D3\u5C55\u628A\xA0<code>eventloop</code>\xA0\u5E26\u8FDB\u6765\u597D\u597D\u8BB2\u4E00\u4E0B\uFF0C<code>microtask</code>(\u5FAE\u4EFB\u52A1)\u3001<code>macrotask</code>(\u4EFB\u52A1) \u7684\u6267\u884C\u987A\u5E8F\uFF0C\u5982\u679C\u770B\u8FC7\xA0<code>promise</code>\xA0\u6E90\u7801\uFF0C\u6700\u597D\u53EF\u4EE5\u8C08\u4E00\u8C08 \u539F\u751F\xA0<code>Promise</code>\xA0\u662F\u5982\u4F55\u5B9E\u73B0\u7684\u3002<code>Promise</code>\xA0\u7684\u5173\u952E\u70B9\u5728\u4E8E<code>callback</code>\xA0\u7684\u4E24\u4E2A\u53C2\u6570\uFF0C\u4E00\u4E2A\u662F\xA0<code>resovle</code>\uFF0C\u4E00\u4E2A\u662F\xA0<code>reject</code>\u3002\u8FD8\u6709\u5C31\u662F\xA0<code>Promise</code>\xA0\u7684\u94FE\u5F0F\u8C03\u7528\uFF08<code>Promise.then()</code>\uFF0C\u6BCF\u4E00\u4E2A\xA0<code>then</code>\xA0\u90FD\u662F\u4E00\u4E2A\u8D23\u4EFB\u4EBA\uFF09</p></blockquote><ul><li><code>Promise</code>\xA0\u662F\xA0<code>ES6</code>\xA0\u65B0\u589E\u7684\u8BED\u6CD5\uFF0C\u89E3\u51B3\u4E86\u56DE\u8C03\u5730\u72F1\u7684\u95EE\u9898\u3002</li><li>\u53EF\u4EE5\u628A\xA0<code>Promise</code>\u770B\u6210\u4E00\u4E2A\u72B6\u6001\u673A\u3002\u521D\u59CB\u662F\xA0<code>pending</code>\xA0\u72B6\u6001\uFF0C\u53EF\u4EE5\u901A\u8FC7\u51FD\u6570\xA0<code>resolve</code>\xA0\u548C\xA0<code>reject</code>\uFF0C\u5C06\u72B6\u6001\u8F6C\u53D8\u4E3A\xA0<code>resolved</code>\xA0\u6216\u8005\xA0<code>rejected</code>\xA0\u72B6\u6001\uFF0C\u72B6\u6001\u4E00\u65E6\u6539\u53D8\u5C31\u4E0D\u80FD\u518D\u6B21\u53D8\u5316\u3002</li><li><code>then</code>\xA0\u51FD\u6570\u4F1A\u8FD4\u56DE\u4E00\u4E2A\xA0<code>Promise</code>\xA0\u5B9E\u4F8B\uFF0C\u5E76\u4E14\u8BE5\u8FD4\u56DE\u503C\u662F\u4E00\u4E2A\u65B0\u7684\u5B9E\u4F8B\u800C\u4E0D\u662F\u4E4B\u524D\u7684\u5B9E\u4F8B\u3002\u56E0\u4E3A\xA0<code>Promise</code>\xA0\u89C4\u8303\u89C4\u5B9A\u9664\u4E86\xA0<code>pending</code>\xA0\u72B6\u6001\uFF0C\u5176\u4ED6\u72B6\u6001\u662F\u4E0D\u53EF\u4EE5\u6539\u53D8\u7684\uFF0C\u5982\u679C\u8FD4\u56DE\u7684\u662F\u4E00\u4E2A\u76F8\u540C\u5B9E\u4F8B\u7684\u8BDD\uFF0C\u591A\u4E2A\xA0<code>then</code>\xA0\u8C03\u7528\u5C31\u5931\u53BB\u610F\u4E49\u4E86\u3002 \u5BF9\u4E8E\xA0<code>then</code>\xA0\u6765\u8BF4\uFF0C\u672C\u8D28\u4E0A\u53EF\u4EE5\u628A\u5B83\u770B\u6210\u662F\xA0<code>flatMap</code></li></ul><p>1. Promise \u7684\u57FA\u672C\u60C5\u51B5</p><blockquote><p>\u7B80\u5355\u6765\u8BF4\u5B83\u5C31\u662F\u4E00\u4E2A\u5BB9\u5668\uFF0C\u91CC\u9762\u4FDD\u5B58\u7740\u67D0\u4E2A\u672A\u6765\u624D\u4F1A\u7ED3\u675F\u7684\u4E8B\u4EF6\uFF08\u901A\u5E38\u662F\u5F02\u6B65\u64CD\u4F5C\uFF09\u7684\u7ED3\u679C\u3002\u4ECE\u8BED\u6CD5\u4E0A\u8BF4\uFF0CPromise \u662F\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u4ECE\u5B83\u53EF\u4EE5\u83B7\u53D6\u5F02\u6B65\u64CD\u4F5C\u7684\u6D88\u606F</p></blockquote><p>\u4E00\u822C Promise \u5728\u6267\u884C\u8FC7\u7A0B\u4E2D\uFF0C\u5FC5\u7136\u4F1A\u5904\u4E8E\u4EE5\u4E0B\u51E0\u79CD\u72B6\u6001\u4E4B\u4E00\u3002</p><ul><li>\u5F85\u5B9A\uFF08<code>pending</code>\uFF09\uFF1A\u521D\u59CB\u72B6\u6001\uFF0C\u65E2\u6CA1\u6709\u88AB\u5B8C\u6210\uFF0C\u4E5F\u6CA1\u6709\u88AB\u62D2\u7EDD\u3002</li><li>\u5DF2\u5B8C\u6210\uFF08<code>fulfilled</code>\uFF09\uFF1A\u64CD\u4F5C\u6210\u529F\u5B8C\u6210\u3002</li><li>\u5DF2\u62D2\u7EDD\uFF08<code>rejected</code>\uFF09\uFF1A\u64CD\u4F5C\u5931\u8D25\u3002</li></ul><blockquote><p>\u5F85\u5B9A\u72B6\u6001\u7684\xA0<code>Promise</code>\xA0\u5BF9\u8C61\u6267\u884C\u7684\u8BDD\uFF0C\u6700\u540E\u8981\u4E48\u4F1A\u901A\u8FC7\u4E00\u4E2A\u503C\u5B8C\u6210\uFF0C\u8981\u4E48\u4F1A\u901A\u8FC7\u4E00\u4E2A\u539F\u56E0\u88AB\u62D2\u7EDD\u3002\u5F53\u5176\u4E2D\u4E00\u79CD\u60C5\u51B5\u53D1\u751F\u65F6\uFF0C\u6211\u4EEC\u7528\xA0<code>Promise</code>\xA0\u7684\xA0<code>then</code>\xA0\u65B9\u6CD5\u6392\u5217\u8D77\u6765\u7684\u76F8\u5173\u5904\u7406\u7A0B\u5E8F\u5C31\u4F1A\u88AB\u8C03\u7528\u3002\u56E0\u4E3A\u6700\u540E\xA0<code>Promise.prototype.then</code>\xA0\u548C\xA0<code>Promise.prototype.catch</code>\xA0\u65B9\u6CD5\u8FD4\u56DE\u7684\u662F\u4E00\u4E2A\xA0<code>Promise</code>\uFF0C \u6240\u4EE5\u5B83\u4EEC\u53EF\u4EE5\u7EE7\u7EED\u88AB\u94FE\u5F0F\u8C03\u7528</p></blockquote><p>\u5173\u4E8E Promise \u7684\u72B6\u6001\u6D41\u8F6C\u60C5\u51B5\uFF0C\u6709\u4E00\u70B9\u503C\u5F97\u6CE8\u610F\u7684\u662F\uFF0C\u5185\u90E8\u72B6\u6001\u6539\u53D8\u4E4B\u540E\u4E0D\u53EF\u9006\uFF0C\u4F60\u9700\u8981\u5728\u7F16\u7A0B\u8FC7\u7A0B\u4E2D\u52A0\u4EE5\u6CE8\u610F\u3002\u6587\u5B57\u63CF\u8FF0\u6BD4\u8F83\u6666\u6DA9\uFF0C\u6211\u4EEC\u76F4\u63A5\u901A\u8FC7\u4E00\u5F20\u56FE\u5C31\u80FD\u5F88\u6E05\u6670\u5730\u770B\u51FA Promise \u5185\u90E8\u72B6\u6001\u6D41\u8F6C\u7684\u60C5\u51B5</p><p><img src="'+T+`" alt=""></p><p>\u4ECE\u4E0A\u56FE\u53EF\u4EE5\u770B\u51FA\uFF0C\u6211\u4EEC\u6700\u5F00\u59CB\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684\xA0<code>Promise</code>\xA0\u8FD4\u56DE\u7ED9\xA0<code>p1</code>\xA0\uFF0C\u7136\u540E\u5F00\u59CB\u6267\u884C\uFF0C\u72B6\u6001\u662F pending\uFF0C\u5F53\u6267\u884C\xA0<code>resolve</code>\u4E4B\u540E\u72B6\u6001\u5C31\u5207\u6362\u4E3A\xA0<code>fulfilled</code>\uFF0C\u6267\u884C\xA0<code>reject</code>\xA0\u4E4B\u540E\u5C31\u53D8\u4E3A\xA0<code>rejected</code>\xA0\u7684\u72B6\u6001</p><p>2. Promise \u7684\u9759\u6001\u65B9\u6CD5</p><ul><li><code>all \u65B9\u6CD5</code><ul><li>\u8BED\u6CD5\uFF1A\xA0<code>Promise.all\uFF08iterable\uFF09</code></li><li>\u53C2\u6570\uFF1A \u4E00\u4E2A\u53EF\u8FED\u4EE3\u5BF9\u8C61\uFF0C\u5982\xA0<code>Array</code>\u3002</li><li>\u63CF\u8FF0\uFF1A \u6B64\u65B9\u6CD5\u5BF9\u4E8E\u6C47\u603B\u591A\u4E2A\xA0<code>promise</code>\xA0\u7684\u7ED3\u679C\u5F88\u6709\u7528\uFF0C\u5728 ES6 \u4E2D\u53EF\u4EE5\u5C06\u591A\u4E2A\xA0<code>Promise.all</code>\xA0\u5F02\u6B65\u8BF7\u6C42\u5E76\u884C\u64CD\u4F5C\uFF0C\u8FD4\u56DE\u7ED3\u679C\u4E00\u822C\u6709\u4E0B\u9762\u4E24\u79CD\u60C5\u51B5\u3002 <ul><li>\u5F53\u6240\u6709\u7ED3\u679C\u6210\u529F\u8FD4\u56DE\u65F6\u6309\u7167\u8BF7\u6C42\u987A\u5E8F\u8FD4\u56DE\u6210\u529F\u7ED3\u679C\u3002</li><li>\u5F53\u5176\u4E2D\u6709\u4E00\u4E2A\u5931\u8D25\u65B9\u6CD5\u65F6\uFF0C\u5219\u8FDB\u5165\u5931\u8D25\u65B9\u6CD5</li></ul></li></ul></li><li>\u6211\u4EEC\u6765\u770B\u4E0B\u4E1A\u52A1\u7684\u573A\u666F\uFF0C\u5BF9\u4E8E\u4E0B\u9762\u8FD9\u4E2A\u4E1A\u52A1\u573A\u666F\u9875\u9762\u7684\u52A0\u8F7D\uFF0C\u5C06\u591A\u4E2A\u8BF7\u6C42\u5408\u5E76\u5230\u4E00\u8D77\uFF0C\u7528 all \u6765\u5B9E\u73B0\u53EF\u80FD\u6548\u679C\u4F1A\u66F4\u597D\uFF0C\u8BF7\u770B\u4EE3\u7801\u7247\u6BB5</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// \u5728\u4E00\u4E2A\u9875\u9762\u4E2D\u9700\u8981\u52A0\u8F7D\u83B7\u53D6\u8F6E\u64AD\u5217\u8868\u3001\u83B7\u53D6\u5E97\u94FA\u5217\u8868\u3001\u83B7\u53D6\u5206\u7C7B\u5217\u8868\u8FD9\u4E09\u4E2A\u64CD\u4F5C\uFF0C\u9875\u9762\u9700\u8981\u540C\u65F6\u53D1\u51FA\u8BF7\u6C42\u8FDB\u884C\u9875\u9762\u6E32\u67D3\uFF0C\u8FD9\u6837\u7528 \`Promise.all\` \u6765\u5B9E\u73B0\uFF0C\u770B\u8D77\u6765\u66F4\u6E05\u6670\u3001\u4E00\u76EE\u4E86\u7136\u3002

//1.\u83B7\u53D6\u8F6E\u64AD\u6570\u636E\u5217\u8868
function getBannerList(){
  return new Promise((resolve,reject)=&gt;{
      setTimeout(function(){
        resolve(&#39;\u8F6E\u64AD\u6570\u636E&#39;)
      },300)
  })
}
//2.\u83B7\u53D6\u5E97\u94FA\u5217\u8868
function getStoreList(){
  return new Promise((resolve,reject)=&gt;{
    setTimeout(function(){
      resolve(&#39;\u5E97\u94FA\u6570\u636E&#39;)
    },500)
  })
}
//3.\u83B7\u53D6\u5206\u7C7B\u5217\u8868
function getCategoryList(){
  return new Promise((resolve,reject)=&gt;{
    setTimeout(function(){
      resolve(&#39;\u5206\u7C7B\u6570\u636E&#39;)
    },700)
  })
}
function initLoad(){
  Promise.all([getBannerList(),getStoreList(),getCategoryList()])
  .then(res=&gt;{
    console.log(res)
  }).catch(err=&gt;{
    console.log(err)
  })
}
initLoad()

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>allSettled</code>\xA0\u65B9\u6CD5 <ul><li><code>Promise.allSettled</code>\xA0\u7684\u8BED\u6CD5\u53CA\u53C2\u6570\u8DDF\xA0<code>Promise.all</code>\xA0\u7C7B\u4F3C\uFF0C\u5176\u53C2\u6570\u63A5\u53D7\u4E00\u4E2A\xA0<code>Promise</code>\xA0\u7684\u6570\u7EC4\uFF0C\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684\xA0<code>Promise</code>\u3002<code>\u552F\u4E00\u7684\u4E0D\u540C\u5728\u4E8E\uFF0C\u6267\u884C\u5B8C\u4E4B\u540E\u4E0D\u4F1A\u5931\u8D25</code>\uFF0C\u4E5F\u5C31\u662F\u8BF4\u5F53\xA0<code>Promise.allSettled</code>\xA0\u5168\u90E8\u5904\u7406\u5B8C\u6210\u540E\uFF0C\u6211\u4EEC\u53EF\u4EE5\u62FF\u5230\u6BCF\u4E2A\xA0<code>Promise</code>\xA0\u7684\u72B6\u6001\uFF0C\u800C\u4E0D\u7BA1\u5176\u662F\u5426\u5904\u7406\u6210\u529F</li></ul></li><li>\u6211\u4EEC\u6765\u770B\u4E00\u4E0B\u7528\xA0<code>allSettled</code>\xA0\u5B9E\u73B0\u7684\u4E00\u6BB5\u4EE3\u7801</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>const resolved = Promise.resolve(2);
const rejected = Promise.reject(-1);
const allSettledPromise = Promise.allSettled([resolved, rejected]);
allSettledPromise.then(function (results) {
  console.log(results);
});
// \u8FD4\u56DE\u7ED3\u679C\uFF1A
// [
//    { status: &#39;fulfilled&#39;, value: 2 },
//    { status: &#39;rejected&#39;, reason: -1 }
// ]

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u4ECE\u4E0A\u9762\u4EE3\u7801\u4E2D\u53EF\u4EE5\u770B\u5230\uFF0C<code>Promise.allSettled</code>\xA0\u6700\u540E\u8FD4\u56DE\u7684\u662F\u4E00\u4E2A\u6570\u7EC4\uFF0C\u8BB0\u5F55\u4F20\u8FDB\u6765\u7684\u53C2\u6570\u4E2D\u6BCF\u4E2A Promise \u7684\u8FD4\u56DE\u503C\uFF0C\u8FD9\u5C31\u662F\u548C all \u65B9\u6CD5\u4E0D\u592A\u4E00\u6837\u7684\u5730\u65B9\u3002</p></blockquote><ul><li><code>any</code>\xA0\u65B9\u6CD5 <ul><li>\u8BED\u6CD5\uFF1A\xA0<code>Promise.any\uFF08iterable\uFF09</code></li><li>\u53C2\u6570\uFF1A\xA0<code>iterable</code>\xA0\u53EF\u8FED\u4EE3\u7684\u5BF9\u8C61\uFF0C\u4F8B\u5982\xA0<code>Array</code>\u3002</li><li>\u63CF\u8FF0\uFF1A\xA0<code>any</code>\xA0\u65B9\u6CD5\u8FD4\u56DE\u4E00\u4E2A\xA0<code>Promise</code>\uFF0C\u53EA\u8981\u53C2\u6570\xA0<code>Promise</code>\xA0\u5B9E\u4F8B\u6709\u4E00\u4E2A\u53D8\u6210\xA0<code>fulfilled</code>\u72B6\u6001\uFF0C\u6700\u540E\xA0<code>any</code>\u8FD4\u56DE\u7684\u5B9E\u4F8B\u5C31\u4F1A\u53D8\u6210\xA0<code>fulfilled</code>\xA0\u72B6\u6001\uFF1B\u5982\u679C\u6240\u6709\u53C2\u6570\xA0<code>Promise</code>\xA0\u5B9E\u4F8B\u90FD\u53D8\u6210\xA0<code>rejected</code>\xA0\u72B6\u6001\uFF0C\u5305\u88C5\u5B9E\u4F8B\u5C31\u4F1A\u53D8\u6210\xA0<code>rejected</code>\xA0\u72B6\u6001\u3002</li></ul></li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>const resolved = Promise.resolve(2);
const rejected = Promise.reject(-1);
const anyPromise = Promise.any([resolved, rejected]);
anyPromise.then(function (results) {
  console.log(results);
});
// \u8FD4\u56DE\u7ED3\u679C\uFF1A
// 2

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u4ECE\u6539\u9020\u540E\u7684\u4EE3\u7801\u4E2D\u53EF\u4EE5\u770B\u51FA\uFF0C\u53EA\u8981\u5176\u4E2D\u4E00\u4E2A\xA0<code>Promise</code>\xA0\u53D8\u6210\xA0<code>fulfilled</code>\u72B6\u6001\uFF0C\u90A3\u4E48\xA0<code>any</code>\xA0\u6700\u540E\u5C31\u8FD4\u56DE\u8FD9\u4E2A<code>p romise</code>\u3002\u7531\u4E8E\u4E0A\u9762\xA0<code>resolved</code>\xA0\u8FD9\u4E2A Promise \u5DF2\u7ECF\u662F\xA0<code>resolve</code>\xA0\u7684\u4E86\uFF0C\u6545\u6700\u540E\u8FD4\u56DE\u7ED3\u679C\u4E3A\xA0<code>2</code></p></blockquote><ul><li><code>race</code>\xA0\u65B9\u6CD5 <ul><li>\u8BED\u6CD5\uFF1A\xA0<code>Promise.race\uFF08iterable\uFF09</code></li><li>\u53C2\u6570\uFF1A\xA0<code>iterable</code>\xA0\u53EF\u8FED\u4EE3\u7684\u5BF9\u8C61\uFF0C\u4F8B\u5982\xA0<code>Array</code>\u3002</li><li>\u63CF\u8FF0\uFF1A\xA0<code>race</code>\u65B9\u6CD5\u8FD4\u56DE\u4E00\u4E2A\xA0<code>Promise</code>\uFF0C\u53EA\u8981\u53C2\u6570\u7684\xA0<code>Promise</code>\xA0\u4E4B\u4E2D\u6709\u4E00\u4E2A\u5B9E\u4F8B\u7387\u5148\u6539\u53D8\u72B6\u6001\uFF0C\u5219\xA0<code>race</code>\xA0\u65B9\u6CD5\u7684\u8FD4\u56DE\u72B6\u6001\u5C31\u8DDF\u7740\u6539\u53D8\u3002\u90A3\u4E2A\u7387\u5148\u6539\u53D8\u7684\xA0<code>Promise</code>\xA0\u5B9E\u4F8B\u7684\u8FD4\u56DE\u503C\uFF0C\u5C31\u4F20\u9012\u7ED9\xA0<code>race</code>\xA0\u65B9\u6CD5\u7684\u56DE\u8C03\u51FD\u6570</li></ul></li><li>\u6211\u4EEC\u6765\u770B\u4E00\u4E0B\u8FD9\u4E2A\u4E1A\u52A1\u573A\u666F\uFF0C\u5BF9\u4E8E\u56FE\u7247\u7684\u52A0\u8F7D\uFF0C\u7279\u522B\u9002\u5408\u7528 race \u65B9\u6CD5\u6765\u89E3\u51B3\uFF0C\u5C06\u56FE\u7247\u8BF7\u6C42\u548C\u8D85\u65F6\u5224\u65AD\u653E\u5230\u4E00\u8D77\uFF0C\u7528 race \u6765\u5B9E\u73B0\u56FE\u7247\u7684\u8D85\u65F6\u5224\u65AD\u3002\u8BF7\u770B\u4EE3\u7801\u7247\u6BB5\u3002</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>//\u8BF7\u6C42\u67D0\u4E2A\u56FE\u7247\u8D44\u6E90
function requestImg(){
  var p = new Promise(function(resolve, reject){
    var img = new Image();
    img.onload = function(){ resolve(img); }
    img.src = &#39;http://www.baidu.com/img/flexible/logo/pc/result.png&#39;;
  });
  return p;
}
//\u5EF6\u65F6\u51FD\u6570\uFF0C\u7528\u4E8E\u7ED9\u8BF7\u6C42\u8BA1\u65F6
function timeout(){
  var p = new Promise(function(resolve, reject){
    setTimeout(function(){ reject(&#39;\u56FE\u7247\u8BF7\u6C42\u8D85\u65F6&#39;); }, 5000);
  });
  return p;
}
Promise.race([requestImg(), timeout()])
.then(function(results){
  console.log(results);
})
.catch(function(reason){
  console.log(reason);
});

// \u4ECE\u4E0A\u9762\u7684\u4EE3\u7801\u4E2D\u53EF\u4EE5\u770B\u51FA\uFF0C\u91C7\u7528 Promise \u7684\u65B9\u5F0F\u6765\u5224\u65AD\u56FE\u7247\u662F\u5426\u52A0\u8F7D\u6210\u529F\uFF0C\u4E5F\u662F\u9488\u5BF9 Promise.race \u65B9\u6CD5\u7684\u4E00\u4E2A\u6BD4\u8F83\u597D\u7684\u4E1A\u52A1\u573A\u666F

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+C+`" alt=""></p><p>promise\u624B\u5199\u5B9E\u73B0\uFF0C\u9762\u8BD5\u591F\u7528\u7248\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function myPromise(constructor){
    let self=this;
    self.status=&quot;pending&quot; //\u5B9A\u4E49\u72B6\u6001\u6539\u53D8\u524D\u7684\u521D\u59CB\u72B6\u6001
    self.value=undefined;//\u5B9A\u4E49\u72B6\u6001\u4E3Aresolved\u7684\u65F6\u5019\u7684\u72B6\u6001
    self.reason=undefined;//\u5B9A\u4E49\u72B6\u6001\u4E3Arejected\u7684\u65F6\u5019\u7684\u72B6\u6001
    function resolve(value){
        //\u4E24\u4E2A===&quot;pending&quot;\uFF0C\u4FDD\u8BC1\u4E86\u72B6\u6001\u7684\u6539\u53D8\u662F\u4E0D\u53EF\u9006\u7684
       if(self.status===&quot;pending&quot;){
          self.value=value;
          self.status=&quot;resolved&quot;;
       }
    }
    function reject(reason){
        //\u4E24\u4E2A===&quot;pending&quot;\uFF0C\u4FDD\u8BC1\u4E86\u72B6\u6001\u7684\u6539\u53D8\u662F\u4E0D\u53EF\u9006\u7684
       if(self.status===&quot;pending&quot;){
          self.reason=reason;
          self.status=&quot;rejected&quot;;
       }
    }
    //\u6355\u83B7\u6784\u9020\u5F02\u5E38
    try{
       constructor(resolve,reject);
    }catch(e){
       reject(e);
    }
}
// \u5B9A\u4E49\u94FE\u5F0F\u8C03\u7528\u7684then\u65B9\u6CD5
myPromise.prototype.then=function(onFullfilled,onRejected){
   let self=this;
   switch(self.status){
      case &quot;resolved&quot;:
        onFullfilled(self.value);
        break;
      case &quot;rejected&quot;:
        onRejected(self.reason);
        break;
      default:
   }
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_16-generator" tabindex="-1"><a class="header-anchor" href="#_16-generator" aria-hidden="true">#</a> 16 Generator</h3><blockquote><p><code>Generator</code>\xA0\u662F\xA0<code>ES6</code>\u4E2D\u65B0\u589E\u7684\u8BED\u6CD5\uFF0C\u548C\xA0<code>Promise</code>\xA0\u4E00\u6837\uFF0C\u90FD\u53EF\u4EE5\u7528\u6765\u5F02\u6B65\u7F16\u7A0B\u3002Generator\u51FD\u6570\u53EF\u4EE5\u8BF4\u662FIterator\u63A5\u53E3\u7684\u5177\u4F53\u5B9E\u73B0\u65B9\u5F0F\u3002Generator \u6700\u5927\u7684\u7279\u70B9\u5C31\u662F\u53EF\u4EE5\u63A7\u5236\u51FD\u6570\u7684\u6267\u884C\u3002</p></blockquote><ul><li><code>function*</code>\xA0\u7528\u6765\u58F0\u660E\u4E00\u4E2A\u51FD\u6570\u662F\u751F\u6210\u5668\u51FD\u6570\uFF0C\u5B83\u6BD4\u666E\u901A\u7684\u51FD\u6570\u58F0\u660E\u591A\u4E86\u4E00\u4E2A<code>*</code>,<code>*</code>\u7684\u4F4D\u7F6E\u6BD4\u8F83\u968F\u610F\u53EF\u4EE5\u6328\u7740\xA0<code>function</code>\xA0\u5173\u952E\u5B57\uFF0C\u4E5F\u53EF\u4EE5\u6328\u7740\u51FD\u6570\u540D</li><li><code>yield</code>\xA0\u4EA7\u51FA\u7684\u610F\u601D\uFF0C\u8FD9\u4E2A\u5173\u952E\u5B57\u53EA\u80FD\u51FA\u73B0\u5728\u751F\u6210\u5668\u51FD\u6570\u4F53\u5185\uFF0C\u4F46\u662F\u751F\u6210\u5668\u4E2D\u4E5F\u53EF\u4EE5\u6CA1\u6709<code>yield</code>\xA0\u5173\u952E\u5B57\uFF0C\u51FD\u6570\u9047\u5230\xA0<code>yield</code>\xA0\u7684\u65F6\u5019\u4F1A\u6682\u505C\uFF0C\u5E76\u628A\xA0<code>yield</code>\xA0\u540E\u9762\u7684\u8868\u8FBE\u5F0F\u7ED3\u679C\u629B\u51FA\u53BB</li><li><code>next</code>\u4F5C\u7528\u662F\u5C06\u4EE3\u7801\u7684\u63A7\u5236\u6743\u4EA4\u8FD8\u7ED9\u751F\u6210\u5668\u51FD\u6570</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function *foo(x) {
  let y = 2 * (yield (x + 1))
  let z = yield (y / 3)
  return (x + y + z)
}
let it = foo(5)
console.log(it.next())   // =&gt; {value: 6, done: false}
console.log(it.next(12)) // =&gt; {value: 8, done: false}
console.log(it.next(13)) // =&gt; {value: 42, done: true}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0A\u9762\u8FD9\u4E2A\u793A\u4F8B\u5C31\u662F\u4E00\u4E2AGenerator\u51FD\u6570\uFF0C\u6211\u4EEC\u6765\u5206\u6790\u5176\u6267\u884C\u8FC7\u7A0B\uFF1A</p><ul><li>\u9996\u5148 Generator \u51FD\u6570\u8C03\u7528\u65F6\u5B83\u4F1A\u8FD4\u56DE\u4E00\u4E2A\u8FED\u4EE3\u5668</li><li>\u5F53\u6267\u884C\u7B2C\u4E00\u6B21 next \u65F6\uFF0C\u4F20\u53C2\u4F1A\u88AB\u5FFD\u7565\uFF0C\u5E76\u4E14\u51FD\u6570\u6682\u505C\u5728 yield (x + 1) \u5904\uFF0C\u6240\u4EE5\u8FD4\u56DE 5 + 1 = 6</li><li>\u5F53\u6267\u884C\u7B2C\u4E8C\u6B21 next \u65F6\uFF0C\u4F20\u5165\u7684\u53C2\u6570\u7B49\u4E8E\u4E0A\u4E00\u4E2A yield \u7684\u8FD4\u56DE\u503C\uFF0C\u5982\u679C\u4F60\u4E0D\u4F20\u53C2\uFF0Cyield \u6C38\u8FDC\u8FD4\u56DE undefined\u3002\u6B64\u65F6 let y = 2 * 12\uFF0C\u6240\u4EE5\u7B2C\u4E8C\u4E2A yield \u7B49\u4E8E 2 * 12 / 3 = 8</li><li>\u5F53\u6267\u884C\u7B2C\u4E09\u6B21 next \u65F6\uFF0C\u4F20\u5165\u7684\u53C2\u6570\u4F1A\u4F20\u9012\u7ED9 z\uFF0C\u6240\u4EE5 z = 13, x = 5, y = 24\uFF0C\u76F8\u52A0\u7B49\u4E8E 42</li></ul><p><code>yield</code>\u5B9E\u9645\u5C31\u662F\u6682\u7F13\u6267\u884C\u7684\u6807\u793A\uFF0C\u6BCF\u6267\u884C\u4E00\u6B21<code>next()</code>\uFF0C\u76F8\u5F53\u4E8E\u6307\u9488\u79FB\u52A8\u5230\u4E0B\u4E00\u4E2A<code>yield</code>\u4F4D\u7F6E</p><p><img src="`+N+`" alt=""></p><blockquote><p>\u603B\u7ED3\u4E00\u4E0B\uFF0C<code>Generator</code>\u51FD\u6570\u662F<code>ES6</code>\u63D0\u4F9B\u7684\u4E00\u79CD\u5F02\u6B65\u7F16\u7A0B\u89E3\u51B3\u65B9\u6848\u3002\u901A\u8FC7<code>yield</code>\u6807\u8BC6\u4F4D\u548C<code>next()</code>\u65B9\u6CD5\u8C03\u7528\uFF0C\u5B9E\u73B0\u51FD\u6570\u7684\u5206\u6BB5\u6267\u884C</p></blockquote><p>\u904D\u5386\u5668\u5BF9\u8C61\u751F\u6210\u51FD\u6570\uFF0C\u6700\u5927\u7684\u7279\u70B9\u662F\u53EF\u4EE5\u4EA4\u51FA\u51FD\u6570\u7684\u6267\u884C\u6743</p><ul><li><code>function</code>\xA0\u5173\u952E\u5B57\u4E0E\u51FD\u6570\u540D\u4E4B\u95F4\u6709\u4E00\u4E2A\u661F\u53F7\uFF1B</li><li>\u51FD\u6570\u4F53\u5185\u90E8\u4F7F\u7528\xA0<code>yield</code>\u8868\u8FBE\u5F0F\uFF0C\u5B9A\u4E49\u4E0D\u540C\u7684\u5185\u90E8\u72B6\u6001\uFF1B</li><li><code>next</code>\u6307\u9488\u79FB\u5411\u4E0B\u4E00\u4E2A\u72B6\u6001</li></ul><blockquote><p>\u8FD9\u91CC\u4F60\u53EF\u4EE5\u8BF4\u8BF4\xA0<code>Generator</code>\u7684\u5F02\u6B65\u7F16\u7A0B\uFF0C\u4EE5\u53CA\u5B83\u7684\u8BED\u6CD5\u7CD6\xA0<code>async</code>\xA0\u548C\xA0<code>awiat</code>\uFF0C\u4F20\u7EDF\u7684\u5F02\u6B65\u7F16\u7A0B\u3002<code>ES6</code>\xA0\u4E4B\u524D\uFF0C\u5F02\u6B65\u7F16\u7A0B\u5927\u81F4\u5982\u4E0B</p></blockquote><ul><li>\u56DE\u8C03\u51FD\u6570</li><li>\u4E8B\u4EF6\u76D1\u542C</li><li>\u53D1\u5E03/\u8BA2\u9605</li></ul><blockquote><p>\u4F20\u7EDF\u5F02\u6B65\u7F16\u7A0B\u65B9\u6848\u4E4B\u4E00\uFF1A\u534F\u7A0B\uFF0C\u591A\u4E2A\u7EBF\u7A0B\u4E92\u76F8\u534F\u4F5C\uFF0C\u5B8C\u6210\u5F02\u6B65\u4EFB\u52A1\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// \u4F7F\u7528 * \u8868\u793A\u8FD9\u662F\u4E00\u4E2A Generator \u51FD\u6570
// \u5185\u90E8\u53EF\u4EE5\u901A\u8FC7 yield \u6682\u505C\u4EE3\u7801
// \u901A\u8FC7\u8C03\u7528 next \u6062\u590D\u6267\u884C
function* test() {
  let a = 1 + 2;
  yield 2;
  yield 3;
}
let b = test();
console.log(b.next()); // &gt;  { value: 2, done: false }
console.log(b.next()); // &gt;  { value: 3, done: false }
console.log(b.next()); // &gt;  { value: undefined, done: true }

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u4ECE\u4EE5\u4E0A\u4EE3\u7801\u53EF\u4EE5\u53D1\u73B0\uFF0C\u52A0\u4E0A\xA0<code>*</code>\u7684\u51FD\u6570\u6267\u884C\u540E\u62E5\u6709\u4E86\xA0<code>next</code>\xA0\u51FD\u6570\uFF0C\u4E5F\u5C31\u662F\u8BF4\u51FD\u6570\u6267\u884C\u540E\u8FD4\u56DE\u4E86\u4E00\u4E2A\u5BF9\u8C61\u3002\u6BCF\u6B21\u8C03\u7528\xA0<code>next</code>\xA0\u51FD\u6570\u53EF\u4EE5\u7EE7\u7EED\u6267\u884C\u88AB\u6682\u505C\u7684\u4EE3\u7801\u3002\u4EE5\u4E0B\u662F\xA0<code>Generator</code>\xA0\u51FD\u6570\u7684\u7B80\u5355\u5B9E\u73B0</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// cb \u4E5F\u5C31\u662F\u7F16\u8BD1\u8FC7\u7684 test \u51FD\u6570
function generator(cb) {
  return (function() {
    var object = {
      next: 0,
      stop: function() {}
    };

    return {
      next: function() {
        var ret = cb(object);
        if (ret === undefined) return { value: undefined, done: true };
        return {
          value: ret,
          done: false
        };
      }
    };
  })();
}
// \u5982\u679C\u4F60\u4F7F\u7528 babel \u7F16\u8BD1\u540E\u53EF\u4EE5\u53D1\u73B0 test \u51FD\u6570\u53D8\u6210\u4E86\u8FD9\u6837
function test() {
  var a;
  return generator(function(_context) {
    while (1) {
      switch ((_context.prev = _context.next)) {
        // \u53EF\u4EE5\u53D1\u73B0\u901A\u8FC7 yield \u5C06\u4EE3\u7801\u5206\u5272\u6210\u51E0\u5757
        // \u6BCF\u6B21\u6267\u884C next \u51FD\u6570\u5C31\u6267\u884C\u4E00\u5757\u4EE3\u7801
        // \u5E76\u4E14\u8868\u660E\u4E0B\u6B21\u9700\u8981\u6267\u884C\u54EA\u5757\u4EE3\u7801
        case 0:
          a = 1 + 2;
          _context.next = 4;
          return 2;
        case 4:
          _context.next = 6;
          return 3;
		// \u6267\u884C\u5B8C\u6BD5
        case 6:
        case &quot;end&quot;:
          return _context.stop();
      }
    }
  });
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_17-async-await" tabindex="-1"><a class="header-anchor" href="#_17-async-await" aria-hidden="true">#</a> 17 async/await</h3><blockquote><p><code>Generator</code>\xA0\u51FD\u6570\u7684\u8BED\u6CD5\u7CD6\u3002\u6709\u66F4\u597D\u7684\u8BED\u4E49\u3001\u66F4\u597D\u7684\u9002\u7528\u6027\u3001\u8FD4\u56DE\u503C\u662F\xA0<code>Promise</code>\u3002</p></blockquote><ul><li>await \u548C promise \u4E00\u6837\uFF0C\u66F4\u591A\u7684\u662F\u8003\u7B14\u8BD5\u9898\uFF0C\u5F53\u7136\u5076\u5C14\u4E5F\u4F1A\u95EE\u5230\u548C promise \u7684\u4E00\u4E9B\u533A\u522B\u3002</li><li>await \u76F8\u6BD4\u76F4\u63A5\u4F7F\u7528 Promise \u6765\u8BF4\uFF0C\u4F18\u52BF\u5728\u4E8E\u5904\u7406 then \u7684\u8C03\u7528\u94FE\uFF0C\u80FD\u591F\u66F4\u6E05\u6670\u51C6\u786E\u7684\u5199\u51FA\u4EE3\u7801\u3002\u7F3A\u70B9\u5728\u4E8E\u6EE5\u7528 await \u53EF\u80FD\u4F1A\u5BFC\u81F4\u6027\u80FD\u95EE\u9898\uFF0C\u56E0\u4E3A await \u4F1A\u963B\u585E\u4EE3\u7801\uFF0C\u4E5F\u8BB8\u4E4B\u540E\u7684\u5F02\u6B65\u4EE3\u7801\u5E76\u4E0D\u4F9D\u8D56\u4E8E\u524D\u8005\uFF0C\u4F46\u4ECD\u7136\u9700\u8981\u7B49\u5F85\u524D\u8005\u5B8C\u6210\uFF0C\u5BFC\u81F4\u4EE3\u7801\u5931\u53BB\u4E86\u5E76\u53D1\u6027\uFF0C\u6B64\u65F6\u66F4\u5E94\u8BE5\u4F7F\u7528 Promise.all\u3002</li><li>\u4E00\u4E2A\u51FD\u6570\u5982\u679C\u52A0\u4E0A async \uFF0C\u90A3\u4E48\u8BE5\u51FD\u6570\u5C31\u4F1A\u8FD4\u56DE\u4E00\u4E2A Promise</li></ul><blockquote><ul><li><code>async =&gt; *</code></li><li><code>await =&gt; yield</code></li></ul></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// \u57FA\u672C\u7528\u6CD5

async function timeout (ms) {
  await new Promise((resolve) =&gt; {
    setTimeout(resolve, ms)
  })
}
async function asyncConsole (value, ms) {
  await timeout(ms)
  console.log(value)
}
asyncConsole(&#39;hello async and await&#39;, 1000)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0B\u9762\u6765\u770B\u4E00\u4E2A\u4F7F\u7528\xA0<code>await</code>\xA0\u7684\u4EE3\u7801\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var a = 0
var b = async () =&gt; {
  a = a + await 10
  console.log(&#39;2&#39;, a) // -&gt; &#39;2&#39; 10
  a = (await 10) + a
  console.log(&#39;3&#39;, a) // -&gt; &#39;3&#39; 20
}
b()
a++
console.log(&#39;1&#39;, a) // -&gt; &#39;1&#39; 1

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u9996\u5148\u51FD\u6570<code>b</code>\xA0\u5148\u6267\u884C\uFF0C\u5728\u6267\u884C\u5230\xA0<code>await 10</code>\xA0\u4E4B\u524D\u53D8\u91CF\xA0<code>a</code>\xA0\u8FD8\u662F\xA0<code>0</code>\uFF0C\u56E0\u4E3A\u5728\xA0<code>await</code>\xA0\u5185\u90E8\u5B9E\u73B0\u4E86\xA0<code>generators</code>\xA0\uFF0C<code>generators</code>\xA0\u4F1A\u4FDD\u7559\u5806\u6808\u4E2D\u4E1C\u897F\uFF0C\u6240\u4EE5\u8FD9\u65F6\u5019\xA0<code>a = 0</code>\xA0\u88AB\u4FDD\u5B58\u4E86\u4E0B\u6765</li><li>\u56E0\u4E3A\xA0<code>await</code>\xA0\u662F\u5F02\u6B65\u64CD\u4F5C\uFF0C\u9047\u5230<code>await</code>\u5C31\u4F1A\u7ACB\u5373\u8FD4\u56DE\u4E00\u4E2A<code>pending</code>\u72B6\u6001\u7684<code>Promise</code>\u5BF9\u8C61\uFF0C\u6682\u65F6\u8FD4\u56DE\u6267\u884C\u4EE3\u7801\u7684\u63A7\u5236\u6743\uFF0C\u4F7F\u5F97\u51FD\u6570\u5916\u7684\u4EE3\u7801\u5F97\u4EE5\u7EE7\u7EED\u6267\u884C\uFF0C\u6240\u4EE5\u4F1A\u5148\u6267\u884C\xA0<code>console.log(&#39;1&#39;, a)</code></li><li>\u8FD9\u65F6\u5019\u540C\u6B65\u4EE3\u7801\u6267\u884C\u5B8C\u6BD5\uFF0C\u5F00\u59CB\u6267\u884C\u5F02\u6B65\u4EE3\u7801\uFF0C\u5C06\u4FDD\u5B58\u4E0B\u6765\u7684\u503C\u62FF\u51FA\u6765\u4F7F\u7528\uFF0C\u8FD9\u65F6\u5019\xA0<code>a = 10</code></li><li>\u7136\u540E\u540E\u9762\u5C31\u662F\u5E38\u89C4\u6267\u884C\u4EE3\u7801\u4E86</li></ul><p>\u4F18\u7F3A\u70B9\uFF1A</p><blockquote><p><code>async/await</code>\u7684\u4F18\u52BF\u5728\u4E8E\u5904\u7406 then \u7684\u8C03\u7528\u94FE\uFF0C\u80FD\u591F\u66F4\u6E05\u6670\u51C6\u786E\u7684\u5199\u51FA\u4EE3\u7801\uFF0C\u5E76\u4E14\u4E5F\u80FD\u4F18\u96C5\u5730\u89E3\u51B3\u56DE\u8C03\u5730\u72F1\u95EE\u9898\u3002\u5F53\u7136\u4E5F\u5B58\u5728\u4E00\u4E9B\u7F3A\u70B9\uFF0C\u56E0\u4E3A await \u5C06\u5F02\u6B65\u4EE3\u7801\u6539\u9020\u6210\u4E86\u540C\u6B65\u4EE3\u7801\uFF0C\u5982\u679C\u591A\u4E2A\u5F02\u6B65\u4EE3\u7801\u6CA1\u6709\u4F9D\u8D56\u6027\u5374\u4F7F\u7528\u4E86 await \u4F1A\u5BFC\u81F4\u6027\u80FD\u4E0A\u7684\u964D\u4F4E\u3002</p></blockquote><p>async\u539F\u7406</p><blockquote><p><code>async/await</code>\u8BED\u6CD5\u7CD6\u5C31\u662F\u4F7F\u7528<code>Generator</code>\u51FD\u6570+\u81EA\u52A8\u6267\u884C\u5668\u6765\u8FD0\u4F5C\u7684</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// \u5B9A\u4E49\u4E86\u4E00\u4E2Apromise\uFF0C\u7528\u6765\u6A21\u62DF\u5F02\u6B65\u8BF7\u6C42\uFF0C\u4F5C\u7528\u662F\u4F20\u5165\u53C2\u6570++
function getNum(num){
    return new Promise((resolve, reject) =&gt; {
        setTimeout(() =&gt; {
            resolve(num+1)
        }, 1000)
    })
}

//\u81EA\u52A8\u6267\u884C\u5668\uFF0C\u5982\u679C\u4E00\u4E2AGenerator\u51FD\u6570\u6CA1\u6709\u6267\u884C\u5B8C\uFF0C\u5219\u9012\u5F52\u8C03\u7528
function asyncFun(func){
  var gen = func();

  function next(data){
    var result = gen.next(data);
    if (result.done) return result.value;
    result.value.then(function(data){
      next(data);
    });
  }

  next();
}

// \u6240\u9700\u8981\u6267\u884C\u7684Generator\u51FD\u6570\uFF0C\u5185\u90E8\u7684\u6570\u636E\u5728\u6267\u884C\u5B8C\u6210\u4E00\u6B65\u7684promise\u4E4B\u540E\uFF0C\u518D\u8C03\u7528\u4E0B\u4E00\u6B65
var func = function* (){
  var f1 = yield getNum(1);
  var f2 = yield getNum(f1);
  console.log(f2) ;
};
asyncFun(func);

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u5728\u6267\u884C\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u5224\u65AD\u4E00\u4E2A\u51FD\u6570\u7684<code>promise</code>\u662F\u5426\u5B8C\u6210\uFF0C\u5982\u679C\u5DF2\u7ECF\u5B8C\u6210\uFF0C\u5C06\u7ED3\u679C\u4F20\u5165\u4E0B\u4E00\u4E2A\u51FD\u6570\uFF0C\u7EE7\u7EED\u91CD\u590D\u6B64\u6B65\u9AA4</li><li>\u6BCF\u4E00\u4E2A\xA0<code>next()</code>\xA0\u65B9\u6CD5\u8FD4\u56DE\u503C\u7684\xA0<code>value</code>\xA0\u5C5E\u6027\u4E3A\u4E00\u4E2A\xA0<code>Promise</code>\xA0\u5BF9\u8C61\uFF0C\u6240\u4EE5\u6211\u4EEC\u4E3A\u5176\u6DFB\u52A0\xA0<code>then</code>\xA0\u65B9\u6CD5\uFF0C \u5728\xA0<code>then</code>\xA0\u65B9\u6CD5\u91CC\u9762\u63A5\u7740\u8FD0\u884C\xA0<code>next</code>\xA0\u65B9\u6CD5\u632A\u79FB\u904D\u5386\u5668\u6307\u9488\uFF0C\u76F4\u5230\xA0<code>Generator</code>\u51FD\u6570\u8FD0\u884C\u5B8C\u6210</li></ul><p><img src="`+E+'" alt=""></p><h3 id="_18-\u4E8B\u4EF6\u5FAA\u73AF" tabindex="-1"><a class="header-anchor" href="#_18-\u4E8B\u4EF6\u5FAA\u73AF" aria-hidden="true">#</a> 18 \u4E8B\u4EF6\u5FAA\u73AF</h3><p><img src="'+A+'" alt=""></p><ul><li>\u9ED8\u8BA4\u4EE3\u7801\u4ECE\u4E0A\u5230\u4E0B\u6267\u884C\uFF0C\u6267\u884C\u73AF\u5883\u901A\u8FC7<code>script</code>\u6765\u6267\u884C\uFF08\u5B8F\u4EFB\u52A1\uFF09</li><li>\u5728\u4EE3\u7801\u6267\u884C\u8FC7\u7A0B\u4E2D\uFF0C\u8C03\u7528\u5B9A\u65F6\u5668\xA0<code>promise</code>\xA0<code>click</code>\u4E8B\u4EF6...\u4E0D\u4F1A\u7ACB\u5373\u6267\u884C\uFF0C\u9700\u8981\u7B49\u5F85\u5F53\u524D\u4EE3\u7801\u5168\u90E8\u6267\u884C\u5B8C\u6BD5</li><li>\u7ED9\u5F02\u6B65\u65B9\u6CD5\u5212\u5206\u961F\u5217\uFF0C\u5206\u522B\u5B58\u653E\u5230\u5FAE\u4EFB\u52A1\uFF08\u7ACB\u5373\u5B58\u653E\uFF09\u548C\u5B8F\u4EFB\u52A1\uFF08\u65F6\u95F4\u5230\u4E86\u6216\u4E8B\u60C5\u53D1\u751F\u4E86\u624D\u5B58\u653E\uFF09\u5230\u961F\u5217\u4E2D</li><li><code>script</code>\u6267\u884C\u5B8C\u6BD5\u540E\uFF0C\u4F1A\u6E05\u7A7A\u6240\u6709\u7684\u5FAE\u4EFB\u52A1</li><li>\u5FAE\u4EFB\u52A1\u6267\u884C\u5B8C\u6BD5\u540E\uFF0C\u4F1A\u6E32\u67D3\u9875\u9762\uFF08\u4E0D\u662F\u6BCF\u6B21\u90FD\u8C03\u7528\uFF09</li><li>\u518D\u53BB\u5B8F\u4EFB\u52A1\u961F\u5217\u4E2D\u770B\u6709\u6CA1\u6709\u5230\u8FBE\u65F6\u95F4\u7684\uFF0C\u62FF\u51FA\u6765\u5176\u4E2D\u4E00\u4E2A\u6267\u884C</li><li>\u6267\u884C\u5B8C\u6BD5\u540E\uFF0C\u6309\u7167\u4E0A\u8FF0\u6B65\u9AA4\u4E0D\u505C\u7684\u5FAA\u73AF</li></ul><p>\u4F8B\u5B50</p><p><img src="'+I+'" alt="">\xA0 <img src="'+J+'" alt=""></p><blockquote><p>\u81EA\u52A8\u6267\u884C\u7684\u60C5\u51B5 \u4F1A\u8F93\u51FA listener1 listener2 task1 task2</p></blockquote><p><img src="'+D+'" alt="">\xA0 <img src="'+M+'" alt=""></p><blockquote><p>\u5982\u679C\u624B\u52A8\u70B9\u51FBclick \u4F1A\u4E00\u4E2A\u5B8F\u4EFB\u52A1\u53D6\u51FA\u6765\u4E00\u4E2A\u4E2A\u6267\u884C\uFF0C\u5148\u6267\u884Cclick\u7684\u5B8F\u4EFB\u52A1\uFF0C\u53D6\u51FA\u5FAE\u4EFB\u52A1\u53BB\u6267\u884C\u3002\u4F1A\u8F93\u51FA listener1 task1 listener2 task2</p></blockquote><p><img src="'+F+`" alt=""></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>console.log(1)

async function asyncFunc(){
  console.log(2)
  // await xx ==&gt; promise.resolve(()=&gt;{console.log(3)}).then()
  // console.log(3) \u653E\u5230promise.resolve\u6216\u7ACB\u5373\u6267\u884C
  await console.log(3)
  // \u76F8\u5F53\u4E8E\u628Aconsole.log(4)\u653E\u5230\u4E86then promise.resolve(()=&gt;{console.log(3)}).then(()=&gt;{
  //   console.log(4)
  // })
  // \u5FAE\u4EFB\u52A1\u8C01\u5148\u6CE8\u518C\u8C01\u5148\u6267\u884C
  console.log(4)
}

setTimeout(()=&gt;{console.log(5)})

const promise = new Promise((resolve,reject)=&gt;{
  console.log(6)
  resolve(7)
})

promise.then(d=&gt;{console.log(d)})

asyncFunc()

console.log(8)

// \u8F93\u51FA 1 6 2 3 8 7 4 5

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>1. \u6D4F\u89C8\u5668\u4E8B\u4EF6\u5FAA\u73AF</p><blockquote><p>\u6D89\u53CA\u9762\u8BD5\u9898\uFF1A\u5F02\u6B65\u4EE3\u7801\u6267\u884C\u987A\u5E8F\uFF1F\u89E3\u91CA\u4E00\u4E0B\u4EC0\u4E48\u662F\xA0<code>Event Loop</code>\xA0\uFF1F</p></blockquote><blockquote><p>JavaScript\u7684\u5355\u7EBF\u7A0B\uFF0C\u4E0E\u5B83\u7684\u7528\u9014\u6709\u5173\u3002\u4F5C\u4E3A\u6D4F\u89C8\u5668\u811A\u672C\u8BED\u8A00\uFF0CJavaScript\u7684\u4E3B\u8981\u7528\u9014\u662F\u4E0E\u7528\u6237\u4E92\u52A8\uFF0C\u4EE5\u53CA\u64CD\u4F5CDOM\u3002\u8FD9\u51B3\u5B9A\u4E86\u5B83\u53EA\u80FD\u662F\u5355\u7EBF\u7A0B\uFF0C\u5426\u5219\u4F1A\u5E26\u6765\u5F88\u590D\u6742\u7684\u540C\u6B65\u95EE\u9898\u3002\u6BD4\u5982\uFF0C\u5047\u5B9AJavaScript\u540C\u65F6\u6709\u4E24\u4E2A\u7EBF\u7A0B\uFF0C\u4E00\u4E2A\u7EBF\u7A0B\u5728\u67D0\u4E2ADOM\u8282\u70B9\u4E0A\u6DFB\u52A0\u5185\u5BB9\uFF0C\u53E6\u4E00\u4E2A\u7EBF\u7A0B\u5220\u9664\u4E86\u8FD9\u4E2A\u8282\u70B9\uFF0C\u8FD9\u65F6\u6D4F\u89C8\u5668\u5E94\u8BE5\u4EE5\u54EA\u4E2A\u7EBF\u7A0B\u4E3A\u51C6\uFF1F\u6240\u4EE5\uFF0C\u4E3A\u4E86\u907F\u514D\u590D\u6742\u6027\uFF0C\u4ECE\u4E00\u8BDE\u751F\uFF0CJavaScript\u5C31\u662F\u5355\u7EBF\u7A0B\uFF0C\u8FD9\u5DF2\u7ECF\u6210\u4E86\u8FD9\u95E8\u8BED\u8A00\u7684\u6838\u5FC3\u7279\u5F81\uFF0C\u5C06\u6765\u4E5F\u4E0D\u4F1A\u6539\u53D8</p></blockquote><blockquote><p>js\u4EE3\u7801\u6267\u884C\u8FC7\u7A0B\u4E2D\u4F1A\u6709\u5F88\u591A\u4EFB\u52A1\uFF0C\u8FD9\u4E9B\u4EFB\u52A1\u603B\u7684\u5206\u6210\u4E24\u7C7B\uFF1A</p></blockquote><ul><li>\u540C\u6B65\u4EFB\u52A1</li><li>\u5F02\u6B65\u4EFB\u52A1</li></ul><blockquote><p>\u5F53\u6211\u4EEC\u6253\u5F00\u7F51\u7AD9\u65F6\uFF0C\u7F51\u9875\u7684\u6E32\u67D3\u8FC7\u7A0B\u5C31\u662F\u4E00\u5927\u5806\u540C\u6B65\u4EFB\u52A1\uFF0C\u6BD4\u5982\u9875\u9762\u9AA8\u67B6\u548C\u9875\u9762\u5143\u7D20\u7684\u6E32\u67D3\u3002\u800C\u50CF\u52A0\u8F7D\u56FE\u7247\u97F3\u4E50\u4E4B\u7C7B\u5360\u7528\u8D44\u6E90\u5927\u8017\u65F6\u4E45\u7684\u4EFB\u52A1\uFF0C\u5C31\u662F\u5F02\u6B65\u4EFB\u52A1\u3002\uFF0C\u6211\u4EEC\u7528\u5BFC\u56FE\u6765\u8BF4\u660E\uFF1A</p></blockquote><p><img src="`+L+`" alt=""></p><p>\u6211\u4EEC\u89E3\u91CA\u4E00\u4E0B\u8FD9\u5F20\u56FE\uFF1A</p><ul><li>\u540C\u6B65\u548C\u5F02\u6B65\u4EFB\u52A1\u5206\u522B\u8FDB\u5165\u4E0D\u540C\u7684\u6267\u884C&quot;\u573A\u6240&quot;\uFF0C\u540C\u6B65\u7684\u8FDB\u5165\u4E3B\u7EBF\u7A0B\uFF0C\u5F02\u6B65\u7684\u8FDB\u5165Event Table\u5E76\u6CE8\u518C\u51FD\u6570\u3002</li><li>\u5F53\u6307\u5B9A\u7684\u4E8B\u60C5\u5B8C\u6210\u65F6\uFF0CEvent Table\u4F1A\u5C06\u8FD9\u4E2A\u51FD\u6570\u79FB\u5165Event Queue\u3002</li><li>\u4E3B\u7EBF\u7A0B\u5185\u7684\u4EFB\u52A1\u6267\u884C\u5B8C\u6BD5\u4E3A\u7A7A\uFF0C\u4F1A\u53BBEvent Queue\u8BFB\u53D6\u5BF9\u5E94\u7684\u51FD\u6570\uFF0C\u8FDB\u5165\u4E3B\u7EBF\u7A0B\u6267\u884C\u3002</li><li>\u4E0A\u8FF0\u8FC7\u7A0B\u4F1A\u4E0D\u65AD\u91CD\u590D\uFF0C\u4E5F\u5C31\u662F\u5E38\u8BF4\u7684Event Loop(\u4E8B\u4EF6\u5FAA\u73AF)\u3002</li></ul><blockquote><p>\u90A3\u4E3B\u7EBF\u7A0B\u6267\u884C\u6808\u4F55\u65F6\u4E3A\u7A7A\u5462\uFF1Fjs\u5F15\u64CE\u5B58\u5728monitoring process\u8FDB\u7A0B\uFF0C\u4F1A\u6301\u7EED\u4E0D\u65AD\u7684\u68C0\u67E5\u4E3B\u7EBF\u7A0B\u6267\u884C\u6808\u662F\u5426\u4E3A\u7A7A\uFF0C\u4E00\u65E6\u4E3A\u7A7A\uFF0C\u5C31\u4F1A\u53BBEvent Queue\u90A3\u91CC\u68C0\u67E5\u662F\u5426\u6709\u7B49\u5F85\u88AB\u8C03\u7528\u7684\u51FD\u6570</p></blockquote><p>\u4EE5\u4E0A\u5C31\u662Fjs\u8FD0\u884C\u7684\u6574\u4F53\u6D41\u7A0B</p><p>\u9762\u8BD5\u4E2D\u8BE5\u5982\u4F55\u56DE\u7B54\u5462\uFF1F \u4E0B\u9762\u662F\u6211\u4E2A\u4EBA\u63A8\u8350\u7684\u56DE\u7B54\uFF1A</p><ul><li>\u9996\u5148js \u662F\u5355\u7EBF\u7A0B\u8FD0\u884C\u7684\uFF0C\u5728\u4EE3\u7801\u6267\u884C\u7684\u65F6\u5019\uFF0C\u901A\u8FC7\u5C06\u4E0D\u540C\u51FD\u6570\u7684\u6267\u884C\u4E0A\u4E0B\u6587\u538B\u5165\u6267\u884C\u6808\u4E2D\u6765\u4FDD\u8BC1\u4EE3\u7801\u7684\u6709\u5E8F\u6267\u884C</li><li>\u5728\u6267\u884C\u540C\u6B65\u4EE3\u7801\u7684\u65F6\u5019\uFF0C\u5982\u679C\u9047\u5230\u4E86\u5F02\u6B65\u4E8B\u4EF6\uFF0Cjs \u5F15\u64CE\u5E76\u4E0D\u4F1A\u4E00\u76F4\u7B49\u5F85\u5176\u8FD4\u56DE\u7ED3\u679C\uFF0C\u800C\u662F\u4F1A\u5C06\u8FD9\u4E2A\u4E8B\u4EF6\u6302\u8D77\uFF0C\u7EE7\u7EED\u6267\u884C\u6267\u884C\u6808\u4E2D\u7684\u5176\u4ED6\u4EFB\u52A1</li><li>\u5F53\u540C\u6B65\u4E8B\u4EF6\u6267\u884C\u5B8C\u6BD5\u540E\uFF0C\u518D\u5C06\u5F02\u6B65\u4E8B\u4EF6\u5BF9\u5E94\u7684\u56DE\u8C03\u52A0\u5165\u5230\u4E0E\u5F53\u524D\u6267\u884C\u6808\u4E2D\u4E0D\u540C\u7684\u53E6\u4E00\u4E2A\u4EFB\u52A1\u961F\u5217\u4E2D\u7B49\u5F85\u6267\u884C</li><li>\u4EFB\u52A1\u961F\u5217\u53EF\u4EE5\u5206\u4E3A\u5B8F\u4EFB\u52A1\u5BF9\u5217\u548C\u5FAE\u4EFB\u52A1\u5BF9\u5217\uFF0C\u5F53\u5F53\u524D\u6267\u884C\u6808\u4E2D\u7684\u4E8B\u4EF6\u6267\u884C\u5B8C\u6BD5\u540E\uFF0Cjs \u5F15\u64CE\u9996\u5148\u4F1A\u5224\u65AD\u5FAE\u4EFB\u52A1\u5BF9\u5217\u4E2D\u662F\u5426\u6709\u4EFB\u52A1\u53EF\u4EE5\u6267\u884C\uFF0C\u5982\u679C\u6709\u5C31\u5C06\u5FAE\u4EFB\u52A1\u961F\u9996\u7684\u4E8B\u4EF6\u538B\u5165\u6808\u4E2D\u6267\u884C</li><li>\u5F53\u5FAE\u4EFB\u52A1\u5BF9\u5217\u4E2D\u7684\u4EFB\u52A1\u90FD\u6267\u884C\u5B8C\u6210\u540E\u518D\u53BB\u5224\u65AD\u5B8F\u4EFB\u52A1\u5BF9\u5217\u4E2D\u7684\u4EFB\u52A1\u3002</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>setTimeout(function() {
  console.log(1)
}, 0);
new Promise(function(resolve, reject) {
  console.log(2);
  resolve()
}).then(function() {
  console.log(3)
});
process.nextTick(function () {
  console.log(4)
})
console.log(5)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u7B2C\u4E00\u8F6E\uFF1A\u4E3B\u7EBF\u7A0B\u5F00\u59CB\u6267\u884C\uFF0C\u9047\u5230<code>setTimeout</code>\uFF0C\u5C06setTimeout\u7684\u56DE\u8C03\u51FD\u6570\u4E22\u5230\u5B8F\u4EFB\u52A1\u961F\u5217\u4E2D\uFF0C\u5728\u5F80\u4E0B\u6267\u884C<code>new Promise</code>\u7ACB\u5373\u6267\u884C\uFF0C\u8F93\u51FA2\uFF0Cthen\u7684\u56DE\u8C03\u51FD\u6570\u4E22\u5230\u5FAE\u4EFB\u52A1\u961F\u5217\u4E2D\uFF0C\u518D\u7EE7\u7EED\u6267\u884C\uFF0C\u9047\u5230<code>process.nextTick</code>\uFF0C\u540C\u6837\u5C06\u56DE\u8C03\u51FD\u6570\u6254\u5230\u5FAE\u4EFB\u52A1\u961F\u5217\uFF0C\u518D\u7EE7\u7EED\u6267\u884C\uFF0C\u8F93\u51FA5\uFF0C\u5F53\u6240\u6709\u540C\u6B65\u4EFB\u52A1\u6267\u884C\u5B8C\u6210\u540E\u770B\u6709\u6CA1\u6709\u53EF\u4EE5\u6267\u884C\u7684\u5FAE\u4EFB\u52A1\uFF0C\u53D1\u73B0\u6709then\u51FD\u6570\u548C<code>nextTick</code>\u4E24\u4E2A\u5FAE\u4EFB\u52A1\uFF0C\u5148\u6267\u884C\u54EA\u4E2A\u5462\uFF1F<code>process.nextTick</code>\u6307\u5B9A\u7684\u5F02\u6B65\u4EFB\u52A1\u603B\u662F\u53D1\u751F\u5728\u6240\u6709\u5F02\u6B65\u4EFB\u52A1\u4E4B\u524D\uFF0C\u56E0\u6B64\u5148\u6267\u884Cprocess.nextTick\u8F93\u51FA4\u7136\u540E\u6267\u884Cthen\u51FD\u6570\u8F93\u51FA3\uFF0C\u7B2C\u4E00\u8F6E\u6267\u884C\u7ED3\u675F\u3002</li><li>\u7B2C\u4E8C\u8F6E\uFF1A\u4ECE\u5B8F\u4EFB\u52A1\u961F\u5217\u5F00\u59CB\uFF0C\u53D1\u73B0setTimeout\u56DE\u8C03\uFF0C\u8F93\u51FA1\u6267\u884C\u5B8C\u6BD5\uFF0C\u56E0\u6B64\u7ED3\u679C\u662F25431</li></ul><blockquote><p><code>JS</code>\xA0\u5728\u6267\u884C\u7684\u8FC7\u7A0B\u4E2D\u4F1A\u4EA7\u751F\u6267\u884C\u73AF\u5883\uFF0C\u8FD9\u4E9B\u6267\u884C\u73AF\u5883\u4F1A\u88AB\u987A\u5E8F\u7684\u52A0\u5165\u5230\u6267\u884C\u6808\u4E2D\u3002\u5982\u679C\u9047\u5230\u5F02\u6B65\u7684\u4EE3\u7801\uFF0C\u4F1A\u88AB\u6302\u8D77\u5E76\u52A0\u5165\u5230\xA0<code>Task</code>\uFF08\u6709\u591A\u79CD\xA0<code>task</code>\uFF09 \u961F\u5217\u4E2D\u3002\u4E00\u65E6\u6267\u884C\u6808\u4E3A\u7A7A\uFF0C<code>Event</code>\xA0<code>Loop</code>\xA0\u5C31\u4F1A\u4ECE\xA0<code>Task</code>\xA0\u961F\u5217\u4E2D\u62FF\u51FA\u9700\u8981\u6267\u884C\u7684\u4EE3\u7801\u5E76\u653E\u5165\u6267\u884C\u6808\u4E2D\u6267\u884C\uFF0C\u6240\u4EE5\u672C\u8D28\u4E0A\u6765\u8BF4\xA0<code>JS</code>\xA0\u4E2D\u7684\u5F02\u6B65\u8FD8\u662F\u540C\u6B65\u884C\u4E3A</p></blockquote><p><img src="`+B+`" alt=""></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>console.log(&#39;script start&#39;);

setTimeout(function() {
  console.log(&#39;setTimeout&#39;);
}, 0);

console.log(&#39;script end&#39;);

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u4E0D\u540C\u7684\u4EFB\u52A1\u6E90\u4F1A\u88AB\u5206\u914D\u5230\u4E0D\u540C\u7684\xA0<code>Task</code>\xA0\u961F\u5217\u4E2D\uFF0C\u4EFB\u52A1\u6E90\u53EF\u4EE5\u5206\u4E3A \u5FAE\u4EFB\u52A1\uFF08<code>microtask</code>\uFF09 \u548C \u5B8F\u4EFB\u52A1\uFF08<code>macrotask</code>\uFF09\u3002\u5728\xA0<code>ES6</code>\xA0\u89C4\u8303\u4E2D\uFF0C<code>microtask</code>\xA0\u79F0\u4E3A\xA0<code>jobs</code>\uFF0C<code>macrotask</code>\xA0\u79F0\u4E3A\xA0<code>task</code></p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>console.log(&#39;script start&#39;);

setTimeout(function() {
  console.log(&#39;setTimeout&#39;);
}, 0);

new Promise((resolve) =&gt; {
    console.log(&#39;Promise&#39;)
    resolve()
}).then(function() {
  console.log(&#39;promise1&#39;);
}).then(function() {
  console.log(&#39;promise2&#39;);
});

console.log(&#39;script end&#39;);
// script start =&gt; Promise =&gt; script end =&gt; promise1 =&gt; promise2 =&gt; setTimeout

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u4EE5\u4E0A\u4EE3\u7801\u867D\u7136\xA0<code>setTimeout</code>\xA0\u5199\u5728\xA0<code>Promise</code>\xA0\u4E4B\u524D\uFF0C\u4F46\u662F\u56E0\u4E3A\xA0<code>Promise</code>\xA0\u5C5E\u4E8E\u5FAE\u4EFB\u52A1\u800C\xA0<code>setTimeout</code>\xA0\u5C5E\u4E8E\u5B8F\u4EFB\u52A1</p></blockquote><p>\u5FAE\u4EFB\u52A1</p><ul><li><code>process.nextTick</code></li><li><code>promise</code></li><li><code>Object.observe</code></li><li><code>MutationObserver</code></li><li><img src="`+V+'" alt=""></li></ul><p>\u5B8F\u4EFB\u52A1</p><ul><li><code>script</code></li><li><code>setTimeout</code></li><li><code>setInterval</code></li><li><code>setImmediate</code></li><li><code>I/O</code>\xA0\u7F51\u7EDC\u8BF7\u6C42\u5B8C\u6210\u3001\u6587\u4EF6\u8BFB\u5199\u5B8C\u6210\u4E8B\u4EF6</li><li><code>UI rendering</code></li><li>\u7528\u6237\u4EA4\u4E92\u4E8B\u4EF6\uFF08\u6BD4\u5982\u9F20\u6807\u70B9\u51FB\u3001\u6EDA\u52A8\u9875\u9762\u3001\u653E\u5927\u7F29\u5C0F\u7B49\uFF09</li></ul><blockquote><p>\u5B8F\u4EFB\u52A1\u4E2D\u5305\u62EC\u4E86\xA0<code>script</code>\xA0\uFF0C\u6D4F\u89C8\u5668\u4F1A\u5148\u6267\u884C\u4E00\u4E2A\u5B8F\u4EFB\u52A1\uFF0C\u63A5\u4E0B\u6765\u6709\u5F02\u6B65\u4EE3\u7801\u7684\u8BDD\u5C31\u5148\u6267\u884C\u5FAE\u4EFB\u52A1</p></blockquote><p><img src="'+H+'" alt=""></p><p>\u6240\u4EE5\u6B63\u786E\u7684\u4E00\u6B21 Event loop \u987A\u5E8F\u662F\u8FD9\u6837\u7684</p><ul><li>\u6267\u884C\u540C\u6B65\u4EE3\u7801\uFF0C\u8FD9\u5C5E\u4E8E\u5B8F\u4EFB\u52A1</li><li>\u6267\u884C\u6808\u4E3A\u7A7A\uFF0C\u67E5\u8BE2\u662F\u5426\u6709\u5FAE\u4EFB\u52A1\u9700\u8981\u6267\u884C</li><li>\u6267\u884C\u6240\u6709\u5FAE\u4EFB\u52A1</li><li>\u5FC5\u8981\u7684\u8BDD\u6E32\u67D3 UI</li><li>\u7136\u540E\u5F00\u59CB\u4E0B\u4E00\u8F6E\xA0<code>Event loop</code>\uFF0C\u6267\u884C\u5B8F\u4EFB\u52A1\u4E2D\u7684\u5F02\u6B65\u4EE3\u7801</li></ul><blockquote><p>\u901A\u8FC7\u4E0A\u8FF0\u7684\xA0<code>Event loop</code>\xA0\u987A\u5E8F\u53EF\u77E5\uFF0C\u5982\u679C\u5B8F\u4EFB\u52A1\u4E2D\u7684\u5F02\u6B65\u4EE3\u7801\u6709\u5927\u91CF\u7684\u8BA1\u7B97\u5E76\u4E14\u9700\u8981\u64CD\u4F5C\xA0<code>DOM</code>\xA0\u7684\u8BDD\uFF0C\u4E3A\u4E86\u66F4\u5FEB\u7684\u54CD\u5E94\u754C\u9762\u54CD\u5E94\uFF0C\u6211\u4EEC\u53EF\u4EE5\u628A\u64CD\u4F5C\xA0<code>DOM</code>\xA0\u653E\u5165\u5FAE\u4EFB\u52A1\u4E2D</p></blockquote><ul><li>JavaScript \u5F15\u64CE\u9996\u5148\u4ECE\u5B8F\u4EFB\u52A1\u961F\u5217\uFF08macrotask queue\uFF09\u4E2D\u53D6\u51FA\u7B2C\u4E00\u4E2A\u4EFB\u52A1</li><li>\u6267\u884C\u5B8C\u6BD5\u540E\uFF0C\u518D\u5C06\u5FAE\u4EFB\u52A1\uFF08microtask queue\uFF09\u4E2D\u7684\u6240\u6709\u4EFB\u52A1\u53D6\u51FA\uFF0C\u6309\u7167\u987A\u5E8F\u5206\u522B\u5168\u90E8\u6267\u884C\uFF08\u8FD9\u91CC\u5305\u62EC\u4E0D\u4EC5\u6307\u5F00\u59CB\u6267\u884C\u65F6\u961F\u5217\u91CC\u7684\u5FAE\u4EFB\u52A1\uFF09\uFF0C\u5982\u679C\u5728\u8FD9\u4E00\u6B65\u8FC7\u7A0B\u4E2D\u4EA7\u751F\u65B0\u7684\u5FAE\u4EFB\u52A1\uFF0C\u4E5F\u9700\u8981\u6267\u884C\uFF1B</li><li>\u7136\u540E\u518D\u4ECE\u5B8F\u4EFB\u52A1\u961F\u5217\u4E2D\u53D6\u4E0B\u4E00\u4E2A\uFF0C\u6267\u884C\u5B8C\u6BD5\u540E\uFF0C\u518D\u6B21\u5C06 microtask queue \u4E2D\u7684\u5168\u90E8\u53D6\u51FA\uFF0C\u5FAA\u73AF\u5F80\u590D\uFF0C\u76F4\u5230\u4E24\u4E2A queue \u4E2D\u7684\u4EFB\u52A1\u90FD\u53D6\u5B8C\u3002</li></ul><p><img src="'+R+'" alt=""></p><blockquote><p>\u603B\u7ED3\u8D77\u6765\u5C31\u662F\uFF1A<code>\u4E00\u6B21 Eventloop \u5FAA\u73AF\u4F1A\u5904\u7406\u4E00\u4E2A\u5B8F\u4EFB\u52A1\u548C\u6240\u6709\u8FD9\u6B21\u5FAA\u73AF\u4E2D\u4EA7\u751F\u7684\u5FAE\u4EFB\u52A1</code>\u3002</p></blockquote><p>2. Node \u4E2D\u7684 Event loop</p><blockquote><p>\u5F53 Node.js \u5F00\u59CB\u542F\u52A8\u65F6\uFF0C\u4F1A\u521D\u59CB\u5316\u4E00\u4E2A Eventloop\uFF0C\u5904\u7406\u8F93\u5165\u7684\u4EE3\u7801\u811A\u672C\uFF0C\u8FD9\u4E9B\u811A\u672C\u4F1A\u8FDB\u884C API \u5F02\u6B65\u8C03\u7528\uFF0C<code>process.nextTick()</code>\xA0\u65B9\u6CD5\u4F1A\u5F00\u59CB\u5904\u7406\u4E8B\u4EF6\u5FAA\u73AF\u3002\u4E0B\u9762\u5C31\u662F Node.js \u5B98\u7F51\u63D0\u4F9B\u7684\xA0<code>Eventloop</code>\xA0\u4E8B\u4EF6\u5FAA\u73AF\u53C2\u8003\u6D41\u7A0B</p></blockquote><ul><li><code>Node</code>\xA0\u4E2D\u7684\xA0<code>Event loop</code>\xA0\u548C\u6D4F\u89C8\u5668\u4E2D\u7684\u4E0D\u76F8\u540C\u3002</li><li><code>Node</code>\xA0\u7684\xA0<code>Event loop</code>\xA0\u5206\u4E3A<code>6</code>\u4E2A\u9636\u6BB5\uFF0C\u5B83\u4EEC\u4F1A\u6309\u7167\u987A\u5E8F\u53CD\u590D\u8FD0\u884C</li></ul><p><img src="'+W+'" alt="">\xA0 <img src="'+G+'" alt="">\xA0 <img src="'+X+'" alt=""></p><ul><li>\u6BCF\u6B21\u6267\u884C\u6267\u884C\u4E00\u4E2A\u5B8F\u4EFB\u52A1\u540E\u4F1A\u6E05\u7A7A\u5FAE\u4EFB\u52A1\uFF08\u6267\u884C\u987A\u5E8F\u548C\u6D4F\u89C8\u5668\u4E00\u81F4\uFF0C\u5728node11\u7248\u672C\u4EE5\u4E0A\uFF09</li><li><code>process.nextTick</code>\xA0node\u4E2D\u7684\u5FAE\u4EFB\u52A1\uFF0C\u5F53\u524D\u6267\u884C\u6808\u7684\u5E95\u90E8\uFF0C\u4F18\u5148\u7EA7\u6BD4<code>promise</code>\u8981\u9AD8</li></ul><blockquote><p>\u6574\u4E2A\u6D41\u7A0B\u5206\u4E3A\u516D\u4E2A\u9636\u6BB5\uFF0C\u5F53\u8FD9\u516D\u4E2A\u9636\u6BB5\u6267\u884C\u5B8C\u4E00\u6B21\u4E4B\u540E\uFF0C\u624D\u53EF\u4EE5\u7B97\u5F97\u4E0A\u6267\u884C\u4E86\u4E00\u6B21 Eventloop \u7684\u5FAA\u73AF\u8FC7\u7A0B\u3002\u6211\u4EEC\u6765\u5206\u522B\u770B\u4E0B\u8FD9\u516D\u4E2A\u9636\u6BB5\u90FD\u505A\u4E86\u54EA\u4E9B\u4E8B\u60C5\u3002</p></blockquote><ul><li>Timers \u9636\u6BB5\uFF1A\u8FD9\u4E2A\u9636\u6BB5\u6267\u884C\xA0<code>setTimeout</code>\xA0\u548C\xA0<code>setInterval</code>\u7684\u56DE\u8C03\u51FD\u6570\uFF0C\u7B80\u5355\u7406\u89E3\u5C31\u662F\u7531\u8FD9\u4E24\u4E2A\u51FD\u6570\u542F\u52A8\u7684\u56DE\u8C03\u51FD\u6570\u3002</li><li>I/O callbacks \u9636\u6BB5\uFF1A\u8FD9\u4E2A\u9636\u6BB5\u4E3B\u8981\u6267\u884C\u7CFB\u7EDF\u7EA7\u522B\u7684\u56DE\u8C03\u51FD\u6570\uFF0C\u6BD4\u5982 TCP \u8FDE\u63A5\u5931\u8D25\u7684\u56DE\u8C03\u3002</li><li>idle\uFF0Cprepare \u9636\u6BB5\uFF1A\u4EC5\u7CFB\u7EDF\u5185\u90E8\u4F7F\u7528\uFF0C\u4F60\u53EA\u9700\u8981\u77E5\u9053\u6709\u8FD9 2 \u4E2A\u9636\u6BB5\u5C31\u53EF\u4EE5\u3002</li><li>poll \u9636\u6BB5\uFF1A<code>poll</code>\xA0\u9636\u6BB5\u662F\u4E00\u4E2A\u91CD\u8981\u4E14\u590D\u6742\u7684\u9636\u6BB5\uFF0C\u51E0\u4E4E\u6240\u6709\xA0<code>I/O</code>\xA0\u76F8\u5173\u7684\u56DE\u8C03\uFF0C\u90FD\u5728\u8FD9\u4E2A\u9636\u6BB5\u6267\u884C\uFF08\u9664\u4E86<code>setTimeout</code>\u3001<code>setInterval</code>\u3001<code>setImmediate</code>\xA0\u4EE5\u53CA\u4E00\u4E9B\u56E0\u4E3A\xA0<code>exception</code>\xA0\u610F\u5916\u5173\u95ED\u4EA7\u751F\u7684\u56DE\u8C03\uFF09\u3002<code>\u68C0\u7D22\u65B0\u7684 I/O \u4E8B\u4EF6\uFF0C\u6267\u884C\u4E0E I/O \u76F8\u5173\u7684\u56DE\u8C03</code>\uFF0C\u5176\u4ED6\u60C5\u51B5 Node.js \u5C06\u5728\u9002\u5F53\u7684\u65F6\u5019\u5728\u6B64\u963B\u585E\u3002\u8FD9\u4E5F\u662F\u6700\u590D\u6742\u7684\u4E00\u4E2A\u9636\u6BB5\uFF0C\u6240\u6709\u7684\u4E8B\u4EF6\u5FAA\u73AF\u4EE5\u53CA\u56DE\u8C03\u5904\u7406\u90FD\u5728\u8FD9\u4E2A\u9636\u6BB5\u6267\u884C\u3002\u8FD9\u4E2A\u9636\u6BB5\u7684\u4E3B\u8981\u6D41\u7A0B\u5982\u4E0B\u56FE\u6240\u793A\u3002</li></ul><p><img src="'+z+`" alt=""></p><ul><li>check \u9636\u6BB5\uFF1A<code>setImmediate()</code>\xA0\u56DE\u8C03\u51FD\u6570\u5728\u8FD9\u91CC\u6267\u884C\uFF0C<code>setImmediate</code>\xA0\u5E76\u4E0D\u662F\u7ACB\u9A6C\u6267\u884C\uFF0C\u800C\u662F\u5F53\u4E8B\u4EF6\u5FAA\u73AF\xA0<code>poll \u4E2D\u6CA1\u6709\u65B0\u7684\u4E8B\u4EF6\u5904\u7406\u65F6\u5C31\u6267\u884C\u8BE5\u90E8\u5206</code>\uFF0C\u5982\u4E0B\u4EE3\u7801\u6240\u793A\u3002</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>const fs = require(&#39;fs&#39;);
setTimeout(() =&gt; { // \u65B0\u7684\u4E8B\u4EF6\u5FAA\u73AF\u7684\u8D77\u70B9
    console.log(&#39;1&#39;);
}, 0);
setImmediate( () =&gt; {
    console.log(&#39;setImmediate 1&#39;);
});
/// fs.readFile \u5C06\u4F1A\u5728 poll \u9636\u6BB5\u6267\u884C
fs.readFile(&#39;./test.conf&#39;, {encoding: &#39;utf-8&#39;}, (err, data) =&gt; {
    if (err) throw err;
    console.log(&#39;read file success&#39;);
});
/// \u8BE5\u90E8\u5206\u5C06\u4F1A\u5728\u9996\u6B21\u4E8B\u4EF6\u5FAA\u73AF\u4E2D\u6267\u884C
Promise.resolve().then(()=&gt;{
    console.log(&#39;poll callback&#39;);
});
// \u9996\u6B21\u4E8B\u4EF6\u5FAA\u73AF\u6267\u884C
console.log(&#39;2&#39;);

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u8FD9\u4E00\u4EE3\u7801\u4E2D\u6709\u4E00\u4E2A\u975E\u5E38\u5947\u7279\u7684\u5730\u65B9\uFF0C\u5C31\u662F\xA0<code>setImmediate</code>\xA0\u4F1A\u5728\xA0<code>setTimeout</code>\xA0\u4E4B\u540E\u8F93\u51FA\u3002\u6709\u4EE5\u4E0B\u51E0\u70B9\u539F\u56E0\uFF1A</p><blockquote><ul><li><code>setTimeout</code>\xA0\u5982\u679C\u4E0D\u8BBE\u7F6E\u65F6\u95F4\u6216\u8005\u8BBE\u7F6E\u65F6\u95F4\u4E3A\xA0<code>0</code>\uFF0C\u5219\u4F1A\u9ED8\u8BA4\u4E3A\xA0<code>1ms</code></li><li>\u4E3B\u6D41\u7A0B\u6267\u884C\u5B8C\u6210\u540E\uFF0C\u8D85\u8FC7\xA0<code>1ms</code>\xA0\u65F6\uFF0C\u4F1A\u5C06\xA0<code>setTimeout</code>\xA0\u56DE\u8C03\u51FD\u6570\u903B\u8F91\u63D2\u5165\u5230\u5F85\u6267\u884C\u56DE\u8C03\u51FD\u6570\xA0<code>poll</code>\xA0\u961F\u5217\u4E2D\uFF1B</li><li>\u7531\u4E8E\u5F53\u524D\xA0<code>poll</code>\xA0\u961F\u5217\u4E2D\u5B58\u5728\u53EF\u6267\u884C\u56DE\u8C03\u51FD\u6570\uFF0C\u56E0\u6B64\u9700\u8981\u5148\u6267\u884C\u5B8C\uFF0C\u5F85\u5B8C\u5168\u6267\u884C\u5B8C\u6210\u540E\uFF0C\u624D\u4F1A\u6267\u884C<code>check\uFF1AsetImmediate</code>\u3002</li></ul></blockquote><blockquote><p>\u56E0\u6B64\u8FD9\u4E5F\u9A8C\u8BC1\u4E86\u8FD9\u53E5\u8BDD\uFF0C<code>\u5148\u6267\u884C\u56DE\u8C03\u51FD\u6570\uFF0C\u518D\u6267\u884C setImmediate</code></p></blockquote><ul><li>close callbacks \u9636\u6BB5\uFF1A\u6267\u884C\u4E00\u4E9B\u5173\u95ED\u7684\u56DE\u8C03\u51FD\u6570\uFF0C\u5982\xA0<code>socket.on(&#39;close&#39;, ...)</code></li></ul><blockquote><p>\u9664\u4E86\u628A Eventloop \u7684\u5B8F\u4EFB\u52A1\u7EC6\u5206\u5230\u4E0D\u540C\u9636\u6BB5\u5916\u3002node \u8FD8\u5F15\u5165\u4E86\u4E00\u4E2A\u65B0\u7684\u4EFB\u52A1\u961F\u5217\xA0<code>Process.nextTick()</code></p></blockquote><p>\u53EF\u4EE5\u8BA4\u4E3A\uFF0C<code>Process.nextTick()</code>\xA0\u4F1A\u5728\u4E0A\u8FF0\u5404\u4E2A\u9636\u6BB5\u7ED3\u675F\u65F6\uFF0C\u5728<code>\u8FDB\u5165\u4E0B\u4E00\u4E2A\u9636\u6BB5\u4E4B\u524D\u7ACB\u5373\u6267\u884C</code>\uFF08\u4F18\u5148\u7EA7\u751A\u81F3\u8D85\u8FC7\xA0<code>microtask</code>\xA0\u961F\u5217\uFF09</p><p>\u4E8B\u4EF6\u5FAA\u73AF\u7684\u4E3B\u8981\u5305\u542B\u5FAE\u4EFB\u52A1\u548C\u5B8F\u4EFB\u52A1\u3002\u5177\u4F53\u662F\u600E\u4E48\u8FDB\u884C\u5FAA\u73AF\u7684\u5462</p><p><img src="`+$+`" alt=""></p><ul><li>\u5FAE\u4EFB\u52A1\uFF1A\u5728 Node.js \u4E2D\u5FAE\u4EFB\u52A1\u5305\u542B 2 \u79CD------<code>process.nextTick</code>\xA0\u548C\xA0<code>Promise</code>\u3002<code>\u5FAE\u4EFB\u52A1\u5728\u4E8B\u4EF6\u5FAA\u73AF\u4E2D\u4F18\u5148\u7EA7\u662F\u6700\u9AD8\u7684</code>\uFF0C\u56E0\u6B64\u5728\u540C\u4E00\u4E2A\u4E8B\u4EF6\u5FAA\u73AF\u4E2D\u6709\u5176\u4ED6\u4EFB\u52A1\u5B58\u5728\u65F6\uFF0C\u4F18\u5148\u6267\u884C\u5FAE\u4EFB\u52A1\u961F\u5217\u3002\u5E76\u4E14<code>process.nextTick \u548C Promise</code>\u4E5F\u5B58\u5728\u4F18\u5148\u7EA7\uFF0C<code>process.nextTick</code>\xA0\u9AD8\u4E8E\xA0<code>Promise</code></li><li>\u5B8F\u4EFB\u52A1\uFF1A\u5728 Node.js \u4E2D\u5B8F\u4EFB\u52A1\u5305\u542B 4 \u79CD------<code>setTimeout</code>\u3001<code>setInterval</code>\u3001<code>setImmediate</code>\xA0\u548C\xA0<code>I/O</code>\u3002\u5B8F\u4EFB\u52A1\u5728\u5FAE\u4EFB\u52A1\u6267\u884C\u4E4B\u540E\u6267\u884C\uFF0C\u56E0\u6B64\u5728\u540C\u4E00\u4E2A\u4E8B\u4EF6\u5FAA\u73AF\u5468\u671F\u5185\uFF0C\u5982\u679C\u65E2\u5B58\u5728\u5FAE\u4EFB\u52A1\u961F\u5217\u53C8\u5B58\u5728\u5B8F\u4EFB\u52A1\u961F\u5217\uFF0C\u90A3\u4E48\u4F18\u5148\u5C06\u5FAE\u4EFB\u52A1\u961F\u5217\u6E05\u7A7A\uFF0C\u518D\u6267\u884C\u5B8F\u4EFB\u52A1\u961F\u5217</li></ul><p>\u6211\u4EEC\u53EF\u4EE5\u770B\u5230\u6709\u4E00\u4E2A\u6838\u5FC3\u7684\u4E3B\u7EBF\u7A0B\uFF0C\u5B83\u7684\u6267\u884C\u9636\u6BB5\u4E3B\u8981\u5904\u7406\u4E09\u4E2A\u6838\u5FC3\u903B\u8F91\u3002</p><ul><li>\u540C\u6B65\u4EE3\u7801\u3002</li><li>\u5C06\u5F02\u6B65\u4EFB\u52A1\u63D2\u5165\u5230\u5FAE\u4EFB\u52A1\u961F\u5217\u6216\u8005\u5B8F\u4EFB\u52A1\u961F\u5217\u4E2D\u3002</li><li>\u6267\u884C\u5FAE\u4EFB\u52A1\u6216\u8005\u5B8F\u4EFB\u52A1\u7684\u56DE\u8C03\u51FD\u6570\u3002\u5728\u4E3B\u7EBF\u7A0B\u5904\u7406\u56DE\u8C03\u51FD\u6570\u7684\u540C\u65F6\uFF0C\u4E5F\u9700\u8981\u5224\u65AD\u662F\u5426\u63D2\u5165\u5FAE\u4EFB\u52A1\u548C\u5B8F\u4EFB\u52A1\u3002\u6839\u636E\u4F18\u5148\u7EA7\uFF0C\u5148\u5224\u65AD\u5FAE\u4EFB\u52A1\u961F\u5217\u662F\u5426\u5B58\u5728\u4EFB\u52A1\uFF0C\u5B58\u5728\u5219\u5148\u6267\u884C\u5FAE\u4EFB\u52A1\uFF0C\u4E0D\u5B58\u5728\u5219\u5224\u65AD\u5728\u5B8F\u4EFB\u52A1\u961F\u5217\u662F\u5426\u6709\u4EFB\u52A1\uFF0C\u6709\u5219\u6267\u884C\u3002</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>const fs = require(&#39;fs&#39;);
// \u9996\u6B21\u4E8B\u4EF6\u5FAA\u73AF\u6267\u884C
console.log(&#39;start&#39;);
/// \u5C06\u4F1A\u5728\u65B0\u7684\u4E8B\u4EF6\u5FAA\u73AF\u4E2D\u7684\u9636\u6BB5\u6267\u884C
fs.readFile(&#39;./test.conf&#39;, {encoding: &#39;utf-8&#39;}, (err, data) =&gt; {
    if (err) throw err;
    console.log(&#39;read file success&#39;);
});
setTimeout(() =&gt; { // \u65B0\u7684\u4E8B\u4EF6\u5FAA\u73AF\u7684\u8D77\u70B9
    console.log(&#39;setTimeout&#39;);
}, 0);
/// \u8BE5\u90E8\u5206\u5C06\u4F1A\u5728\u9996\u6B21\u4E8B\u4EF6\u5FAA\u73AF\u4E2D\u6267\u884C
Promise.resolve().then(()=&gt;{
    console.log(&#39;Promise callback&#39;);
});
/// \u6267\u884C process.nextTick
process.nextTick(() =&gt; {
    console.log(&#39;nextTick callback&#39;);
});
// \u9996\u6B21\u4E8B\u4EF6\u5FAA\u73AF\u6267\u884C
console.log(&#39;end&#39;);

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5206\u6790\u4E0B\u4E0A\u9762\u4EE3\u7801\u7684\u6267\u884C\u8FC7\u7A0B</p><ul><li>\u7B2C\u4E00\u4E2A\u4E8B\u4EF6\u5FAA\u73AF\u4E3B\u7EBF\u7A0B\u53D1\u8D77\uFF0C\u56E0\u6B64\u5148\u6267\u884C\u540C\u6B65\u4EE3\u7801\uFF0C\u6240\u4EE5\u5148\u8F93\u51FA start\uFF0C\u7136\u540E\u8F93\u51FA end</li><li>\u7B2C\u4E00\u4E2A\u4E8B\u4EF6\u5FAA\u73AF\u4E3B\u7EBF\u7A0B\u53D1\u8D77\uFF0C\u56E0\u6B64\u5148\u6267\u884C\u540C\u6B65\u4EE3\u7801\uFF0C\u6240\u4EE5\u5148\u8F93\u51FA start\uFF0C\u7136\u540E\u8F93\u51FA end\uFF1B</li><li>\u518D\u4ECE\u4E0A\u5F80\u4E0B\u5206\u6790\uFF0C\u9047\u5230\u5FAE\u4EFB\u52A1\uFF0C\u63D2\u5165\u5FAE\u4EFB\u52A1\u961F\u5217\uFF0C\u9047\u5230\u5B8F\u4EFB\u52A1\uFF0C\u63D2\u5165\u5B8F\u4EFB\u52A1\u961F\u5217\uFF0C\u5206\u6790\u5B8C\u6210\u540E\uFF0C\u5FAE\u4EFB\u52A1\u961F\u5217\u5305\u542B\uFF1A<code>Promise.resolve \u548C process.nextTick</code>\uFF0C\u5B8F\u4EFB\u52A1\u961F\u5217\u5305\u542B\uFF1A<code>fs.readFile \u548C setTimeout</code>\uFF1B</li><li>\u5148\u6267\u884C\u5FAE\u4EFB\u52A1\u961F\u5217\uFF0C\u4F46\u662F\u6839\u636E\u4F18\u5148\u7EA7\uFF0C\u5148\u6267\u884C\xA0<code>process.nextTick \u518D\u6267\u884C Promise.resolve</code>\uFF0C\u6240\u4EE5\u5148\u8F93\u51FA\xA0<code>nextTick callback</code>\xA0\u518D\u8F93\u51FA\xA0<code>Promise callback</code>\uFF1B</li><li>\u518D\u6267\u884C\u5B8F\u4EFB\u52A1\u961F\u5217\uFF0C\u6839\u636E<code>\u5B8F\u4EFB\u52A1\u63D2\u5165\u5148\u540E\u987A\u5E8F\u6267\u884C setTimeout \u518D\u6267\u884C fs.readFile</code>\uFF0C\u8FD9\u91CC\u9700\u8981\u6CE8\u610F\uFF0C\u5148\u6267\u884C\xA0<code>setTimeout</code>\xA0\u7531\u4E8E\u5176\u56DE\u8C03\u65F6\u95F4\u8F83\u77ED\uFF0C\u56E0\u6B64\u56DE\u8C03\u4E5F\u5148\u6267\u884C\uFF0C\u5E76\u975E\u662F\xA0<code>setTimeout</code>\xA0\u5148\u6267\u884C\u6240\u4EE5\u624D\u5148\u6267\u884C\u56DE\u8C03\u51FD\u6570\uFF0C\u4F46\u662F\u5B83\u6267\u884C\u9700\u8981\u65F6\u95F4\u80AF\u5B9A\u5927\u4E8E\xA0<code>1ms</code>\uFF0C\u6240\u4EE5\u867D\u7136\xA0<code>fs.readFile</code>\xA0\u5148\u4E8E<code>setTimeout</code>\xA0\u6267\u884C\uFF0C\u4F46\u662F\xA0<code>setTimeout</code>\xA0\u6267\u884C\u66F4\u5FEB\uFF0C\u6240\u4EE5\u5148\u8F93\u51FA\xA0<code>setTimeout</code>\xA0\uFF0C\u6700\u540E\u8F93\u51FA\xA0<code>read file success</code>\u3002</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// \u8F93\u51FA\u7ED3\u679C
start
end
nextTick callback
Promise callback
setTimeout
read file success

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+U+`" alt=""></p><blockquote><p>\u5F53\u5FAE\u4EFB\u52A1\u548C\u5B8F\u4EFB\u52A1\u53C8\u4EA7\u751F\u65B0\u7684\u5FAE\u4EFB\u52A1\u548C\u5B8F\u4EFB\u52A1\u65F6\uFF0C\u53C8\u5E94\u8BE5\u5982\u4F55\u5904\u7406\u5462\uFF1F\u5982\u4E0B\u4EE3\u7801\u6240\u793A\uFF1A</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>const fs = require(&#39;fs&#39;);
setTimeout(() =&gt; { // \u65B0\u7684\u4E8B\u4EF6\u5FAA\u73AF\u7684\u8D77\u70B9
    console.log(&#39;1&#39;);
    fs.readFile(&#39;./config/test.conf&#39;, {encoding: &#39;utf-8&#39;}, (err, data) =&gt; {
        if (err) throw err;
        console.log(&#39;read file sync success&#39;);
    });
}, 0);
/// \u56DE\u8C03\u5C06\u4F1A\u5728\u65B0\u7684\u4E8B\u4EF6\u5FAA\u73AF\u4E4B\u524D
fs.readFile(&#39;./config/test.conf&#39;, {encoding: &#39;utf-8&#39;}, (err, data) =&gt; {
    if (err) throw err;
    console.log(&#39;read file success&#39;);
});
/// \u8BE5\u90E8\u5206\u5C06\u4F1A\u5728\u9996\u6B21\u4E8B\u4EF6\u5FAA\u73AF\u4E2D\u6267\u884C
Promise.resolve().then(()=&gt;{
    console.log(&#39;poll callback&#39;);
});
// \u9996\u6B21\u4E8B\u4EF6\u5FAA\u73AF\u6267\u884C
console.log(&#39;2&#39;);

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u4E0A\u9762\u4EE3\u7801\u4E2D\uFF0C\u6709 2 \u4E2A\u5B8F\u4EFB\u52A1\u548C 1 \u4E2A\u5FAE\u4EFB\u52A1\uFF0C\u5B8F\u4EFB\u52A1\u662F\xA0<code>setTimeout \u548C fs.readFile</code>\uFF0C\u5FAE\u4EFB\u52A1\u662F\xA0<code>Promise.resolve</code>\u3002</p><ul><li>\u6574\u4E2A\u8FC7\u7A0B\u4F18\u5148\u6267\u884C\u4E3B\u7EBF\u7A0B\u7684\u7B2C\u4E00\u4E2A\u4E8B\u4EF6\u5FAA\u73AF\u8FC7\u7A0B\uFF0C\u6240\u4EE5\u5148\u6267\u884C\u540C\u6B65\u903B\u8F91\uFF0C\u5148\u8F93\u51FA 2\u3002</li><li>\u63A5\u4E0B\u6765\u6267\u884C\u5FAE\u4EFB\u52A1\uFF0C\u8F93\u51FA\xA0<code>poll callback</code>\u3002</li><li>\u518D\u6267\u884C\u5B8F\u4EFB\u52A1\u4E2D\u7684\xA0<code>fs.readFile \u548C setTimeout</code>\uFF0C\u7531\u4E8E\xA0<code>fs.readFile</code>\xA0\u4F18\u5148\u7EA7\u9AD8\uFF0C\u5148\u6267\u884C\xA0<code>fs.readFile</code>\u3002\u4F46\u662F\u5904\u7406\u65F6\u95F4\u957F\u4E8E\xA0<code>1ms</code>\uFF0C\u56E0\u6B64\u4F1A\u5148\u6267\u884C\xA0<code>setTimeout</code>\xA0\u7684\u56DE\u8C03\u51FD\u6570\uFF0C\u8F93\u51FA\xA0<code>1</code>\u3002\u8FD9\u4E2A\u9636\u6BB5\u5728\u6267\u884C\u8FC7\u7A0B\u4E2D\u53C8\u4F1A\u4EA7\u751F\u65B0\u7684\u5B8F\u4EFB\u52A1\xA0<code>fs.readFile</code>\uFF0C\u56E0\u6B64\u53C8\u5C06\u8BE5\xA0<code>fs.readFile \u63D2\u5165\u5B8F\u4EFB\u52A1\u961F\u5217</code></li><li>\u6700\u540E\u7531\u4E8E\u53EA\u5269\u4E0B\u5B8F\u4EFB\u52A1\u4E86\xA0<code>fs.readFile</code>\uFF0C\u56E0\u6B64\u6267\u884C\u8BE5\u5B8F\u4EFB\u52A1\uFF0C\u5E76\u7B49\u5F85\u5904\u7406\u5B8C\u6210\u540E\u7684\u56DE\u8C03\uFF0C\u8F93\u51FA\xA0<code>read file sync success</code>\u3002</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// \u7ED3\u679C
2
poll callback
1
read file success
read file sync success

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Process.nextick() \u548C Vue \u7684 nextick</p><p><img src="`+K+`" alt=""></p><blockquote><p><code>Node.js</code>\xA0\u548C\u6D4F\u89C8\u5668\u7AEF\u5B8F\u4EFB\u52A1\u961F\u5217\u7684\u53E6\u4E00\u4E2A\u5F88\u91CD\u8981\u7684\u4E0D\u540C\u70B9\u662F\uFF0C\u6D4F\u89C8\u5668\u7AEF\u4EFB\u52A1\u961F\u5217\u6BCF\u8F6E\u4E8B\u4EF6\u5FAA\u73AF\u4EC5\u51FA\u961F\u4E00\u4E2A\u56DE\u8C03\u51FD\u6570\u63A5\u7740\u53BB\u6267\u884C\u5FAE\u4EFB\u52A1\u961F\u5217\uFF1B\u800C\xA0<code>Node.js</code>\xA0\u7AEF\u53EA\u8981\u8F6E\u5230\u6267\u884C\u67D0\u4E2A\u5B8F\u4EFB\u52A1\u961F\u5217\uFF0C\u5219\u4F1A\u6267\u884C\u5B8C\u961F\u5217\u4E2D\u6240\u6709\u7684\u5F53\u524D\u4EFB\u52A1\uFF0C\u4F46\u662F\u5F53\u524D\u8F6E\u6B21\u65B0\u6DFB\u52A0\u5230\u961F\u5C3E\u7684\u4EFB\u52A1\u5219\u4F1A\u7B49\u5230\u4E0B\u4E00\u8F6E\u6B21\u624D\u4F1A\u6267\u884C\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>setTimeout(() =&gt; {
    console.log(&#39;setTimeout&#39;);
}, 0);
setImmediate(() =&gt; {
    console.log(&#39;setImmediate&#39;);
})
// \u8FD9\u91CC\u53EF\u80FD\u4F1A\u8F93\u51FA setTimeout\uFF0CsetImmediate
// \u53EF\u80FD\u4E5F\u4F1A\u76F8\u53CD\u7684\u8F93\u51FA\uFF0C\u8FD9\u53D6\u51B3\u4E8E\u6027\u80FD
// \u56E0\u4E3A\u53EF\u80FD\u8FDB\u5165 event loop \u7528\u4E86\u4E0D\u5230 1 \u6BEB\u79D2\uFF0C\u8FD9\u65F6\u5019\u4F1A\u6267\u884C setImmediate
// \u5426\u5219\u4F1A\u6267\u884C setTimeout

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u4E0A\u9762\u4ECB\u7ECD\u7684\u90FD\u662F\xA0<code>macrotask</code>\xA0\u7684\u6267\u884C\u60C5\u51B5\uFF0C<code>microtask</code>\xA0\u4F1A\u5728\u4EE5\u4E0A\u6BCF\u4E2A\u9636\u6BB5\u5B8C\u6210\u540E\u7ACB\u5373\u6267\u884C</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>setTimeout(()=&gt;{
    console.log(&#39;timer1&#39;)

    Promise.resolve().then(function() {
        console.log(&#39;promise1&#39;)
    })
}, 0)

setTimeout(()=&gt;{
    console.log(&#39;timer2&#39;)

    Promise.resolve().then(function() {
        console.log(&#39;promise2&#39;)
    })
}, 0)

// \u4EE5\u4E0A\u4EE3\u7801\u5728\u6D4F\u89C8\u5668\u548C node \u4E2D\u6253\u5370\u60C5\u51B5\u662F\u4E0D\u540C\u7684
// \u6D4F\u89C8\u5668\u4E2D\u4E00\u5B9A\u6253\u5370 timer1, promise1, timer2, promise2
// node \u4E2D\u53EF\u80FD\u6253\u5370 timer1, timer2, promise1, promise2
// \u4E5F\u53EF\u80FD\u6253\u5370 timer1, promise1, timer2, promise2

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>Node</code>\xA0\u4E2D\u7684\xA0<code>process.nextTick</code>\xA0\u4F1A\u5148\u4E8E\u5176\u4ED6\xA0<code>microtask</code>\xA0\u6267\u884C</p></blockquote><p><img src="`+Q+`" alt=""></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>setTimeout(() =&gt; {
 console.log(&quot;timer1&quot;);

 Promise.resolve().then(function() {
   console.log(&quot;promise1&quot;);
 });
}, 0);

// poll\u9636\u6BB5\u6267\u884C
fs.readFile(&#39;./test&#39;,()=&gt;{
  // \u5728poll\u9636\u6BB5\u91CC\u9762 \u5982\u679C\u6709setImmediate\u4F18\u5148\u6267\u884C\uFF0CsetTimeout\u5904\u4E8E\u4E8B\u4EF6\u5FAA\u73AF\u9876\u7AEF poll\u4E0B\u9762\u5C31\u662FsetImmediate
  setTimeout(()=&gt;console.log(&#39;setTimeout&#39;),0)
  setImmediate(()=&gt;console.log(&#39;setImmediate&#39;),0)
})

process.nextTick(() =&gt; {
 console.log(&quot;nextTick&quot;);
});
// nextTick, timer1, promise1,setImmediate,setTimeout

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u5BF9\u4E8E\xA0<code>microtask</code>\xA0\u6765\u8BF4\uFF0C\u5B83\u4F1A\u5728\u4EE5\u4E0A\u6BCF\u4E2A\u9636\u6BB5\u5B8C\u6210\u524D\u6E05\u7A7A\xA0<code>microtask</code>\xA0\u961F\u5217\uFF0C\u4E0B\u56FE\u4E2D\u7684\xA0<code>Tick</code>\xA0\u5C31\u4EE3\u8868\u4E86\xA0<code>microtask</code></p></blockquote><p><img src="`+Y+'" alt=""></p><p>\u8C01\u6765\u542F\u52A8\u8FD9\u4E2A\u5FAA\u73AF\u8FC7\u7A0B\uFF0C\u5FAA\u73AF\u6761\u4EF6\u662F\u4EC0\u4E48\uFF1F</p><blockquote><p>\u5F53 Node.js \u542F\u52A8\u540E\uFF0C\u4F1A\u521D\u59CB\u5316\u4E8B\u4EF6\u5FAA\u73AF\uFF0C\u5904\u7406\u5DF2\u63D0\u4F9B\u7684\u8F93\u5165\u811A\u672C\uFF0C\u5B83\u53EF\u80FD\u4F1A\u5148\u8C03\u7528\u4E00\u4E9B\u5F02\u6B65\u7684 API\u3001\u8C03\u5EA6\u5B9A\u65F6\u5668\uFF0C\u6216\u8005\xA0<code>process.nextTick()</code>\uFF0C\u7136\u540E\u518D\u5F00\u59CB\u5904\u7406\u4E8B\u4EF6\u5FAA\u73AF\u3002\u56E0\u6B64\u53EF\u4EE5\u8FD9\u6837\u7406\u89E3\uFF0CNode.js \u8FDB\u7A0B\u542F\u52A8\u540E\uFF0C\u5C31\u53D1\u8D77\u4E86\u4E00\u4E2A\u65B0\u7684\u4E8B\u4EF6\u5FAA\u73AF\uFF0C\u4E5F\u5C31\u662F\u4E8B\u4EF6\u5FAA\u73AF\u7684\u8D77\u70B9\u3002</p></blockquote><p>\u603B\u7ED3\u6765\u8BF4\uFF0CNode.js \u4E8B\u4EF6\u5FAA\u73AF\u7684\u53D1\u8D77\u70B9\u6709 4 \u4E2A\uFF1A</p><ul><li><code>Node.js</code>\xA0\u542F\u52A8\u540E\uFF1B</li><li><code>setTimeout</code>\xA0\u56DE\u8C03\u51FD\u6570\uFF1B</li><li><code>setInterval</code>\xA0\u56DE\u8C03\u51FD\u6570\uFF1B</li><li>\u4E5F\u53EF\u80FD\u662F\u4E00\u6B21\xA0<code>I/O</code>\xA0\u540E\u7684\u56DE\u8C03\u51FD\u6570\u3002</li></ul><p>\u65E0\u9650\u5FAA\u73AF\u6709\u6CA1\u6709\u7EC8\u70B9</p><blockquote><p>\u5F53\u6240\u6709\u7684\u5FAE\u4EFB\u52A1\u548C\u5B8F\u4EFB\u52A1\u90FD\u6E05\u7A7A\u7684\u65F6\u5019\uFF0C\u867D\u7136\u5F53\u524D\u6CA1\u6709\u4EFB\u52A1\u53EF\u6267\u884C\u4E86\uFF0C\u4F46\u662F\u4E5F\u5E76\u4E0D\u80FD\u4EE3\u8868\u5FAA\u73AF\u7ED3\u675F\u4E86\u3002\u56E0\u4E3A\u53EF\u80FD\u5B58\u5728\u5F53\u524D\u8FD8\u672A\u56DE\u8C03\u7684\u5F02\u6B65 I/O\uFF0C\u6240\u4EE5\u8FD9\u4E2A\u5FAA\u73AF\u662F\u6CA1\u6709\u7EC8\u70B9\u7684\uFF0C\u53EA\u8981\u8FDB\u7A0B\u5728\uFF0C\u5E76\u4E14\u6709\u65B0\u7684\u4EFB\u52A1\u5B58\u5728\uFF0C\u5C31\u4F1A\u53BB\u6267\u884C</p></blockquote><p>Node.js \u662F\u5355\u7EBF\u7A0B\u7684\u8FD8\u662F\u591A\u7EBF\u7A0B\u7684\uFF1F</p><blockquote><p><code>\u4E3B\u7EBF\u7A0B\u662F\u5355\u7EBF\u7A0B\u6267\u884C\u7684</code>\uFF0C\u4F46\u662F Node.js\xA0<code>\u5B58\u5728\u591A\u7EBF\u7A0B\u6267\u884C</code>\uFF0C\u591A\u7EBF\u7A0B\u5305\u62EC\xA0<code>setTimeout \u548C\u5F02\u6B65 I/O \u4E8B\u4EF6</code>\u3002\u5176\u5B9E Node.js \u8FD8\u5B58\u5728\u5176\u4ED6\u7684\u7EBF\u7A0B\uFF0C\u5305\u62EC<code>\u5783\u573E\u56DE\u6536\u3001\u5185\u5B58\u4F18\u5316</code>\u7B49</p></blockquote><p>EventLoop \u5BF9\u6E32\u67D3\u7684\u5F71\u54CD</p><ul><li>\u60F3\u5FC5\u4F60\u4E4B\u524D\u5728\u4E1A\u52A1\u5F00\u53D1\u4E2D\u4E5F\u9047\u5230\u8FC7\xA0<code>requestIdlecallback \u548C requestAnimationFrame</code>\uFF0C\u8FD9\u4E24\u4E2A\u51FD\u6570\u5728\u6211\u4EEC\u4E4B\u524D\u7684\u5185\u5BB9\u4E2D\u6CA1\u6709\u8BB2\u8FC7\uFF0C\u4F46\u662F\u5F53\u4F60\u5F00\u59CB\u8003\u8651\u5B83\u4EEC\u5728 Eventloop \u7684\u751F\u547D\u5468\u671F\u7684\u54EA\u4E00\u6B65\u89E6\u53D1\uFF0C\u6216\u8005\u8FD9\u4E24\u4E2A\u65B9\u6CD5\u7684\u56DE\u8C03\u4F1A\u5728\u5FAE\u4EFB\u52A1\u961F\u5217\u8FD8\u662F\u5B8F\u4EFB\u52A1\u961F\u5217\u6267\u884C\u7684\u65F6\u5019\uFF0C\u624D\u53D1\u73B0\u597D\u50CF\u6CA1\u6709\u60F3\u8C61\u4E2D\u90A3\u4E48\u7B80\u5355\u3002\u8FD9\u4E24\u4E2A\u65B9\u6CD5\u5176\u5B9E\u4E5F\u5E76\u4E0D\u5C5E\u4E8E JS \u7684\u539F\u751F\u65B9\u6CD5\uFF0C\u800C\u662F\u6D4F\u89C8\u5668\u5BBF\u4E3B\u73AF\u5883\u63D0\u4F9B\u7684\u65B9\u6CD5\uFF0C\u56E0\u4E3A\u5B83\u4EEC\u7275\u626F\u5230\u53E6\u4E00\u4E2A\u95EE\u9898\uFF1A\u6E32\u67D3\u3002</li><li>\u6211\u4EEC\u77E5\u9053\u6D4F\u89C8\u5668\u4F5C\u4E3A\u4E00\u4E2A\u590D\u6742\u7684\u5E94\u7528\u662F\u591A\u7EBF\u7A0B\u5DE5\u4F5C\u7684\uFF0C\u9664\u4E86\u8FD0\u884C JS \u7684\u7EBF\u7A0B\u5916\uFF0C\u8FD8\u6709\u6E32\u67D3\u7EBF\u7A0B\u3001\u5B9A\u65F6\u5668\u89E6\u53D1\u7EBF\u7A0B\u3001HTTP \u8BF7\u6C42\u7EBF\u7A0B\uFF0C\u7B49\u7B49\u3002JS \u7EBF\u7A0B\u53EF\u4EE5\u8BFB\u53D6\u5E76\u4E14\u4FEE\u6539 DOM\uFF0C\u800C\u6E32\u67D3\u7EBF\u7A0B\u4E5F\u9700\u8981\u8BFB\u53D6 DOM\uFF0C\u8FD9\u662F\u4E00\u4E2A\u5178\u578B\u7684\u591A\u7EBF\u7A0B\u7ADE\u4E89\u4E34\u754C\u8D44\u6E90\u7684\u95EE\u9898\u3002\u6240\u4EE5\u6D4F\u89C8\u5668\u5C31\u628A\u8FD9\u4E24\u4E2A\u7EBF\u7A0B\u8BBE\u8BA1\u6210\u4E92\u65A5\u7684\uFF0C\u5373\u540C\u65F6\u53EA\u80FD\u6709\u4E00\u4E2A\u7EBF\u7A0B\u5728\u6267\u884C</li><li>\u6E32\u67D3\u539F\u672C\u5C31\u4E0D\u5E94\u8BE5\u51FA\u73B0\u5728 Eventloop \u76F8\u5173\u7684\u77E5\u8BC6\u4F53\u7CFB\u91CC\uFF0C\u4F46\u662F\u56E0\u4E3A Eventloop \u663E\u7136\u662F\u5728\u8BA8\u8BBA JS \u5982\u4F55\u8FD0\u884C\u7684\u95EE\u9898\uFF0C\u800C\u6E32\u67D3\u5219\u662F\u6D4F\u89C8\u5668\u53E6\u5916\u4E00\u4E2A\u7EBF\u7A0B\u7684\u5DE5\u4F5C\u3002\u4F46\u662F\xA0<code>requestAnimationFrame</code>\u7684\u51FA\u73B0\u5374\u628A\u8FD9\u4E24\u4EF6\u4E8B\u60C5\u7ED9\u5173\u8054\u8D77\u6765</li><li>\u901A\u8FC7\u8C03\u7528\xA0<code>requestAnimationFrame</code>\xA0\u6211\u4EEC\u53EF\u4EE5\u5728\u4E0B\u6B21\u6E32\u67D3\u4E4B\u524D\u6267\u884C\u56DE\u8C03\u51FD\u6570\u3002\u90A3\u4E0B\u6B21\u6E32\u67D3\u5177\u4F53\u662F\u54EA\u4E2A\u65F6\u95F4\u70B9\u5462\uFF1F\u6E32\u67D3\u548C Eventloop \u6709\u4EC0\u4E48\u5173\u7CFB\u5462\uFF1F <ul><li>\u7B80\u5355\u6765\u8BF4\uFF0C\u5C31\u662F\u5728\u6BCF\u4E00\u6B21\xA0<code>Eventloop</code>\xA0\u7684\u672B\u5C3E\uFF0C<code>\u5224\u65AD\u5F53\u524D\u9875\u9762\u662F\u5426\u5904\u4E8E\u6E32\u67D3\u65F6\u673A\uFF0C\u5C31\u662F\u91CD\u65B0\u6E32\u67D3</code></li></ul></li><li>\u6709\u5C4F\u5E55\u7684\u786C\u4EF6\u9650\u5236\uFF0C\u6BD4\u5982 60Hz \u5237\u65B0\u7387\uFF0C\u7B80\u800C\u8A00\u4E4B\u5C31\u662F 1 \u79D2\u5237\u65B0\u4E86 60 \u6B21\uFF0C16.6ms \u5237\u65B0\u4E00\u6B21\u3002\u8FD9\u4E2A\u65F6\u5019\u6D4F\u89C8\u5668\u7684\u6E32\u67D3\u95F4\u9694\u65F6\u95F4\u5C31\u6CA1\u5FC5\u8981\u5C0F\u4E8E\xA0<code>16.6ms</code>\uFF0C\u56E0\u4E3A\u5C31\u7B97\u6E32\u67D3\u4E86\u5C4F\u5E55\u4E0A\u4E5F\u770B\u4E0D\u5230\u3002\u5F53\u7136\u6D4F\u89C8\u5668\u4E5F\u4E0D\u80FD\u4FDD\u8BC1\u4E00\u5B9A\u4F1A\u6BCF 16.6ms \u4F1A\u6E32\u67D3\u4E00\u6B21\uFF0C\u56E0\u4E3A\u8FD8\u4F1A\u53D7\u5230\u5904\u7406\u5668\u7684\u6027\u80FD\u3001JavaScript \u6267\u884C\u6548\u7387\u7B49\u5176\u4ED6\u56E0\u7D20\u5F71\u54CD\u3002</li><li>\u56DE\u5230\xA0<code>requestAnimationFrame</code>\uFF0C\u8FD9\u4E2A API \u4FDD\u8BC1\u5728\u4E0B\u6B21\u6D4F\u89C8\u5668\u6E32\u67D3\u4E4B\u524D\u4E00\u5B9A\u4F1A\u88AB\u8C03\u7528\uFF0C\u5B9E\u9645\u4E0A\u6211\u4EEC\u5B8C\u5168\u53EF\u4EE5\u628A\u5B83\u770B\u6210\u662F\u4E00\u4E2A\u9AD8\u7EA7\u7248\u7684\xA0<code>setInterval</code>\u3002\u5B83\u4EEC\u90FD\u662F\u5728\u4E00\u6BB5\u65F6\u95F4\u540E\u6267\u884C\u56DE\u8C03\uFF0C\u4F46\u662F\u524D\u8005\u7684\u95F4\u9694\u65F6\u95F4\u662F\u7531\u6D4F\u89C8\u5668\u81EA\u5DF1\u4E0D\u65AD\u8C03\u6574\u7684\uFF0C\u800C\u540E\u8005\u53EA\u80FD\u7531\u7528\u6237\u6307\u5B9A\u3002\u8FD9\u6837\u7684\u7279\u6027\u4E5F\u51B3\u5B9A\u4E86\xA0<code>requestAnimationFrame</code>\xA0\u66F4\u9002\u5408\u7528\u6765\u505A\u9488\u5BF9\u6BCF\u4E00\u5E27\u6765\u4FEE\u6539\u7684\u52A8\u753B\u6548\u679C</li><li>\u5F53\u7136\xA0<code>requestAnimationFrame</code>\xA0\u4E0D\u662F\xA0<code>Eventloop</code>\xA0\u91CC\u7684\u5B8F\u4EFB\u52A1\uFF0C\u6216\u8005\u8BF4\u5B83\u5E76\u4E0D\u5728\xA0<code>Eventloop</code>\xA0\u7684\u751F\u547D\u5468\u671F\u91CC\uFF0C\u53EA\u662F\u6D4F\u89C8\u5668\u53C8\u5F00\u653E\u7684\u4E00\u4E2A\u5728\u6E32\u67D3\u4E4B\u524D\u53D1\u751F\u7684\u65B0\u7684 hook\u3002\u53E6\u5916\u9700\u8981\u6CE8\u610F\u7684\u662F\u5FAE\u4EFB\u52A1\u7684\u8BA4\u77E5\u6982\u5FF5\u4E5F\u9700\u8981\u66F4\u65B0\uFF0C\u5728\u6267\u884C animation callback \u65F6\u4E5F\u6709\u53EF\u80FD\u4EA7\u751F\u5FAE\u4EFB\u52A1\uFF08\u6BD4\u5982 promise \u7684 callback\uFF09\uFF0C\u4F1A\u653E\u5230 animation queue \u5904\u7406\u5B8C\u540E\u518D\u6267\u884C\u3002\u6240\u4EE5\u5FAE\u4EFB\u52A1\u5E76\u4E0D\u662F\u50CF\u4E4B\u524D\u8BF4\u7684\u90A3\u6837\u5728\u6BCF\u4E00\u8F6E Eventloop \u540E\u5904\u7406\uFF0C\u800C\u662F\u5728 JS \u7684\u51FD\u6570\u8C03\u7528\u6808\u6E05\u7A7A\u540E\u5904\u7406</li></ul><p>\u4F46\u662F\xA0<code>requestIdlecallback</code>\xA0\u5374\u662F\u4E00\u4E2A\u66F4\u597D\u7406\u89E3\u7684\u6982\u5FF5\u3002\u5F53\u5B8F\u4EFB\u52A1\u961F\u5217\u4E2D\u6CA1\u6709\u4EFB\u52A1\u53EF\u4EE5\u5904\u7406\u65F6\uFF0C\u6D4F\u89C8\u5668\u53EF\u80FD\u5B58\u5728&quot;\u7A7A\u95F2\u72B6\u6001&quot;\u3002\u8FD9\u6BB5\u7A7A\u95F2\u65F6\u95F4\u53EF\u4EE5\u88AB\xA0<code>requestIdlecallback</code>\xA0\u5229\u7528\u8D77\u6765\u6267\u884C\u4E00\u4E9B\u4F18\u5148\u7EA7\u4E0D\u9AD8\u3001\u4E0D\u5FC5\u7ACB\u5373\u6267\u884C\u7684\u4EFB\u52A1\uFF0C\u5982\u4E0B\u56FE\u6240\u793A\uFF1A</p><p><img src="'+Z+'" alt=""></p><h3 id="_19-\u5783\u573E\u56DE\u6536" tabindex="-1"><a class="header-anchor" href="#_19-\u5783\u573E\u56DE\u6536" aria-hidden="true">#</a> 19 \u5783\u573E\u56DE\u6536</h3><ul><li>\u5BF9\u4E8E\u5728JavaScript\u4E2D\u7684\u5B57\u7B26\u4E32\uFF0C\u5BF9\u8C61\uFF0C\u6570\u7EC4\u662F\u6CA1\u6709\u56FA\u5B9A\u5927\u5C0F\u7684\uFF0C\u53EA\u6709\u5F53\u5BF9\u4ED6\u4EEC\u8FDB\u884C\u52A8\u6001\u5206\u914D\u5B58\u50A8\u65F6\uFF0C\u89E3\u91CA\u5668\u5C31\u4F1A\u5206\u914D\u5185\u5B58\u6765\u5B58\u50A8\u8FD9\u4E9B\u6570\u636E\uFF0C\u5F53JavaScript\u7684\u89E3\u91CA\u5668\u6D88\u8017\u5B8C\u7CFB\u7EDF\u4E2D\u6240\u6709\u53EF\u7528\u7684\u5185\u5B58\u65F6\uFF0C\u5C31\u4F1A\u9020\u6210\u7CFB\u7EDF\u5D29\u6E83\u3002</li><li>\u5185\u5B58\u6CC4\u6F0F\uFF0C\u5728\u67D0\u4E9B\u60C5\u51B5\u4E0B\uFF0C\u4E0D\u518D\u4F7F\u7528\u5230\u7684\u53D8\u91CF\u6240\u5360\u7528\u5185\u5B58\u6CA1\u6709\u53CA\u65F6\u91CA\u653E\uFF0C\u5BFC\u81F4\u7A0B\u5E8F\u8FD0\u884C\u4E2D\uFF0C\u5185\u5B58\u8D8A\u5360\u8D8A\u5927\uFF0C\u6781\u7AEF\u60C5\u51B5\u4E0B\u53EF\u4EE5\u5BFC\u81F4\u7CFB\u7EDF\u5D29\u6E83\uFF0C\u670D\u52A1\u5668\u5B95\u673A\u3002</li><li>JavaScript\u6709\u81EA\u5DF1\u7684\u4E00\u5957\u5783\u573E\u56DE\u6536\u673A\u5236\uFF0CJavaScript\u7684\u89E3\u91CA\u5668\u53EF\u4EE5\u68C0\u6D4B\u5230\u4EC0\u4E48\u65F6\u5019\u7A0B\u5E8F\u4E0D\u518D\u4F7F\u7528\u8FD9\u4E2A\u5BF9\u8C61\u4E86\uFF08\u6570\u636E\uFF09\uFF0C\u5C31\u4F1A\u628A\u5B83\u6240\u5360\u7528\u7684\u5185\u5B58\u91CA\u653E\u6389\u3002</li><li>\u9488\u5BF9JavaScript\u7684\u6765\u53CA\u56DE\u6536\u673A\u5236\u6709\u4EE5\u4E0B\u4E24\u79CD\u65B9\u6CD5\uFF08\u5E38\u7528\uFF09\uFF1A\u6807\u8BB0\u6E05\u9664\uFF0C\u5F15\u7528\u8BA1\u6570</li><li>\u6807\u8BB0\u6E05\u9664</li></ul><blockquote><p>v8 \u7684\u5783\u573E\u56DE\u6536\u673A\u5236\u57FA\u4E8E\u5206\u4EE3\u56DE\u6536\u673A\u5236\uFF0C\u8FD9\u4E2A\u673A\u5236\u53C8\u57FA\u4E8E\u4E16\u4EE3\u5047\u8BF4\uFF0C\u8FD9\u4E2A\u5047\u8BF4\u6709\u4E24\u4E2A\u7279\u70B9\uFF0C\u4E00\u662F\u65B0\u751F\u7684\u5BF9\u8C61\u5BB9\u6613\u65E9\u6B7B\uFF0C\u53E6\u4E00\u4E2A\u662F\u4E0D\u6B7B\u7684\u5BF9\u8C61\u4F1A\u6D3B\u5F97\u66F4\u4E45\u3002\u57FA\u4E8E\u8FD9\u4E2A\u5047\u8BF4\uFF0Cv8 \u5F15\u64CE\u5C06\u5185\u5B58\u5206\u4E3A\u4E86\u65B0\u751F\u4EE3\u548C\u8001\u751F\u4EE3\u3002</p></blockquote><ul><li>\u65B0\u521B\u5EFA\u7684\u5BF9\u8C61\u6216\u8005\u53EA\u7ECF\u5386\u8FC7\u4E00\u6B21\u7684\u5783\u573E\u56DE\u6536\u7684\u5BF9\u8C61\u88AB\u79F0\u4E3A\u65B0\u751F\u4EE3\u3002\u7ECF\u5386\u8FC7\u591A\u6B21\u5783\u573E\u56DE\u6536\u7684\u5BF9\u8C61\u88AB\u79F0\u4E3A\u8001\u751F\u4EE3\u3002</li><li>\u65B0\u751F\u4EE3\u88AB\u5206\u4E3A From \u548C To \u4E24\u4E2A\u7A7A\u95F4\uFF0CTo \u4E00\u822C\u662F\u95F2\u7F6E\u7684\u3002\u5F53 From \u7A7A\u95F4\u6EE1\u4E86\u7684\u65F6\u5019\u4F1A\u6267\u884C Scavenge \u7B97\u6CD5\u8FDB\u884C\u5783\u573E\u56DE\u6536\u3002\u5F53\u6211\u4EEC\u6267\u884C\u5783\u573E\u56DE\u6536\u7B97\u6CD5\u7684\u65F6\u5019\u5E94\u7528\u903B\u8F91\u5C06\u4F1A\u505C\u6B62\uFF0C\u7B49\u5783\u573E\u56DE\u6536\u7ED3\u675F\u540E\u518D\u7EE7\u7EED\u6267\u884C\u3002</li></ul><p>\u8FD9\u4E2A\u7B97\u6CD5\u5206\u4E3A\u4E09\u6B65\uFF1A</p><ul><li>\u9996\u5148\u68C0\u67E5 From \u7A7A\u95F4\u7684\u5B58\u6D3B\u5BF9\u8C61\uFF0C\u5982\u679C\u5BF9\u8C61\u5B58\u6D3B\u5219\u5224\u65AD\u5BF9\u8C61\u662F\u5426\u6EE1\u8DB3\u664B\u5347\u5230\u8001\u751F\u4EE3\u7684\u6761\u4EF6\uFF0C\u5982\u679C\u6EE1\u8DB3\u6761\u4EF6\u5219\u664B\u5347\u5230\u8001\u751F\u4EE3\u3002\u5982\u679C\u4E0D\u6EE1\u8DB3\u6761\u4EF6\u5219\u79FB\u52A8 To \u7A7A\u95F4\u3002</li><li>\u5982\u679C\u5BF9\u8C61\u4E0D\u5B58\u6D3B\uFF0C\u5219\u91CA\u653E\u5BF9\u8C61\u7684\u7A7A\u95F4\u3002</li><li>\u6700\u540E\u5C06 From \u7A7A\u95F4\u548C To \u7A7A\u95F4\u89D2\u8272\u8FDB\u884C\u4EA4\u6362\u3002</li></ul><p>\u65B0\u751F\u4EE3\u5BF9\u8C61\u664B\u5347\u5230\u8001\u751F\u4EE3\u6709\u4E24\u4E2A\u6761\u4EF6\uFF1A</p><ul><li>\u7B2C\u4E00\u4E2A\u662F\u5224\u65AD\u662F\u5BF9\u8C61\u5426\u5DF2\u7ECF\u7ECF\u8FC7\u4E00\u6B21 Scavenge \u56DE\u6536\u3002\u82E5\u7ECF\u5386\u8FC7\uFF0C\u5219\u5C06\u5BF9\u8C61\u4ECE From \u7A7A\u95F4\u590D\u5236\u5230\u8001\uFFFD\uFFFD\u4EE3\u4E2D\uFF1B\u82E5\u6CA1\u6709\u7ECF\u5386\uFF0C\u5219\u590D\u5236\u5230 To \u7A7A\u95F4\u3002</li><li>\u7B2C\u4E8C\u4E2A\u662F To \u7A7A\u95F4\u7684\u5185\u5B58\u4F7F\u7528\u5360\u6BD4\u662F\u5426\u8D85\u8FC7\u9650\u5236\u3002\u5F53\u5BF9\u8C61\u4ECE From \u7A7A\u95F4\u590D\u5236\u5230 To \u7A7A\u95F4\u65F6\uFF0C\u82E5 To \u7A7A\u95F4\u4F7F\u7528\u8D85\u8FC7 25%\uFF0C\u5219\u5BF9\u8C61\u76F4\u63A5\u664B\u5347\u5230\u8001\u751F\u4EE3\u4E2D\u3002\u8BBE\u7F6E 25% \u7684\u539F\u56E0\u4E3B\u8981\u662F\u56E0\u4E3A\u7B97\u6CD5\u7ED3\u675F\u540E\uFF0C\u4E24\u4E2A\u7A7A\u95F4\u7ED3\u675F\u540E\u4F1A\u4EA4\u6362\u4F4D\u7F6E\uFF0C\u5982\u679C To \u7A7A\u95F4\u7684\u5185\u5B58\u592A\u5C0F\uFF0C\u4F1A\u5F71\u54CD\u540E\u7EED\u7684\u5185\u5B58\u5206\u914D\u3002</li></ul><blockquote><p>\u8001\u751F\u4EE3\u91C7\u7528\u4E86\u6807\u8BB0\u6E05\u9664\u6CD5\u548C\u6807\u8BB0\u538B\u7F29\u6CD5\u3002\u6807\u8BB0\u6E05\u9664\u6CD5\u9996\u5148\u4F1A\u5BF9\u5185\u5B58\u4E2D\u5B58\u6D3B\u7684\u5BF9\u8C61\u8FDB\u884C\u6807\u8BB0\uFF0C\u6807\u8BB0\u7ED3\u675F\u540E\u6E05\u9664\u6389\u90A3\u4E9B\u6CA1\u6709\u6807\u8BB0\u7684\u5BF9\u8C61\u3002\u7531\u4E8E\u6807\u8BB0\u6E05\u9664\u540E\u4F1A\u9020\u6210\u5F88\u591A\u7684\u5185\u5B58\u788E\u7247\uFF0C\u4E0D\u4FBF\u4E8E\u540E\u9762\u7684\u5185\u5B58\u5206\u914D\u3002\u6240\u4EE5\u4E86\u89E3\u51B3\u5185\u5B58\u788E\u7247\u7684\u95EE\u9898\u5F15\u5165\u4E86\u6807\u8BB0\u538B\u7F29\u6CD5\u3002</p></blockquote><p>\u7531\u4E8E\u5728\u8FDB\u884C\u5783\u573E\u56DE\u6536\u7684\u65F6\u5019\u4F1A\u6682\u505C\u5E94\u7528\u7684\u903B\u8F91\uFF0C\u5BF9\u4E8E\u65B0\u751F\u4EE3\u65B9\u6CD5\u7531\u4E8E\u5185\u5B58\u5C0F\uFF0C\u6BCF\u6B21\u505C\u987F\u7684\u65F6\u95F4\u4E0D\u4F1A\u592A\u957F\uFF0C\u4F46\u5BF9\u4E8E\u8001\u751F\u4EE3\u6765\u8BF4\u6BCF\u6B21\u5783\u573E\u56DE\u6536\u7684\u65F6\u95F4\u957F\uFF0C\u505C\u987F\u4F1A\u9020\u6210\u5F88\u5927\u7684\u5F71\u54CD\u3002 \u4E3A\u4E86\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898 V8 \u5F15\u5165\u4E86\u589E\u91CF\u6807\u8BB0\u7684\u65B9\u6CD5\uFF0C\u5C06\u4E00\u6B21\u505C\u987F\u8FDB\u884C\u7684\u8FC7\u7A0B\u5206\u4E3A\u4E86\u591A\u6B65\uFF0C\u6BCF\u6B21\u6267\u884C\u5B8C\u4E00\u5C0F\u6B65\u5C31\u8BA9\u8FD0\u884C\u903B\u8F91\u6267\u884C\u4E00\u4F1A\uFF0C\u5C31\u8FD9\u6837\u4EA4\u66FF\u8FD0\u884C</p><h3 id="_20-\u5185\u5B58\u6CC4\u9732" tabindex="-1"><a class="header-anchor" href="#_20-\u5185\u5B58\u6CC4\u9732" aria-hidden="true">#</a> 20 \u5185\u5B58\u6CC4\u9732</h3><ul><li>\u610F\u5916\u7684\u5168\u5C40\u53D8\u91CF: \u65E0\u6CD5\u88AB\u56DE\u6536</li><li>\u5B9A\u65F6\u5668: \u672A\u88AB\u6B63\u786E\u5173\u95ED\uFF0C\u5BFC\u81F4\u6240\u5F15\u7528\u7684\u5916\u90E8\u53D8\u91CF\u65E0\u6CD5\u88AB\u91CA\u653E</li><li>\u4E8B\u4EF6\u76D1\u542C: \u6CA1\u6709\u6B63\u786E\u9500\u6BC1 (\u4F4E\u7248\u672C\u6D4F\u89C8\u5668\u53EF\u80FD\u51FA\u73B0)</li><li>\u95ED\u5305 <ul><li>\u7B2C\u4E00\u79CD\u60C5\u51B5\u662F\u6211\u4EEC\u7531\u4E8E\u4F7F\u7528\u672A\u58F0\u660E\u7684\u53D8\u91CF\uFF0C\u800C\u610F\u5916\u7684\u521B\u5EFA\u4E86\u4E00\u4E2A\u5168\u5C40\u53D8\u91CF\uFF0C\u800C\u4F7F\u8FD9\u4E2A\u53D8\u91CF\u4E00\u76F4\u7559\u5728\u5185\u5B58\u4E2D\u65E0\u6CD5\u88AB\u56DE\u6536\u3002</li><li>\u7B2C\u4E8C\u79CD\u60C5\u51B5\u662F\u6211\u4EEC\u8BBE\u7F6E\u4E86setInterval\u5B9A\u65F6\u5668\uFF0C\u800C\u5FD8\u8BB0\u53D6\u6D88\u5B83\uFF0C\u5982\u679C\u5FAA\u73AF\u51FD\u6570\u6709\u5BF9\u5916\u90E8\u53D8\u91CF\u7684\u5F15\u7528\u7684\u8BDD\uFF0C\u90A3\u4E48\u8FD9\u4E2A\u53D8\u91CF\u4F1A\u88AB\u4E00\u76F4\u7559\u5728\u5185\u5B58\u4E2D\uFF0C\u800C\u65E0\u6CD5\u88AB\u56DE\u6536\u3002</li><li>\u7B2C\u4E09\u79CD\u60C5\u51B5\u662F\u6211\u4EEC\u83B7\u53D6\u4E00\u4E2ADOM\u5143\u7D20\u7684\u5F15\u7528\uFF0C\u800C\u540E\u9762\u8FD9\u4E2A\u5143\u7D20\u88AB\u5220\u9664\uFF0C\u7531\u4E8E\u6211\u4EEC\u4E00\u76F4\u4FDD\u7559\u4E86\u5BF9\u8FD9\u4E2A\u5143\u7D20\u7684\u5F15\u7528\uFF0C\u6240\u4EE5\u5B83\u4E5F\u65E0\u6CD5\u88AB\u56DE\u6536\u3002</li><li>\u7B2C\u56DB\u79CD\u60C5\u51B5\u662F\u4E0D\u5408\u7406\u7684\u4F7F\u7528\u95ED\u5305\uFF0C\u4ECE\u800C\u5BFC\u81F4\u67D0\u4E9B\u53D8\u91CF\u4E00\u76F4\u88AB\u7559\u5728\u5185\u5B58\u5F53\u4E2D\u3002</li></ul></li><li><code>dom</code>\xA0\u5F15\u7528:\xA0<code>dom</code>\xA0\u5143\u7D20\u88AB\u5220\u9664\u65F6\uFF0C\u5185\u5B58\u4E2D\u7684\u5F15\u7528\u672A\u88AB\u6B63\u786E\u6E05\u7A7A</li><li>\u63A7\u5236\u53F0<code>console.log</code>\u6253\u5370\u7684\u4E1C\u897F</li></ul><blockquote><p>\u53EF\u7528\xA0<code>chrome</code>\xA0\u4E2D\u7684\xA0<code>timeline</code>\xA0\u8FDB\u884C\u5185\u5B58\u6807\u8BB0\uFF0C\u53EF\u89C6\u5316\u67E5\u770B\u5185\u5B58\u7684\u53D8\u5316\u60C5\u51B5\uFF0C\u627E\u51FA\u5F02\u5E38\u70B9\u3002</p></blockquote>',655),he={href:"https://juejin.cn/post/6947841638118998029?utm_source=gold_browser_extension",target:"_blank",rel:"noopener noreferrer"},qe=o("\u5185\u5B58\u6CC4\u9732\u6392\u67E5\u65B9\u6CD5(opens new window)"),ye=i('<h3 id="_21-\u6DF1\u6D45\u62F7\u8D1D" tabindex="-1"><a class="header-anchor" href="#_21-\u6DF1\u6D45\u62F7\u8D1D" aria-hidden="true">#</a> 21 \u6DF1\u6D45\u62F7\u8D1D</h3><p><img src="'+ee+`" alt=""></p><p>1. \u6D45\u62F7\u8D1D\u7684\u539F\u7406\u548C\u5B9E\u73B0</p><blockquote><p>\u81EA\u5DF1\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684\u5BF9\u8C61\uFF0C\u6765\u63A5\u53D7\u4F60\u8981\u91CD\u65B0\u590D\u5236\u6216\u5F15\u7528\u7684\u5BF9\u8C61\u503C\u3002\u5982\u679C\u5BF9\u8C61\u5C5E\u6027\u662F\u57FA\u672C\u7684\u6570\u636E\u7C7B\u578B\uFF0C\u590D\u5236\u7684\u5C31\u662F\u57FA\u672C\u7C7B\u578B\u7684\u503C\u7ED9\u65B0\u5BF9\u8C61\uFF1B\u4F46\u5982\u679C\u5C5E\u6027\u662F\u5F15\u7528\u6570\u636E\u7C7B\u578B\uFF0C\u590D\u5236\u7684\u5C31\u662F\u5185\u5B58\u4E2D\u7684\u5730\u5740\uFF0C\u5982\u679C\u5176\u4E2D\u4E00\u4E2A\u5BF9\u8C61\u6539\u53D8\u4E86\u8FD9\u4E2A\u5185\u5B58\u4E2D\u7684\u5730\u5740\uFF0C\u80AF\u5B9A\u4F1A\u5F71\u54CD\u5230\u53E6\u4E00\u4E2A\u5BF9\u8C61</p></blockquote><p>\u65B9\u6CD5\u4E00\uFF1Aobject.assign</p><blockquote><p><code>object.assign</code>\u662F ES6 \u4E2D\xA0<code>object</code>\xA0\u7684\u4E00\u4E2A\u65B9\u6CD5\uFF0C\u8BE5\u65B9\u6CD5\u53EF\u4EE5\u7528\u4E8E JS \u5BF9\u8C61\u7684\u5408\u5E76\u7B49\u591A\u4E2A\u7528\u9014\uFF0C<code>\u5176\u4E2D\u4E00\u4E2A\u7528\u9014\u5C31\u662F\u53EF\u4EE5\u8FDB\u884C\u6D45\u62F7\u8D1D</code>\u3002\u8BE5\u65B9\u6CD5\u7684\u7B2C\u4E00\u4E2A\u53C2\u6570\u662F\u62F7\u8D1D\u7684\u76EE\u6807\u5BF9\u8C61\uFF0C\u540E\u9762\u7684\u53C2\u6570\u662F\u62F7\u8D1D\u7684\u6765\u6E90\u5BF9\u8C61\uFF08\u4E5F\u53EF\u4EE5\u662F\u591A\u4E2A\u6765\u6E90\uFF09\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>object.assign \u7684\u8BED\u6CD5\u4E3A\uFF1AObject.assign(target, ...sources)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>object.assign \u7684\u793A\u4F8B\u4EE3\u7801\u5982\u4E0B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>let target = {};
let source = { a: { b: 1 } };
Object.assign(target, source);
console.log(target); // { a: { b: 1 } };

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F46\u662F\u4F7F\u7528 object.assign \u65B9\u6CD5\u6709\u51E0\u70B9\u9700\u8981\u6CE8\u610F</p><ul><li>\u5B83\u4E0D\u4F1A\u62F7\u8D1D\u5BF9\u8C61\u7684\u7EE7\u627F\u5C5E\u6027\uFF1B</li><li>\u5B83\u4E0D\u4F1A\u62F7\u8D1D\u5BF9\u8C61\u7684\u4E0D\u53EF\u679A\u4E3E\u7684\u5C5E\u6027\uFF1B</li><li>\u53EF\u4EE5\u62F7\u8D1D\xA0<code>Symbol</code>\xA0\u7C7B\u578B\u7684\u5C5E\u6027\u3002</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>let obj1 = { a:{ b:1 }, sym:Symbol(1)};
Object.defineProperty(obj1, &#39;innumerable&#39; ,{
    value:&#39;\u4E0D\u53EF\u679A\u4E3E\u5C5E\u6027&#39;,
    enumerable:false
});
let obj2 = {};
Object.assign(obj2,obj1)
obj1.a.b = 2;
console.log(&#39;obj1&#39;,obj1);
console.log(&#39;obj2&#39;,obj2);

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+ie+`" alt=""></p><blockquote><p>\u4ECE\u4E0A\u9762\u7684\u6837\u4F8B\u4EE3\u7801\u4E2D\u53EF\u4EE5\u770B\u5230\uFF0C\u5229\u7528\xA0<code>object.assign</code>\xA0\u4E5F\u53EF\u4EE5\u62F7\u8D1D\xA0<code>Symbol</code>\xA0\u7C7B\u578B\u7684\u5BF9\u8C61\uFF0C\u4F46\u662F\u5982\u679C\u5230\u4E86\u5BF9\u8C61\u7684\u7B2C\u4E8C\u5C42\u5C5E\u6027 obj1.a.b \u8FD9\u91CC\u7684\u65F6\u5019\uFF0C\u524D\u8005\u503C\u7684\u6539\u53D8\u4E5F\u4F1A\u5F71\u54CD\u540E\u8005\u7684\u7B2C\u4E8C\u5C42\u5C5E\u6027\u7684\u503C\uFF0C\u8BF4\u660E\u5176\u4E2D<code>\u4F9D\u65E7\u5B58\u5728\u7740\u8BBF\u95EE\u5171\u540C\u5806\u5185\u5B58\u7684\u95EE\u9898</code>\uFF0C\u4E5F\u5C31\u662F\u8BF4<code>\u8FD9\u79CD\u65B9\u6CD5\u8FD8\u4E0D\u80FD\u8FDB\u4E00\u6B65\u590D\u5236\uFF0C\u800C\u53EA\u662F\u5B8C\u6210\u4E86\u6D45\u62F7\u8D1D\u7684\u529F\u80FD</code></p></blockquote><p>\u65B9\u6CD5\u4E8C\uFF1A\u6269\u5C55\u8FD0\u7B97\u7B26\u65B9\u5F0F</p><ul><li>\u6211\u4EEC\u4E5F\u53EF\u4EE5\u5229\u7528 JS \u7684\u6269\u5C55\u8FD0\u7B97\u7B26\uFF0C\u5728\u6784\u9020\u5BF9\u8C61\u7684\u540C\u65F6\u5B8C\u6210\u6D45\u62F7\u8D1D\u7684\u529F\u80FD\u3002</li><li>\u6269\u5C55\u8FD0\u7B97\u7B26\u7684\u8BED\u6CD5\u4E3A\uFF1A<code>let cloneObj = { ...obj };</code></li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>/* \u5BF9\u8C61\u7684\u62F7\u8D1D */
let obj = {a:1,b:{c:1}}
let obj2 = {...obj}
obj.a = 2
console.log(obj)  //{a:2,b:{c:1}} console.log(obj2); //{a:1,b:{c:1}}
obj.b.c = 2
console.log(obj)  //{a:2,b:{c:2}} console.log(obj2); //{a:1,b:{c:2}}
/* \u6570\u7EC4\u7684\u62F7\u8D1D */
let arr = [1, 2, 3];
let newArr = [...arr]; //\u8DDFarr.slice()\u662F\u4E00\u6837\u7684\u6548\u679C

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u6269\u5C55\u8FD0\u7B97\u7B26 \u548C\xA0<code>object.assign</code>\xA0\u6709\u540C\u6837\u7684\u7F3A\u9677\uFF0C\u4E5F\u5C31\u662F<code>\u5B9E\u73B0\u7684\u6D45\u62F7\u8D1D\u7684\u529F\u80FD\u5DEE\u4E0D\u591A</code>\uFF0C\u4F46\u662F\u5982\u679C\u5C5E\u6027\u90FD\u662F<code>\u57FA\u672C\u7C7B\u578B\u7684\u503C\uFF0C\u4F7F\u7528\u6269\u5C55\u8FD0\u7B97\u7B26\u8FDB\u884C\u6D45\u62F7\u8D1D\u4F1A\u66F4\u52A0\u65B9\u4FBF</code></p></blockquote><p>\u65B9\u6CD5\u4E09\uFF1Aconcat \u62F7\u8D1D\u6570\u7EC4</p><blockquote><p>\u6570\u7EC4\u7684\xA0<code>concat</code>\xA0\u65B9\u6CD5\u5176\u5B9E\u4E5F\u662F\u6D45\u62F7\u8D1D\uFF0C\u6240\u4EE5\u8FDE\u63A5\u4E00\u4E2A\u542B\u6709\u5F15\u7528\u7C7B\u578B\u7684\u6570\u7EC4\u65F6\uFF0C\u9700\u8981\u6CE8\u610F\u4FEE\u6539\u539F\u6570\u7EC4\u4E2D\u7684\u5143\u7D20\u7684\u5C5E\u6027\uFF0C\u56E0\u4E3A\u5B83\u4F1A\u5F71\u54CD\u62F7\u8D1D\u4E4B\u540E\u8FDE\u63A5\u7684\u6570\u7EC4\u3002\u4E0D\u8FC7\xA0<code>concat</code>\xA0\u53EA\u80FD\u7528\u4E8E\u6570\u7EC4\u7684\u6D45\u62F7\u8D1D\uFF0C\u4F7F\u7528\u573A\u666F\u6BD4\u8F83\u5C40\u9650\u3002\u4EE3\u7801\u5982\u4E0B\u6240\u793A\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>let arr = [1, 2, 3];
let newArr = arr.concat();
newArr[1] = 100;
console.log(arr);  // [ 1, 2, 3 ]
console.log(newArr); // [ 1, 100, 3 ]

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u65B9\u6CD5\u56DB\uFF1Aslice \u62F7\u8D1D\u6570\u7EC4</p><blockquote><p><code>slice</code>\xA0\u65B9\u6CD5\u4E5F\u6BD4\u8F83\u6709\u5C40\u9650\u6027\uFF0C\u56E0\u4E3A<code>\u5B83\u4EC5\u4EC5\u9488\u5BF9\u6570\u7EC4\u7C7B\u578B</code>\u3002<code>slice\u65B9\u6CD5\u4F1A\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684\u6570\u7EC4\u5BF9\u8C61</code>\uFF0C\u8FD9\u4E00\u5BF9\u8C61\u7531\u8BE5\u65B9\u6CD5\u7684\u524D\u4E24\u4E2A\u53C2\u6570\u6765\u51B3\u5B9A\u539F\u6570\u7EC4\u622A\u53D6\u7684\u5F00\u59CB\u548C\u7ED3\u675F\u65F6\u95F4\uFF0C\u662F\u4E0D\u4F1A\u5F71\u54CD\u548C\u6539\u53D8\u539F\u59CB\u6570\u7EC4\u7684\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>slice \u7684\u8BED\u6CD5\u4E3A\uFF1Aarr.slice(begin, end);

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>let arr = [1, 2, {val: 4}];
let newArr = arr.slice();
newArr[2].val = 1000;
console.log(arr);  //[ 1, 2, { val: 1000 } ]

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u4ECE\u4E0A\u9762\u7684\u4EE3\u7801\u4E2D\u53EF\u4EE5\u770B\u51FA\uFF0C\u8FD9\u5C31\u662F<code>\u6D45\u62F7\u8D1D\u7684\u9650\u5236\u6240\u5728\u4E86------\u5B83\u53EA\u80FD\u62F7\u8D1D\u4E00\u5C42\u5BF9\u8C61</code>\u3002\u5982\u679C<code>\u5B58\u5728\u5BF9\u8C61\u7684\u5D4C\u5957\uFF0C\u90A3\u4E48\u6D45\u62F7\u8D1D\u5C06\u65E0\u80FD\u4E3A\u529B</code>\u3002\u56E0\u6B64\u6DF1\u62F7\u8D1D\u5C31\u662F\u4E3A\u4E86\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\u800C\u751F\u7684\uFF0C\u5B83\u80FD\u89E3\u51B3\u591A\u5C42\u5BF9\u8C61\u5D4C\u5957\u95EE\u9898\uFF0C\u5F7B\u5E95\u5B9E\u73B0\u62F7\u8D1D</p></blockquote><p>\u624B\u5DE5\u5B9E\u73B0\u4E00\u4E2A\u6D45\u62F7\u8D1D</p><p>\u6839\u636E\u4EE5\u4E0A\u5BF9\u6D45\u62F7\u8D1D\u7684\u7406\u89E3\uFF0C\u5982\u679C\u8BA9\u4F60\u81EA\u5DF1\u5B9E\u73B0\u4E00\u4E2A\u6D45\u62F7\u8D1D\uFF0C\u5927\u81F4\u7684\u601D\u8DEF\u5206\u4E3A\u4E24\u70B9\uFF1A</p><ul><li>\u5BF9\u57FA\u7840\u7C7B\u578B\u505A\u4E00\u4E2A\u6700\u57FA\u672C\u7684\u4E00\u4E2A\u62F7\u8D1D\uFF1B</li><li>\u5BF9\u5F15\u7528\u7C7B\u578B\u5F00\u8F9F\u4E00\u4E2A\u65B0\u7684\u5B58\u50A8\uFF0C\u5E76\u4E14\u62F7\u8D1D\u4E00\u5C42\u5BF9\u8C61\u5C5E\u6027\u3002</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>const shallowClone = (target) =&gt; {
  if (typeof target === &#39;object&#39; &amp;&amp; target !== null) {
    const cloneTarget = Array.isArray(target) ? []: {};
    for (let prop in target) {
      if (target.hasOwnProperty(prop)) {
          cloneTarget[prop] = target[prop];
      }
    }
    return cloneTarget;
  } else {
    return target;
  }
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u5229\u7528\u7C7B\u578B\u5224\u65AD\uFF0C\u9488\u5BF9\u5F15\u7528\u7C7B\u578B\u7684\u5BF9\u8C61\u8FDB\u884C for \u5FAA\u73AF\u904D\u5386\u5BF9\u8C61\u5C5E\u6027\u8D4B\u503C\u7ED9\u76EE\u6807\u5BF9\u8C61\u7684\u5C5E\u6027\uFF0C\u57FA\u672C\u5C31\u53EF\u4EE5\u624B\u5DE5\u5B9E\u73B0\u4E00\u4E2A\u6D45\u62F7\u8D1D\u7684\u4EE3\u7801\u4E86</p></blockquote><p>2. \u6DF1\u62F7\u8D1D\u7684\u539F\u7406\u548C\u5B9E\u73B0</p><p><code>\u6D45\u62F7\u8D1D\u53EA\u662F\u521B\u5EFA\u4E86\u4E00\u4E2A\u65B0\u7684\u5BF9\u8C61\uFF0C\u590D\u5236\u4E86\u539F\u6709\u5BF9\u8C61\u7684\u57FA\u672C\u7C7B\u578B\u7684\u503C\uFF0C\u800C\u5F15\u7528\u6570\u636E\u7C7B\u578B\u53EA\u62F7\u8D1D\u4E86\u4E00\u5C42\u5C5E\u6027\uFF0C\u518D\u6DF1\u5C42\u7684\u8FD8\u662F\u65E0\u6CD5\u8FDB\u884C\u62F7\u8D1D</code>\u3002\u6DF1\u62F7\u8D1D\u5219\u4E0D\u540C\uFF0C\u5BF9\u4E8E\u590D\u6742\u5F15\u7528\u6570\u636E\u7C7B\u578B\uFF0C\u5176\u5728\u5806\u5185\u5B58\u4E2D\u5B8C\u5168\u5F00\u8F9F\u4E86\u4E00\u5757\u5185\u5B58\u5730\u5740\uFF0C\u5E76\u5C06\u539F\u6709\u7684\u5BF9\u8C61\u5B8C\u5168\u590D\u5236\u8FC7\u6765\u5B58\u653E\u3002</p><p>\u8FD9\u4E24\u4E2A\u5BF9\u8C61\u662F\u76F8\u4E92\u72EC\u7ACB\u3001\u4E0D\u53D7\u5F71\u54CD\u7684\uFF0C\u5F7B\u5E95\u5B9E\u73B0\u4E86\u5185\u5B58\u4E0A\u7684\u5206\u79BB\u3002\u603B\u7684\u6765\u8BF4\uFF0C<code>\u6DF1\u62F7\u8D1D\u7684\u539F\u7406\u53EF\u4EE5\u603B\u7ED3\u5982\u4E0B</code>\uFF1A</p><blockquote><p>\u5C06\u4E00\u4E2A\u5BF9\u8C61\u4ECE\u5185\u5B58\u4E2D\u5B8C\u6574\u5730\u62F7\u8D1D\u51FA\u6765\u4E00\u4EFD\u7ED9\u76EE\u6807\u5BF9\u8C61\uFF0C\u5E76\u4ECE\u5806\u5185\u5B58\u4E2D\u5F00\u8F9F\u4E00\u4E2A\u5168\u65B0\u7684\u7A7A\u95F4\u5B58\u653E\u65B0\u5BF9\u8C61\uFF0C\u4E14\u65B0\u5BF9\u8C61\u7684\u4FEE\u6539\u5E76\u4E0D\u4F1A\u6539\u53D8\u539F\u5BF9\u8C61\uFF0C\u4E8C\u8005\u5B9E\u73B0\u771F\u6B63\u7684\u5206\u79BB\u3002</p></blockquote><p>\u65B9\u6CD5\u4E00\uFF1A\u4E5E\u4E10\u7248\uFF08JSON.stringify\uFF09</p><blockquote><p><code>JSON.stringify()</code>\xA0\u662F\u76EE\u524D\u5F00\u53D1\u8FC7\u7A0B\u4E2D\u6700\u7B80\u5355\u7684\u6DF1\u62F7\u8D1D\u65B9\u6CD5\uFF0C\u5176\u5B9E\u5C31\u662F\u628A\u4E00\u4E2A\u5BF9\u8C61\u5E8F\u5217\u5316\u6210\u4E3A\xA0<code>JSON</code>\xA0\u7684\u5B57\u7B26\u4E32\uFF0C\u5E76\u5C06\u5BF9\u8C61\u91CC\u9762\u7684\u5185\u5BB9\u8F6C\u6362\u6210\u5B57\u7B26\u4E32\uFF0C\u6700\u540E\u518D\u7528\xA0<code>JSON.parse()</code>\xA0\u7684\u65B9\u6CD5\u5C06\xA0<code>JSON</code>\xA0\u5B57\u7B26\u4E32\u751F\u6210\u4E00\u4E2A\u65B0\u7684\u5BF9\u8C61</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>let a = {
    age: 1,
    jobs: {
        first: &#39;FE&#39;
    }
}
let b = JSON.parse(JSON.stringify(a))
a.jobs.first = &#39;native&#39;
console.log(b.jobs.first) // FE

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F46\u662F\u8BE5\u65B9\u6CD5\u4E5F\u662F\u6709\u5C40\u9650\u6027\u7684\uFF1A</p><ul><li>\u4F1A\u5FFD\u7565\xA0<code>undefined</code></li><li>\u4F1A\u5FFD\u7565\xA0<code>symbol</code></li><li>\u4E0D\u80FD\u5E8F\u5217\u5316\u51FD\u6570</li><li>\u65E0\u6CD5\u62F7\u8D1D\u4E0D\u53EF\u679A\u4E3E\u7684\u5C5E\u6027</li><li>\u65E0\u6CD5\u62F7\u8D1D\u5BF9\u8C61\u7684\u539F\u578B\u94FE</li><li>\u62F7\u8D1D\xA0<code>RegExp</code>\xA0\u5F15\u7528\u7C7B\u578B\u4F1A\u53D8\u6210\u7A7A\u5BF9\u8C61</li><li>\u62F7\u8D1D\xA0<code>Date</code>\xA0\u5F15\u7528\u7C7B\u578B\u4F1A\u53D8\u6210\u5B57\u7B26\u4E32</li><li>\u5BF9\u8C61\u4E2D\u542B\u6709\xA0<code>NaN</code>\u3001<code>Infinity</code>\xA0\u4EE5\u53CA\xA0<code>-Infinity</code>\uFF0C<code>JSON</code>\xA0\u5E8F\u5217\u5316\u7684\u7ED3\u679C\u4F1A\u53D8\u6210\xA0<code>null</code></li><li>\u4E0D\u80FD\u89E3\u51B3\u5FAA\u73AF\u5F15\u7528\u7684\u5BF9\u8C61\uFF0C\u5373\u5BF9\u8C61\u6210\u73AF (<code>obj[key] = obj</code>)\u3002</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function Obj() {
  this.func = function () { alert(1) };
  this.obj = {a:1};
  this.arr = [1,2,3];
  this.und = undefined;
  this.reg = /123/;
  this.date = new Date(0);
  this.NaN = NaN;
  this.infinity = Infinity;
  this.sym = Symbol(1);
}
let obj1 = new Obj();
Object.defineProperty(obj1,&#39;innumerable&#39;,{
  enumerable:false,
  value:&#39;innumerable&#39;
});
console.log(&#39;obj1&#39;,obj1);
let str = JSON.stringify(obj1);
let obj2 = JSON.parse(str);
console.log(&#39;obj2&#39;,obj2);

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+ne+`" alt=""></p><blockquote><p>\u4F7F\u7528\xA0<code>JSON.stringify</code>\xA0\u65B9\u6CD5\u5B9E\u73B0\u6DF1\u62F7\u8D1D\u5BF9\u8C61\uFF0C\u867D\u7136\u5230\u76EE\u524D\u4E3A\u6B62\u8FD8\u6709\u5F88\u591A\u65E0\u6CD5\u5B9E\u73B0\u7684\u529F\u80FD\uFF0C\u4F46\u662F\u8FD9\u79CD\u65B9\u6CD5\u8DB3\u4EE5\u6EE1\u8DB3\u65E5\u5E38\u7684\u5F00\u53D1\u9700\u6C42\uFF0C\u5E76\u4E14\u662F\u6700\u7B80\u5355\u548C\u5FEB\u6377\u7684\u3002\u800C\u5BF9\u4E8E\u5176\u4ED6\u7684\u4E5F\u8981\u5B9E\u73B0\u6DF1\u62F7\u8D1D\u7684\uFF0C\u6BD4\u8F83\u9EBB\u70E6\u7684\u5C5E\u6027\u5BF9\u5E94\u7684\u6570\u636E\u7C7B\u578B\uFF0C<code>JSON.stringify</code>\xA0\u6682\u65F6\u8FD8\u662F\u65E0\u6CD5\u6EE1\u8DB3\u7684\uFF0C\u90A3\u4E48\u5C31\u9700\u8981\u4E0B\u9762\u7684\u51E0\u79CD\u65B9\u6CD5\u4E86</p></blockquote><p>\u65B9\u6CD5\u4E8C\uFF1A\u57FA\u7840\u7248\uFF08\u624B\u5199\u9012\u5F52\u5B9E\u73B0\uFF09</p><blockquote><p>\u4E0B\u9762\u662F\u4E00\u4E2A\u5B9E\u73B0 deepClone \u51FD\u6570\u5C01\u88C5\u7684\u4F8B\u5B50\uFF0C\u901A\u8FC7\xA0<code>for in</code>\xA0\u904D\u5386\u4F20\u5165\u53C2\u6570\u7684\u5C5E\u6027\u503C\uFF0C\u5982\u679C\u503C\u662F\u5F15\u7528\u7C7B\u578B\u5219\u518D\u6B21\u9012\u5F52\u8C03\u7528\u8BE5\u51FD\u6570\uFF0C\u5982\u679C\u662F\u57FA\u7840\u6570\u636E\u7C7B\u578B\u5C31\u76F4\u63A5\u590D\u5236</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>let obj1 = {
  a:{
    b:1
  }
}
function deepClone(obj) {
  let cloneObj = {}
  for(let key in obj) {                 //\u904D\u5386
    if(typeof obj[key] ===&#39;object&#39;) {
      cloneObj[key] = deepClone(obj[key])  //\u662F\u5BF9\u8C61\u5C31\u518D\u6B21\u8C03\u7528\u8BE5\u51FD\u6570\u9012\u5F52
    } else {
      cloneObj[key] = obj[key]  //\u57FA\u672C\u7C7B\u578B\u7684\u8BDD\u76F4\u63A5\u590D\u5236\u503C
    }
  }
  return cloneObj
}
let obj2 = deepClone(obj1);
obj1.a.b = 2;
console.log(obj2);   //  {a:{b:1}}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u867D\u7136\u5229\u7528\u9012\u5F52\u80FD\u5B9E\u73B0\u4E00\u4E2A\u6DF1\u62F7\u8D1D\uFF0C\u4F46\u662F\u540C\u4E0A\u9762\u7684\xA0<code>JSON.stringify</code>\xA0\u4E00\u6837\uFF0C\u8FD8\u662F\u6709\u4E00\u4E9B\u95EE\u9898\u6CA1\u6709\u5B8C\u5168\u89E3\u51B3\uFF0C\u4F8B\u5982\uFF1A</p><ul><li>\u8FD9\u4E2A\u6DF1\u62F7\u8D1D\u51FD\u6570\u5E76\u4E0D\u80FD\u590D\u5236\u4E0D\u53EF\u679A\u4E3E\u7684\u5C5E\u6027\u4EE5\u53CA\xA0<code>Symbol</code>\xA0\u7C7B\u578B\uFF1B</li><li>\u8FD9\u79CD\u65B9\u6CD5<code>\u53EA\u662F\u9488\u5BF9\u666E\u901A\u7684\u5F15\u7528\u7C7B\u578B\u7684\u503C\u505A\u9012\u5F52\u590D\u5236</code>\uFF0C\u800C\u5BF9\u4E8E\xA0<code>Array\u3001Date\u3001RegExp\u3001Error\u3001Function</code>\xA0\u8FD9\u6837\u7684\u5F15\u7528\u7C7B\u578B\u5E76\u4E0D\u80FD\u6B63\u786E\u5730\u62F7\u8D1D\uFF1B</li><li>\u5BF9\u8C61\u7684\u5C5E\u6027\u91CC\u9762\u6210\u73AF\uFF0C\u5373<code>\u5FAA\u73AF\u5F15\u7528\u6CA1\u6709\u89E3\u51B3</code>\u3002</li></ul><p>\u8FD9\u79CD\u57FA\u7840\u7248\u672C\u7684\u5199\u6CD5\u4E5F\u6BD4\u8F83\u7B80\u5355\uFF0C\u53EF\u4EE5\u5E94\u5BF9\u5927\u90E8\u5206\u7684\u5E94\u7528\u60C5\u51B5\u3002\u4F46\u662F\u4F60\u5728\u9762\u8BD5\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u5982\u679C\u53EA\u80FD\u5199\u51FA\u8FD9\u6837\u7684\u4E00\u4E2A\u6709\u7F3A\u9677\u7684\u6DF1\u62F7\u8D1D\u65B9\u6CD5\uFF0C\u6709\u53EF\u80FD\u4E0D\u4F1A\u901A\u8FC7\u3002</p><p>\u6240\u4EE5\u4E3A\u4E86&quot;\u62EF\u6551&quot;\u8FD9\u4E9B\u7F3A\u9677\uFF0C\u4E0B\u9762\u6211\u5E26\u4F60\u4E00\u8D77\u770B\u770B\u6539\u8FDB\u7684\u7248\u672C\uFF0C\u4EE5\u4FBF\u4E8E\u4F60\u53EF\u4EE5\u5728\u9762\u8BD5\u79CD\u5448\u73B0\u51FA\u66F4\u597D\u7684\u6DF1\u62F7\u8D1D\u65B9\u6CD5\uFF0C\u8D62\u5F97\u9762\u8BD5\u5B98\u7684\u9752\u7750\u3002</p><p>\u65B9\u6CD5\u4E09\uFF1A\u6539\u8FDB\u7248\uFF08\u6539\u8FDB\u540E\u9012\u5F52\u5B9E\u73B0\uFF09</p><blockquote><p>\u9488\u5BF9\u4E0A\u9762\u51E0\u4E2A\u5F85\u89E3\u51B3\u95EE\u9898\uFF0C\u6211\u5148\u901A\u8FC7\u56DB\u70B9\u76F8\u5173\u7684\u7406\u8BBA\u544A\u8BC9\u4F60\u5206\u522B\u5E94\u8BE5\u600E\u4E48\u505A\u3002</p></blockquote><ul><li>\u9488\u5BF9\u80FD\u591F\u904D\u5386\u5BF9\u8C61\u7684\u4E0D\u53EF\u679A\u4E3E\u5C5E\u6027\u4EE5\u53CA\xA0<code>Symbol</code>\xA0\u7C7B\u578B\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528\xA0<code>Reflect.ownKeys</code>\xA0\u65B9\u6CD5\uFF1B</li><li>\u5F53\u53C2\u6570\u4E3A\xA0<code>Date\u3001RegExp</code>\xA0\u7C7B\u578B\uFF0C\u5219\u76F4\u63A5\u751F\u6210\u4E00\u4E2A\u65B0\u7684\u5B9E\u4F8B\u8FD4\u56DE\uFF1B</li><li>\u5229\u7528\xA0<code>Object</code>\xA0\u7684\xA0<code>getOwnPropertyDescriptors</code>\xA0\u65B9\u6CD5\u53EF\u4EE5\u83B7\u5F97\u5BF9\u8C61\u7684\u6240\u6709\u5C5E\u6027\uFF0C\u4EE5\u53CA\u5BF9\u5E94\u7684\u7279\u6027\uFF0C\u987A\u4FBF\u7ED3\u5408\xA0<code>Object.create</code>\xA0\u65B9\u6CD5\u521B\u5EFA\u4E00\u4E2A\u65B0\u5BF9\u8C61\uFF0C\u5E76\u7EE7\u627F\u4F20\u5165\u539F\u5BF9\u8C61\u7684\u539F\u578B\u94FE\uFF1B</li><li>\u5229\u7528\xA0<code>WeakMap</code>\xA0\u7C7B\u578B\u4F5C\u4E3A\xA0<code>Hash</code>\xA0\u8868\uFF0C\u56E0\u4E3A\xA0<code>WeakMap</code>\xA0\u662F\u5F31\u5F15\u7528\u7C7B\u578B\uFF0C\u53EF\u4EE5\u6709\u6548\u9632\u6B62\u5185\u5B58\u6CC4\u6F0F\uFF08\u4F60\u53EF\u4EE5\u5173\u6CE8\u4E00\u4E0B\xA0<code>Map</code>\xA0\u548C\xA0<code>weakMap</code>\xA0\u7684\u5173\u952E\u533A\u522B\uFF0C\u8FD9\u91CC\u8981\u7528\xA0<code>weakMap</code>\uFF09\uFF0C\u4F5C\u4E3A\u68C0\u6D4B\u5FAA\u73AF\u5F15\u7528\u5F88\u6709\u5E2E\u52A9\uFF0C\u5982\u679C\u5B58\u5728\u5FAA\u73AF\uFF0C\u5219\u5F15\u7528\u76F4\u63A5\u8FD4\u56DE\xA0<code>WeakMap</code>\xA0\u5B58\u50A8\u7684\u503C</li></ul><p>\u5982\u679C\u4F60\u5728\u8003\u8651\u5230\u5FAA\u73AF\u5F15\u7528\u7684\u95EE\u9898\u4E4B\u540E\uFF0C\u8FD8\u80FD\u7528\xA0<code>WeakMap</code>\xA0\u6765\u5F88\u597D\u5730\u89E3\u51B3\uFF0C\u5E76\u4E14\u5411\u9762\u8BD5\u5B98\u89E3\u91CA\u8FD9\u6837\u505A\u7684\u76EE\u7684\uFF0C\u90A3\u4E48\u4F60\u6240\u5C55\u793A\u7684\u4EE3\u7801\uFF0C\u4EE5\u53CA\u4F60\u5BF9\u95EE\u9898\u601D\u8003\u7684\u5168\u9762\u6027\uFF0C\u5728\u9762\u8BD5\u5B98\u773C\u4E2D\u5E94\u8BE5\u7B97\u662F\u5408\u683C\u7684\u4E86</p><p>\u5B9E\u73B0\u6DF1\u62F7\u8D1D</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>const isComplexDataType = obj =&gt; (typeof obj === &#39;object&#39; || typeof obj === &#39;function&#39;) &amp;&amp; (obj !== null)

const deepClone = function (obj, hash = new WeakMap()) {
  if (obj.constructor === Date) {
    return new Date(obj)       // \u65E5\u671F\u5BF9\u8C61\u76F4\u63A5\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684\u65E5\u671F\u5BF9\u8C61
  }

  if (obj.constructor === RegExp){
    return new RegExp(obj)     //\u6B63\u5219\u5BF9\u8C61\u76F4\u63A5\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684\u6B63\u5219\u5BF9\u8C61
  }

  //\u5982\u679C\u5FAA\u73AF\u5F15\u7528\u4E86\u5C31\u7528 weakMap \u6765\u89E3\u51B3
  if (hash.has(obj)) {
    return hash.get(obj)
  }
  let allDesc = Object.getOwnPropertyDescriptors(obj)

  //\u904D\u5386\u4F20\u5165\u53C2\u6570\u6240\u6709\u952E\u7684\u7279\u6027
  let cloneObj = Object.create(Object.getPrototypeOf(obj), allDesc)

  // \u628AcloneObj\u539F\u578B\u590D\u5236\u5230obj\u4E0A
  hash.set(obj, cloneObj)

  for (let key of Reflect.ownKeys(obj)) {
    cloneObj[key] = (isComplexDataType(obj[key]) &amp;&amp; typeof obj[key] !== &#39;function&#39;) ? deepClone(obj[key], hash) : obj[key]
  }
  return cloneObj
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// \u4E0B\u9762\u662F\u9A8C\u8BC1\u4EE3\u7801
let obj = {
  num: 0,
  str: &#39;&#39;,
  boolean: true,
  unf: undefined,
  nul: null,
  obj: { name: &#39;\u6211\u662F\u4E00\u4E2A\u5BF9\u8C61&#39;, id: 1 },
  arr: [0, 1, 2],
  func: function () { console.log(&#39;\u6211\u662F\u4E00\u4E2A\u51FD\u6570&#39;) },
  date: new Date(0),
  reg: new RegExp(&#39;/\u6211\u662F\u4E00\u4E2A\u6B63\u5219/ig&#39;),
  [Symbol(&#39;1&#39;)]: 1,
};
Object.defineProperty(obj, &#39;innumerable&#39;, {
  enumerable: false, value: &#39;\u4E0D\u53EF\u679A\u4E3E\u5C5E\u6027&#39; }
);
obj = Object.create(obj, Object.getOwnPropertyDescriptors(obj))
obj.loop = obj    // \u8BBE\u7F6Eloop\u6210\u5FAA\u73AF\u5F15\u7528\u7684\u5C5E\u6027
let cloneObj = deepClone(obj)
cloneObj.arr.push(4)
console.log(&#39;obj&#39;, obj)
console.log(&#39;cloneObj&#39;, cloneObj)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6211\u4EEC\u770B\u4E00\u4E0B\u7ED3\u679C\uFF0C<code>cloneObj</code>\xA0\u5728\xA0<code>obj</code>\xA0\u7684\u57FA\u7840\u4E0A\u8FDB\u884C\u4E86\u4E00\u6B21\u6DF1\u62F7\u8D1D\uFF0C<code>cloneObj</code>\xA0\u91CC\u7684\xA0<code>arr</code>\xA0\u6570\u7EC4\u8FDB\u884C\u4E86\u4FEE\u6539\uFF0C\u5E76\u672A\u5F71\u54CD\u5230\xA0<code>obj.arr</code>\xA0\u7684\u53D8\u5316\uFF0C\u5982\u4E0B\u56FE\u6240\u793A</p><p><img src="`+le+`" alt=""></p><h3 id="_22-\u8282\u6D41\u4E0E\u9632\u6296" tabindex="-1"><a class="header-anchor" href="#_22-\u8282\u6D41\u4E0E\u9632\u6296" aria-hidden="true">#</a> 22 \u8282\u6D41\u4E0E\u9632\u6296</h3><ul><li>\u51FD\u6570\u9632\u6296 \u662F\u6307\u5728\u4E8B\u4EF6\u88AB\u89E6\u53D1 n \u79D2\u540E\u518D\u6267\u884C\u56DE\u8C03\uFF0C\u5982\u679C\u5728\u8FD9 n \u79D2\u5185\u4E8B\u4EF6\u53C8\u88AB\u89E6\u53D1\uFF0C\u5219\u91CD\u65B0\u8BA1\u65F6\u3002\u8FD9\u53EF\u4EE5\u4F7F\u7528\u5728\u4E00\u4E9B\u70B9\u51FB\u8BF7\u6C42\u7684\u4E8B\u4EF6\u4E0A\uFF0C\u907F\u514D\u56E0\u4E3A\u7528\u6237\u7684\u591A\u6B21\u70B9\u51FB\u5411\u540E\u7AEF\u53D1\u9001\u591A\u6B21\u8BF7\u6C42\u3002</li><li>\u51FD\u6570\u8282\u6D41 \u662F\u6307\u89C4\u5B9A\u4E00\u4E2A\u5355\u4F4D\u65F6\u95F4\uFF0C\u5728\u8FD9\u4E2A\u5355\u4F4D\u65F6\u95F4\u5185\uFF0C\u53EA\u80FD\u6709\u4E00\u6B21\u89E6\u53D1\u4E8B\u4EF6\u7684\u56DE\u8C03\u51FD\u6570\u6267\u884C\uFF0C\u5982\u679C\u5728\u540C\u4E00\u4E2A\u5355\u4F4D\u65F6\u95F4\u5185\u67D0\u4E8B\u4EF6\u88AB\u89E6\u53D1\u591A\u6B21\uFF0C\u53EA\u6709\u4E00\u6B21\u80FD\u751F\u6548\u3002\u8282\u6D41\u53EF\u4EE5\u4F7F\u7528\u5728 scroll \u51FD\u6570\u7684\u4E8B\u4EF6\u76D1\u542C\u4E0A\uFF0C\u901A\u8FC7\u4E8B\u4EF6\u8282\u6D41\u6765\u964D\u4F4E\u4E8B\u4EF6\u8C03\u7528\u7684\u9891\u7387\u3002</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>
// \u51FD\u6570\u9632\u6296\u7684\u5B9E\u73B0
function debounce(fn, wait) {
  var timer = null;

  return function() {
    var context = this,
      args = arguments;

    // \u5982\u679C\u6B64\u65F6\u5B58\u5728\u5B9A\u65F6\u5668\u7684\u8BDD\uFF0C\u5219\u53D6\u6D88\u4E4B\u524D\u7684\u5B9A\u65F6\u5668\u91CD\u65B0\u8BB0\u65F6
    if (timer) {
      clearTimeout(timer);
      timer = null;
    }

    // \u8BBE\u7F6E\u5B9A\u65F6\u5668\uFF0C\u4F7F\u4E8B\u4EF6\u95F4\u9694\u6307\u5B9A\u4E8B\u4EF6\u540E\u6267\u884C
    timer = setTimeout(() =&gt; {
      fn.apply(context, args);
    }, wait);
  };
}

// \u51FD\u6570\u8282\u6D41\u7684\u5B9E\u73B0;
function throttle(fn, delay) {
  var preTime = Date.now();

  return function() {
    var context = this,
      args = arguments,
      nowTime = Date.now();

    // \u5982\u679C\u4E24\u6B21\u65F6\u95F4\u95F4\u9694\u8D85\u8FC7\u4E86\u6307\u5B9A\u65F6\u95F4\uFF0C\u5219\u6267\u884C\u51FD\u6570\u3002
    if (nowTime - preTime &gt;= delay) {
      preTime = Date.now();
      return fn.apply(context, args);
    }
  };
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_23-proxy\u4EE3\u7406" tabindex="-1"><a class="header-anchor" href="#_23-proxy\u4EE3\u7406" aria-hidden="true">#</a> 23 Proxy\u4EE3\u7406</h3><blockquote><p>proxy\u5728\u76EE\u6807\u5BF9\u8C61\u7684\u5916\u5C42\u642D\u5EFA\u4E86\u4E00\u5C42\u62E6\u622A\uFF0C\u5916\u754C\u5BF9\u76EE\u6807\u5BF9\u8C61\u7684\u67D0\u4E9B\u64CD\u4F5C\uFF0C\u5FC5\u987B\u901A\u8FC7\u8FD9\u5C42\u62E6\u622A</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var proxy = new Proxy(target, handler);

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>new Proxy()</code>\u8868\u793A\u751F\u6210\u4E00\u4E2AProxy\u5B9E\u4F8B\uFF0C<code>target</code>\u53C2\u6570\u8868\u793A\u6240\u8981\u62E6\u622A\u7684\u76EE\u6807\u5BF9\u8C61\uFF0C<code>handler</code>\u53C2\u6570\u4E5F\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u7528\u6765\u5B9A\u5236\u62E6\u622A\u884C\u4E3A</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var target = {
   name: &#39;poetries&#39;
 };
 var logHandler = {
   get: function(target, key) {
     console.log(\`\${key} \u88AB\u8BFB\u53D6\`);
     return target[key];
   },
   set: function(target, key, value) {
     console.log(\`\${key} \u88AB\u8BBE\u7F6E\u4E3A \${value}\`);
     target[key] = value;
   }
 }
 var targetWithLog = new Proxy(target, logHandler);

 targetWithLog.name; // \u63A7\u5236\u53F0\u8F93\u51FA\uFF1Aname \u88AB\u8BFB\u53D6
 targetWithLog.name = &#39;others&#39;; // \u63A7\u5236\u53F0\u8F93\u51FA\uFF1Aname \u88AB\u8BBE\u7F6E\u4E3A others

 console.log(target.name); // \u63A7\u5236\u53F0\u8F93\u51FA: others

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>targetWithLog</code>\xA0\u8BFB\u53D6\u5C5E\u6027\u7684\u503C\u65F6\uFF0C\u5B9E\u9645\u4E0A\u6267\u884C\u7684\u662F\xA0<code>logHandler.get</code>\xA0\uFF1A\u5728\u63A7\u5236\u53F0\u8F93\u51FA\u4FE1\u606F\uFF0C\u5E76\u4E14\u8BFB\u53D6\u88AB\u4EE3\u7406\u5BF9\u8C61\xA0<code>target</code>\xA0\u7684\u5C5E\u6027\u3002</li><li>\u5728\xA0<code>targetWithLog</code>\xA0\u8BBE\u7F6E\u5C5E\u6027\u503C\u65F6\uFF0C\u5B9E\u9645\u4E0A\u6267\u884C\u7684\u662F\xA0<code>logHandler.set</code>\xA0\uFF1A\u5728\u63A7\u5236\u53F0\u8F93\u51FA\u4FE1\u606F\uFF0C\u5E76\u4E14\u8BBE\u7F6E\u88AB\u4EE3\u7406\u5BF9\u8C61\xA0<code>target</code>\xA0\u7684\u5C5E\u6027\u7684\u503C</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// \u7531\u4E8E\u62E6\u622A\u51FD\u6570\u603B\u662F\u8FD4\u56DE35\uFF0C\u6240\u4EE5\u8BBF\u95EE\u4EFB\u4F55\u5C5E\u6027\u90FD\u5F97\u523035
var proxy = new Proxy({}, {
  get: function(target, property) {
    return 35;
  }
});

proxy.time // 35
proxy.name // 35
proxy.title // 35

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Proxy \u5B9E\u4F8B\u4E5F\u53EF\u4EE5\u4F5C\u4E3A\u5176\u4ED6\u5BF9\u8C61\u7684\u539F\u578B\u5BF9\u8C61</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var proxy = new Proxy({}, {
  get: function(target, property) {
    return 35;
  }
});

let obj = Object.create(proxy);
obj.time // 35

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>proxy</code>\u5BF9\u8C61\u662F<code>obj</code>\u5BF9\u8C61\u7684\u539F\u578B\uFF0C<code>obj</code>\u5BF9\u8C61\u672C\u8EAB\u5E76\u6CA1\u6709<code>time</code>\u5C5E\u6027\uFF0C\u6240\u4EE5\u6839\u636E\u539F\u578B\u94FE\uFF0C\u4F1A\u5728<code>proxy</code>\u5BF9\u8C61\u4E0A\u8BFB\u53D6\u8BE5\u5C5E\u6027\uFF0C\u5BFC\u81F4\u88AB\u62E6\u622A</p></blockquote><p>Proxy\u7684\u4F5C\u7528</p><blockquote><p>\u5BF9\u4E8E\u4EE3\u7406\u6A21\u5F0F\xA0<code>Proxy</code>\xA0\u7684\u4F5C\u7528\u4E3B\u8981\u4F53\u73B0\u5728\u4E09\u4E2A\u65B9\u9762</p></blockquote><ul><li>\u62E6\u622A\u548C\u76D1\u89C6\u5916\u90E8\u5BF9\u5BF9\u8C61\u7684\u8BBF\u95EE</li><li>\u964D\u4F4E\u51FD\u6570\u6216\u7C7B\u7684\u590D\u6742\u5EA6</li><li>\u5728\u590D\u6742\u64CD\u4F5C\u524D\u5BF9\u64CD\u4F5C\u8FDB\u884C\u6821\u9A8C\u6216\u5BF9\u6240\u9700\u8D44\u6E90\u8FDB\u884C\u7BA1\u7406</li></ul><p>Proxy\u6240\u80FD\u4EE3\u7406\u7684\u8303\u56F4--handler</p><blockquote><p>\u5B9E\u9645\u4E0A handler \u672C\u8EAB\u5C31\u662FES6\u6240\u65B0\u8BBE\u8BA1\u7684\u4E00\u4E2A\u5BF9\u8C61.\u5B83\u7684\u4F5C\u7528\u5C31\u662F\u7528\u6765 \u81EA\u5B9A\u4E49\u4EE3\u7406\u5BF9\u8C61\u7684\u5404\u79CD\u53EF\u4EE3\u7406\u64CD\u4F5C \u3002\u5B83\u672C\u8EAB\u4E00\u5171\u670913\u4E2D\u65B9\u6CD5,\u6BCF\u79CD\u65B9\u6CD5\u90FD\u53EF\u4EE5\u4EE3\u7406\u4E00\u79CD\u64CD\u4F5C.\u517613\u79CD\u65B9\u6CD5\u5982\u4E0B</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// \u5728\u8BFB\u53D6\u4EE3\u7406\u5BF9\u8C61\u7684\u539F\u578B\u65F6\u89E6\u53D1\u8BE5\u64CD\u4F5C\uFF0C\u6BD4\u5982\u5728\u6267\u884C Object.getPrototypeOf(proxy) \u65F6\u3002
handler.getPrototypeOf()

// \u5728\u8BBE\u7F6E\u4EE3\u7406\u5BF9\u8C61\u7684\u539F\u578B\u65F6\u89E6\u53D1\u8BE5\u64CD\u4F5C\uFF0C\u6BD4\u5982\u5728\u6267\u884C Object.setPrototypeOf(proxy, null) \u65F6\u3002
handler.setPrototypeOf()

// \u5728\u5224\u65AD\u4E00\u4E2A\u4EE3\u7406\u5BF9\u8C61\u662F\u5426\u662F\u53EF\u6269\u5C55\u65F6\u89E6\u53D1\u8BE5\u64CD\u4F5C\uFF0C\u6BD4\u5982\u5728\u6267\u884C Object.isExtensible(proxy) \u65F6\u3002
handler.isExtensible()

// \u5728\u8BA9\u4E00\u4E2A\u4EE3\u7406\u5BF9\u8C61\u4E0D\u53EF\u6269\u5C55\u65F6\u89E6\u53D1\u8BE5\u64CD\u4F5C\uFF0C\u6BD4\u5982\u5728\u6267\u884C Object.preventExtensions(proxy) \u65F6\u3002
handler.preventExtensions()

// \u5728\u83B7\u53D6\u4EE3\u7406\u5BF9\u8C61\u67D0\u4E2A\u5C5E\u6027\u7684\u5C5E\u6027\u63CF\u8FF0\u65F6\u89E6\u53D1\u8BE5\u64CD\u4F5C\uFF0C\u6BD4\u5982\u5728\u6267\u884C Object.getOwnPropertyDescriptor(proxy, &quot;foo&quot;) \u65F6\u3002
handler.getOwnPropertyDescriptor()

// \u5728\u5B9A\u4E49\u4EE3\u7406\u5BF9\u8C61\u67D0\u4E2A\u5C5E\u6027\u65F6\u7684\u5C5E\u6027\u63CF\u8FF0\u65F6\u89E6\u53D1\u8BE5\u64CD\u4F5C\uFF0C\u6BD4\u5982\u5728\u6267\u884C Object.defineProperty(proxy, &quot;foo&quot;, {}) \u65F6\u3002
andler.defineProperty()

// \u5728\u5224\u65AD\u4EE3\u7406\u5BF9\u8C61\u662F\u5426\u62E5\u6709\u67D0\u4E2A\u5C5E\u6027\u65F6\u89E6\u53D1\u8BE5\u64CD\u4F5C\uFF0C\u6BD4\u5982\u5728\u6267\u884C &quot;foo&quot; in proxy \u65F6\u3002
handler.has()

// \u5728\u8BFB\u53D6\u4EE3\u7406\u5BF9\u8C61\u7684\u67D0\u4E2A\u5C5E\u6027\u65F6\u89E6\u53D1\u8BE5\u64CD\u4F5C\uFF0C\u6BD4\u5982\u5728\u6267\u884C proxy.foo \u65F6\u3002
handler.get()

// \u5728\u7ED9\u4EE3\u7406\u5BF9\u8C61\u7684\u67D0\u4E2A\u5C5E\u6027\u8D4B\u503C\u65F6\u89E6\u53D1\u8BE5\u64CD\u4F5C\uFF0C\u6BD4\u5982\u5728\u6267\u884C proxy.foo = 1 \u65F6\u3002
handler.set()

// \u5728\u5220\u9664\u4EE3\u7406\u5BF9\u8C61\u7684\u67D0\u4E2A\u5C5E\u6027\u65F6\u89E6\u53D1\u8BE5\u64CD\u4F5C\uFF0C\u6BD4\u5982\u5728\u6267\u884C delete proxy.foo \u65F6\u3002
handler.deleteProperty()

// \u5728\u83B7\u53D6\u4EE3\u7406\u5BF9\u8C61\u7684\u6240\u6709\u5C5E\u6027\u952E\u65F6\u89E6\u53D1\u8BE5\u64CD\u4F5C\uFF0C\u6BD4\u5982\u5728\u6267\u884C Object.getOwnPropertyNames(proxy) \u65F6\u3002
handler.ownKeys()

// \u5728\u8C03\u7528\u4E00\u4E2A\u76EE\u6807\u5BF9\u8C61\u4E3A\u51FD\u6570\u7684\u4EE3\u7406\u5BF9\u8C61\u65F6\u89E6\u53D1\u8BE5\u64CD\u4F5C\uFF0C\u6BD4\u5982\u5728\u6267\u884C proxy() \u65F6\u3002
handler.apply()

// \u5728\u7ED9\u4E00\u4E2A\u76EE\u6807\u5BF9\u8C61\u4E3A\u6784\u9020\u51FD\u6570\u7684\u4EE3\u7406\u5BF9\u8C61\u6784\u9020\u5B9E\u4F8B\u65F6\u89E6\u53D1\u8BE5\u64CD\u4F5C\uFF0C\u6BD4\u5982\u5728\u6267\u884Cnew proxy() \u65F6\u3002
handler.construct()

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E3A\u4F55Proxy\u4E0D\u80FD\u88ABPolyfill</p><ul><li>\u5982class\u53EF\u4EE5\u7528<code>function</code>\u6A21\u62DF\uFF1B<code>promise</code>\u53EF\u4EE5\u7528<code>callback</code>\u6A21\u62DF</li><li>\u4F46\u662Fproxy\u4E0D\u80FD\u7528<code>Object.defineProperty</code>\u6A21\u62DF</li></ul><blockquote><p>\u76EE\u524D\u8C37\u6B4C\u7684polyfill\u53EA\u80FD\u5B9E\u73B0\u90E8\u5206\u7684\u529F\u80FD\uFF0C\u5982get\u3001set https://github.com/GoogleChrome/proxy-polyfill</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// commonJS require
const proxyPolyfill = require(&#39;proxy-polyfill/src/proxy&#39;)();

// Your environment may also support transparent rewriting of commonJS to ES6:
import ProxyPolyfillBuilder from &#39;proxy-polyfill/src/proxy&#39;;
const proxyPolyfill = ProxyPolyfillBuilder();

// Then use...
const myProxy = new proxyPolyfill(...);

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_24-ajax" tabindex="-1"><a class="header-anchor" href="#_24-ajax" aria-hidden="true">#</a> 24 Ajax</h3><blockquote><p>\u5B83\u662F\u4E00\u79CD\u5F02\u6B65\u901A\u4FE1\u7684\u65B9\u6CD5\uFF0C\u901A\u8FC7\u76F4\u63A5\u7531 js \u811A\u672C\u5411\u670D\u52A1\u5668\u53D1\u8D77 http \u901A\u4FE1\uFF0C\u7136\u540E\u6839\u636E\u670D\u52A1\u5668\u8FD4\u56DE\u7684\u6570\u636E\uFF0C\u66F4\u65B0\u7F51\u9875\u7684\u76F8\u5E94\u90E8\u5206\uFF0C\u800C\u4E0D\u7528\u5237\u65B0\u6574\u4E2A\u9875\u9762\u7684\u4E00\u79CD\u65B9\u6CD5\u3002</p></blockquote><p><img src="`+de+`" alt=""></p><p>\u9762\u8BD5\u624B\u5199\uFF08\u539F\u751F\uFF09\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>//1\uFF1A\u521B\u5EFAAjax\u5BF9\u8C61
var xhr = window.XMLHttpRequest?new XMLHttpRequest():new ActiveXObject(&#39;Microsoft.XMLHTTP&#39;);// \u517C\u5BB9IE6\u53CA\u4EE5\u4E0B\u7248\u672C
//2\uFF1A\u914D\u7F6E Ajax\u8BF7\u6C42\u5730\u5740
xhr.open(&#39;get&#39;,&#39;index.xml&#39;,true);
//3\uFF1A\u53D1\u9001\u8BF7\u6C42
xhr.send(null); // \u4E25\u8C28\u5199\u6CD5
//4:\u76D1\u542C\u8BF7\u6C42\uFF0C\u63A5\u53D7\u54CD\u5E94
xhr.onreadysatechange=function(){
     if(xhr.readySate==4&amp;&amp;xhr.status==200 || xhr.status==304 )
          console.log(xhr.responsetXML)
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>jQuery\u5199\u6CD5</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$.ajax({
  type:&#39;post&#39;,
  url:&#39;&#39;,
  async:ture,//async \u5F02\u6B65  sync  \u540C\u6B65
  data:data,//\u9488\u5BF9post\u8BF7\u6C42
  dataType:&#39;jsonp&#39;,
  success:function (msg) {

  },
  error:function (error) {

  }
})

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>promise \u5C01\u88C5\u5B9E\u73B0\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// promise \u5C01\u88C5\u5B9E\u73B0\uFF1A

function getJSON(url) {
  // \u521B\u5EFA\u4E00\u4E2A promise \u5BF9\u8C61
  let promise = new Promise(function(resolve, reject) {
    let xhr = new XMLHttpRequest();

    // \u65B0\u5EFA\u4E00\u4E2A http \u8BF7\u6C42
    xhr.open(&quot;GET&quot;, url, true);

    // \u8BBE\u7F6E\u72B6\u6001\u7684\u76D1\u542C\u51FD\u6570
    xhr.onreadystatechange = function() {
      if (this.readyState !== 4) return;

      // \u5F53\u8BF7\u6C42\u6210\u529F\u6216\u5931\u8D25\u65F6\uFF0C\u6539\u53D8 promise \u7684\u72B6\u6001
      if (this.status === 200) {
        resolve(this.response);
      } else {
        reject(new Error(this.statusText));
      }
    };

    // \u8BBE\u7F6E\u9519\u8BEF\u76D1\u542C\u51FD\u6570
    xhr.onerror = function() {
      reject(new Error(this.statusText));
    };

    // \u8BBE\u7F6E\u54CD\u5E94\u7684\u6570\u636E\u7C7B\u578B
    xhr.responseType = &quot;json&quot;;

    // \u8BBE\u7F6E\u8BF7\u6C42\u5934\u4FE1\u606F
    xhr.setRequestHeader(&quot;Accept&quot;, &quot;application/json&quot;);

    // \u53D1\u9001 http \u8BF7\u6C42
    xhr.send(null);
  });

  return promise;
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_25-\u6DF1\u5165\u6570\u7EC4" tabindex="-1"><a class="header-anchor" href="#_25-\u6DF1\u5165\u6570\u7EC4" aria-hidden="true">#</a> 25 \u6DF1\u5165\u6570\u7EC4</h3><p>\u4E00\u3001\u68B3\u7406\u6570\u7EC4 API</p><p>1.\xA0<code>Array.of</code></p><blockquote><p><code>Array.of</code>\xA0\u7528\u4E8E\u5C06\u53C2\u6570\u4F9D\u6B21\u8F6C\u5316\u4E3A\u6570\u7EC4\u4E2D\u7684\u4E00\u9879\uFF0C\u7136\u540E\u8FD4\u56DE\u8FD9\u4E2A\u65B0\u6570\u7EC4\uFF0C\u800C\u4E0D\u7BA1\u8FD9\u4E2A\u53C2\u6570\u662F\u6570\u5B57\u8FD8\u662F\u5176\u4ED6\u3002\u5B83\u57FA\u672C\u4E0A\u4E0E Array \u6784\u9020\u5668\u529F\u80FD\u4E00\u81F4\uFF0C\u552F\u4E00\u7684\u533A\u522B\u5C31\u5728\u5355\u4E2A\u6570\u5B57\u53C2\u6570\u7684\u5904\u7406\u4E0A</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Array.of(8.0); // [8]
Array(8.0); // [empty \xD7 8]
Array.of(8.0, 5); // [8, 5]
Array(8.0, 5); // [8, 5]
Array.of(&#39;8&#39;); // [&quot;8&quot;]
Array(&#39;8&#39;); // [&quot;8&quot;]

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.\xA0<code>Array.from</code></p><p>\u4ECE\u8BED\u6CD5\u4E0A\u770B\uFF0CArray.from \u62E5\u6709 3 \u4E2A\u53C2\u6570\uFF1A</p><ul><li>\u7C7B\u4F3C\u6570\u7EC4\u7684\u5BF9\u8C61\uFF0C\u5FC5\u9009\uFF1B</li><li>\u52A0\u5DE5\u51FD\u6570\uFF0C\u65B0\u751F\u6210\u7684\u6570\u7EC4\u4F1A\u7ECF\u8FC7\u8BE5\u51FD\u6570\u7684\u52A0\u5DE5\u518D\u8FD4\u56DE\uFF1B</li><li><code>this</code>\xA0\u4F5C\u7528\u57DF\uFF0C\u8868\u793A\u52A0\u5DE5\u51FD\u6570\u6267\u884C\u65F6\xA0<code>this</code>\xA0\u7684\u503C\u3002</li></ul><p>\u8FD9\u4E09\u4E2A\u53C2\u6570\u91CC\u9762\u7B2C\u4E00\u4E2A\u53C2\u6570\u662F\u5FC5\u9009\u7684\uFF0C\u540E\u4E24\u4E2A\u53C2\u6570\u90FD\u662F\u53EF\u9009\u7684\u3002\u6211\u4EEC\u901A\u8FC7\u4E00\u6BB5\u4EE3\u7801\u6765\u770B\u770B\u5B83\u7684\u7528\u6CD5\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var obj = {0: &#39;a&#39;, 1: &#39;b&#39;, 2:&#39;c&#39;, length: 3};
Array.from(obj, function(value, index){
  console.log(value, index, this, arguments.length);
  return value.repeat(3);   //\u5FC5\u987B\u6307\u5B9A\u8FD4\u56DE\u503C\uFF0C\u5426\u5219\u8FD4\u56DE undefined
}, obj);

// return \u7684 value \u91CD\u590D\u4E86\u4E09\u904D\uFF0C\u6700\u540E\u8FD4\u56DE\u7684\u6570\u7EC4\u4E3A [&quot;aaa&quot;,&quot;bbb&quot;,&quot;ccc&quot;]

// \u5982\u679C\u8FD9\u91CC\u4E0D\u6307\u5B9A this \u7684\u8BDD\uFF0C\u52A0\u5DE5\u51FD\u6570\u5B8C\u5168\u53EF\u4EE5\u662F\u4E00\u4E2A\u7BAD\u5934\u51FD\u6570\u3002\u4E0A\u8FF0\u4EE3\u7801\u53EF\u4EE5\u7B80\u5199\u4E3A\u5982\u4E0B\u5F62\u5F0F\u3002
Array.from(obj, (value) =&gt; value.repeat(3));
//  \u63A7\u5236\u53F0\u8FD4\u56DE (3) [&quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;]

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u9664\u4E86\u4E0A\u8FF0\xA0<code>obj</code>\xA0\u5BF9\u8C61\u4EE5\u5916\uFF0C\u62E5\u6709\u8FED\u4EE3\u5668\u7684\u5BF9\u8C61\u8FD8\u5305\u62EC\xA0<code>String\u3001Set\u3001Map</code>\xA0\u7B49\uFF0C<code>Array.from</code>\xA0\u7EDF\u7EDF\u53EF\u4EE5\u5904\u7406\uFF0C\u8BF7\u770B\u4E0B\u9762\u7684\u4EE3\u7801\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// String
Array.from(&#39;abc&#39;);         // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
// Set
Array.from(new Set([&#39;abc&#39;, &#39;def&#39;])); // [&quot;abc&quot;, &quot;def&quot;]
// Map
Array.from(new Map([[1, &#39;ab&#39;], [2, &#39;de&#39;]]));
// [[1, &#39;ab&#39;], [2, &#39;de&#39;]]

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.\xA0<code>Array \u7684\u5224\u65AD</code></p><blockquote><p>\u5728 ES5 \u63D0\u4F9B\u8BE5\u65B9\u6CD5\u4E4B\u524D\uFF0C\u6211\u4EEC\u81F3\u5C11\u6709\u5982\u4E0B 5 \u79CD\u65B9\u5F0F\u53BB\u5224\u65AD\u4E00\u4E2A\u53D8\u91CF\u662F\u5426\u4E3A\u6570\u7EC4\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var a = [];
// 1.\u57FA\u4E8Einstanceof
a instanceof Array;
// 2.\u57FA\u4E8Econstructor
a.constructor === Array;
// 3.\u57FA\u4E8EObject.prototype.isPrototypeOf
Array.prototype.isPrototypeOf(a);
// 4.\u57FA\u4E8EgetPrototypeOf
Object.getPrototypeOf(a) === Array.prototype;
// 5.\u57FA\u4E8EObject.prototype.toString
Object.prototype.toString.apply(a) === &#39;[object Array]&#39;;

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>ES6 \u4E4B\u540E\u65B0\u589E\u4E86\u4E00\u4E2A\xA0<code>Array.isArray</code>\xA0\u65B9\u6CD5\uFF0C\u80FD\u76F4\u63A5\u5224\u65AD\u6570\u636E\u7C7B\u578B\u662F\u5426\u4E3A\u6570\u7EC4\uFF0C\u4F46\u662F\u5982\u679C isArray \u4E0D\u5B58\u5728\uFF0C\u90A3\u4E48\xA0<code>Array.isArray</code>\xA0\u7684 polyfill \u901A\u5E38\u53EF\u4EE5\u8FD9\u6837\u5199\uFF1A</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>if (!Array.isArray){
  Array.isArray = function(arg){
    return Object.prototype.toString.call(arg) === &#39;[object Array]&#39;;
  };
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>4. \u6539\u53D8\u81EA\u8EAB\u7684\u65B9\u6CD5</p><blockquote><p>\u57FA\u4E8E ES6\uFF0C\u4F1A\u6539\u53D8\u81EA\u8EAB\u503C\u7684\u65B9\u6CD5\u4E00\u5171\u6709\xA0<code>9</code>\xA0\u4E2A\uFF0C\u5206\u522B\u4E3A\xA0<code>pop\u3001push\u3001reverse\u3001shift\u3001sort\u3001splice\u3001unshift\uFF0C\u4EE5\u53CA\u4E24\u4E2A ES6 \u65B0\u589E\u7684\u65B9\u6CD5 copyWithin \u548C fill</code></p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// pop\u65B9\u6CD5
var array = [&quot;cat&quot;, &quot;dog&quot;, &quot;cow&quot;, &quot;chicken&quot;, &quot;mouse&quot;];
var item = array.pop();
console.log(array); // [&quot;cat&quot;, &quot;dog&quot;, &quot;cow&quot;, &quot;chicken&quot;]
console.log(item); // mouse
// push\u65B9\u6CD5
var array = [&quot;football&quot;, &quot;basketball&quot;,  &quot;badminton&quot;];
var i = array.push(&quot;golfball&quot;);
console.log(array);
// [&quot;football&quot;, &quot;basketball&quot;, &quot;badminton&quot;, &quot;golfball&quot;]
console.log(i); // 4
// reverse\u65B9\u6CD5
var array = [1,2,3,4,5];
var array2 = array.reverse();
console.log(array); // [5,4,3,2,1]
console.log(array2===array); // true
// shift\u65B9\u6CD5
var array = [1,2,3,4,5];
var item = array.shift();
console.log(array); // [2,3,4,5]
console.log(item); // 1
// unshift\u65B9\u6CD5
var array = [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;];
var length = array.unshift(&quot;yellow&quot;);
console.log(array); // [&quot;yellow&quot;, &quot;red&quot;, &quot;green&quot;, &quot;blue&quot;]
console.log(length); // 4
// sort\u65B9\u6CD5
var array = [&quot;apple&quot;,&quot;Boy&quot;,&quot;Cat&quot;,&quot;dog&quot;];
var array2 = array.sort();
console.log(array); // [&quot;Boy&quot;, &quot;Cat&quot;, &quot;apple&quot;, &quot;dog&quot;]
console.log(array2 == array); // true
// splice\u65B9\u6CD5
var array = [&quot;apple&quot;,&quot;boy&quot;];
var splices = array.splice(1,1);
console.log(array); // [&quot;apple&quot;]
console.log(splices); // [&quot;boy&quot;]
// copyWithin\u65B9\u6CD5
var array = [1,2,3,4,5];
var array2 = array.copyWithin(0,3);
console.log(array===array2,array2);  // true [4, 5, 3, 4, 5]
// fill\u65B9\u6CD5
var array = [1,2,3,4,5];
var array2 = array.fill(10,0,3);
console.log(array===array2,array2);
// true [10, 10, 10, 4, 5], \u53EF\u89C1\u6570\u7EC4\u533A\u95F4[0,3]\u7684\u5143\u7D20\u5168\u90E8\u66FF\u6362\u4E3A10

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>5. \u4E0D\u6539\u53D8\u81EA\u8EAB\u7684\u65B9\u6CD5</p><p>\u57FA\u4E8E ES7\uFF0C\u4E0D\u4F1A\u6539\u53D8\u81EA\u8EAB\u7684\u65B9\u6CD5\u4E5F\u6709\xA0<code>9</code>\xA0\u4E2A\uFF0C\u5206\u522B\u4E3A\xA0<code>concat\u3001join\u3001slice\u3001toString\u3001toLocaleString\u3001indexOf\u3001lastIndexOf\u3001\u672A\u5F62\u6210\u6807\u51C6\u7684 toSource\uFF0C\u4EE5\u53CA ES7 \u65B0\u589E\u7684\u65B9\u6CD5 includes</code>\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// concat\u65B9\u6CD5
var array = [1, 2, 3];
var array2 = array.concat(4,[5,6],[7,8,9]);
console.log(array2); // [1, 2, 3, 4, 5, 6, 7, 8, 9]
console.log(array); // [1, 2, 3], \u53EF\u89C1\u539F\u6570\u7EC4\u5E76\u672A\u88AB\u4FEE\u6539
// join\u65B9\u6CD5
var array = [&#39;We&#39;, &#39;are&#39;, &#39;Chinese&#39;];
console.log(array.join()); // &quot;We,are,Chinese&quot;
console.log(array.join(&#39;+&#39;)); // &quot;We+are+Chinese&quot;
// slice\u65B9\u6CD5
var array = [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;,&quot;four&quot;, &quot;five&quot;];
console.log(array.slice()); // [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;,&quot;four&quot;, &quot;five&quot;]
console.log(array.slice(2,3)); // [&quot;three&quot;]
// toString\u65B9\u6CD5
var array = [&#39;Jan&#39;, &#39;Feb&#39;, &#39;Mar&#39;, &#39;Apr&#39;];
var str = array.toString();
console.log(str); // Jan,Feb,Mar,Apr
// tolocalString\u65B9\u6CD5
var array= [{name:&#39;zz&#39;}, 123, &quot;abc&quot;, new Date()];
var str = array.toLocaleString();
console.log(str); // [object Object],123,abc,2016/1/5 \u4E0B\u53481:06:23
// indexOf\u65B9\u6CD5
var array = [&#39;abc&#39;, &#39;def&#39;, &#39;ghi&#39;,&#39;123&#39;];
console.log(array.indexOf(&#39;def&#39;)); // 1
// includes\u65B9\u6CD5
var array = [-0, 1, 2];
console.log(array.includes(+0)); // true
console.log(array.includes(1)); // true
var array = [NaN];
console.log(array.includes(NaN)); // true

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u5176\u4E2D includes \u65B9\u6CD5\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u5982\u679C\u5143\u7D20\u4E2D\u6709 0\uFF0C\u90A3\u4E48\u5728\u5224\u65AD\u8FC7\u7A0B\u4E2D\u4E0D\u8BBA\u662F +0 \u8FD8\u662F -0 \u90FD\u4F1A\u5224\u65AD\u4E3A True\uFF0C\u8FD9\u91CC\u7684\xA0<code>includes \u5FFD\u7565\u4E86 +0 \u548C -0</code></p></blockquote><p>6. \u6570\u7EC4\u904D\u5386\u7684\u65B9\u6CD5</p><p>\u57FA\u4E8E ES6\uFF0C\u4E0D\u4F1A\u6539\u53D8\u81EA\u8EAB\u7684\u904D\u5386\u65B9\u6CD5\u4E00\u5171\u6709 12 \u4E2A\uFF0C\u5206\u522B\u4E3A\xA0<code>forEach\u3001every\u3001some\u3001filter\u3001map\u3001reduce\u3001reduceRight\uFF0C\u4EE5\u53CA ES6 \u65B0\u589E\u7684\u65B9\u6CD5 entries\u3001find\u3001findIndex\u3001keys\u3001values</code></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// forEach\u65B9\u6CD5
var array = [1, 3, 5];
var obj = {name:&#39;cc&#39;};
var sReturn = array.forEach(function(value, index, array){
  array[index] = value;
  console.log(this.name); // cc\u88AB\u6253\u5370\u4E86\u4E09\u6B21, this\u6307\u5411obj
},obj);
console.log(array); // [1, 3, 5]
console.log(sReturn); // undefined, \u53EF\u89C1\u8FD4\u56DE\u503C\u4E3Aundefined
// every\u65B9\u6CD5
var o = {0:10, 1:8, 2:25, length:3};
var bool = Array.prototype.every.call(o,function(value, index, obj){
  return value &gt;= 8;
},o);
console.log(bool); // true
// some\u65B9\u6CD5
var array = [18, 9, 10, 35, 80];
var isExist = array.some(function(value, index, array){
  return value &gt; 20;
});
console.log(isExist); // true
// map \u65B9\u6CD5
var array = [18, 9, 10, 35, 80];
array.map(item =&gt; item + 1);
console.log(array);  // [19, 10, 11, 36, 81]
// filter \u65B9\u6CD5
var array = [18, 9, 10, 35, 80];
var array2 = array.filter(function(value, index, array){
  return value &gt; 20;
});
console.log(array2); // [35, 80]
// reduce\u65B9\u6CD5
var array = [1, 2, 3, 4];
var s = array.reduce(function(previousValue, value, index, array){
  return previousValue * value;
},1);
console.log(s); // 24
// ES6\u5199\u6CD5\u66F4\u52A0\u7B80\u6D01
array.reduce((p, v) =&gt; p * v); // 24
// reduceRight\u65B9\u6CD5 (\u548Creduce\u7684\u533A\u522B\u5C31\u662F\u4ECE\u540E\u5F80\u524D\u7D2F\u8BA1)
var array = [1, 2, 3, 4];
array.reduceRight((p, v) =&gt; p * v); // 24
// entries\u65B9\u6CD5
var array = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;];
var iterator = array.entries();
console.log(iterator.next().value); // [0, &quot;a&quot;]
console.log(iterator.next().value); // [1, &quot;b&quot;]
console.log(iterator.next().value); // [2, &quot;c&quot;]
console.log(iterator.next().value); // undefined, \u8FED\u4EE3\u5668\u5904\u4E8E\u6570\u7EC4\u672B\u5C3E\u65F6, \u518D\u8FED\u4EE3\u5C31\u4F1A\u8FD4\u56DEundefined
// find &amp; findIndex\u65B9\u6CD5
var array = [1, 3, 5, 7, 8, 9, 10];
function f(value, index, array){
  return value%2==0;     // \u8FD4\u56DE\u5076\u6570
}
function f2(value, index, array){
  return value &gt; 20;     // \u8FD4\u56DE\u5927\u4E8E20\u7684\u6570
}
console.log(array.find(f)); // 8
console.log(array.find(f2)); // undefined
console.log(array.findIndex(f)); // 4
console.log(array.findIndex(f2)); // -1
// keys\u65B9\u6CD5
[...Array(10).keys()];     // [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
[...new Array(10).keys()]; // [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
// values\u65B9\u6CD5
var array = [&quot;abc&quot;, &quot;xyz&quot;];
var iterator = array.values();
console.log(iterator.next().value);//abc
console.log(iterator.next().value);//xyz

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>7. \u603B\u7ED3</p><p><img src="`+se+'" alt=""></p><blockquote><p>\u8FD9\u4E9B\u65B9\u6CD5\u4E4B\u95F4\u5B58\u5728\u5F88\u591A\u5171\u6027\uFF0C\u5982\u4E0B\uFF1A</p></blockquote><ul><li>\u6240\u6709\u63D2\u5165\u5143\u7D20\u7684\u65B9\u6CD5\uFF0C\u6BD4\u5982\xA0<code>push\u3001unshift</code>\xA0\u4E00\u5F8B\u8FD4\u56DE\u6570\u7EC4\u65B0\u7684\u957F\u5EA6\uFF1B</li><li>\u6240\u6709\u5220\u9664\u5143\u7D20\u7684\u65B9\u6CD5\uFF0C\u6BD4\u5982\xA0<code>pop\u3001shift\u3001splice</code>\xA0\u4E00\u5F8B\u8FD4\u56DE\u5220\u9664\u7684\u5143\u7D20\uFF0C\u6216\u8005\u8FD4\u56DE\u5220\u9664\u7684\u591A\u4E2A\u5143\u7D20\u7EC4\u6210\u7684\u6570\u7EC4\uFF1B</li><li>\u90E8\u5206\u904D\u5386\u65B9\u6CD5\uFF0C\u6BD4\u5982\xA0<code>forEach\u3001every\u3001some\u3001filter\u3001map\u3001find\u3001findIndex</code>\uFF0C\u5B83\u4EEC\u90FD\u5305\u542B\xA0<code>function(value,index,array){}</code>\xA0\u548C\xA0<code>thisArg</code>\xA0\u8FD9\u6837\u4E24\u4E2A\u5F62\u53C2\u3002</li></ul><blockquote><p>\u6570\u7EC4\u548C\u5B57\u7B26\u4E32\u65B9\u6CD5</p></blockquote><p><img src="'+ce+'" alt="">\xA0 <img src="'+oe+`" alt=""></p><p>\u4E8C\u3001\u7406\u89E3JS\u7684\u7C7B\u6570\u7EC4</p><blockquote><p>\u5728 JavaScript \u4E2D\u6709\u54EA\u4E9B\u60C5\u51B5\u4E0B\u7684\u5BF9\u8C61\u662F\u7C7B\u6570\u7EC4\u5462\uFF1F\u4E3B\u8981\u6709\u4EE5\u4E0B\u51E0\u79CD</p></blockquote><ul><li>\u51FD\u6570\u91CC\u9762\u7684\u53C2\u6570\u5BF9\u8C61\xA0<code>arguments</code>\uFF1B</li><li>\u7528\xA0<code>getElementsByTagName/ClassName/Name</code>\xA0\u83B7\u5F97\u7684\xA0<code>HTMLCollection</code></li><li>\u7528\xA0<code>querySelector</code>\xA0\u83B7\u5F97\u7684\xA0<code>NodeList</code></li></ul><p>1. arguments\u5BF9\u8C61</p><blockquote><p>arguments\u5BF9\u8C61\u662F\u51FD\u6570\u4E2D\u4F20\u9012\u7684\u53C2\u6570\u503C\u7684\u96C6\u5408\u3002\u5B83\u662F\u4E00\u4E2A\u7C7B\u4F3C\u6570\u7EC4\u7684\u5BF9\u8C61\uFF0C\u56E0\u4E3A\u5B83\u6709\u4E00\u4E2A<code>length</code>\u5C5E\u6027\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528\u6570\u7EC4\u7D22\u5F15\u8868\u793A\u6CD5<code>arguments[1]</code>\u6765\u8BBF\u95EE\u5355\u4E2A\u503C\uFF0C\u4F46\u5B83\u6CA1\u6709\u6570\u7EC4\u4E2D\u7684\u5185\u7F6E\u65B9\u6CD5\uFF0C\u5982\uFF1AforEach\u3001reduce\u3001filter\u548Cmap\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function foo(name, age, sex) {
    console.log(arguments);
    console.log(typeof arguments);
    console.log(Object.prototype.toString.call(arguments));
}
foo(&#39;jack&#39;, &#39;18&#39;, &#39;male&#39;);

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u6BB5\u4EE3\u7801\u6BD4\u8F83\u5BB9\u6613\uFF0C\u5C31\u662F\u76F4\u63A5\u5C06\u8FD9\u4E2A\u51FD\u6570\u7684 arguments \u5728\u51FD\u6570\u5185\u90E8\u6253\u5370\u51FA\u6765\uFF0C\u90A3\u4E48\u6211\u4EEC\u770B\u4E0B\u8FD9\u4E2A arguments \u6253\u5370\u51FA\u6765\u7684\u7ED3\u679C\uFF0C\u8BF7\u770B\u63A7\u5236\u53F0\u7684\u8FD9\u5F20\u622A\u56FE\u3002</p><p><img src="`+ae+`" alt=""></p><blockquote><p>\u4ECE\u7ED3\u679C\u4E2D\u53EF\u4EE5\u770B\u5230\uFF0C<code>typeof</code>\xA0\u8FD9\u4E2A\xA0<code>arguments</code>\xA0\u8FD4\u56DE\u7684\u662F\xA0<code>object</code>\uFF0C\u901A\u8FC7\xA0<code>Object.prototype.toString.call</code>\xA0\u8FD4\u56DE\u7684\u7ED3\u679C\u662F\xA0<code>&#39;[object arguments]&#39;</code>\uFF0C\u53EF\u4EE5\u770B\u51FA\u6765\u8FD4\u56DE\u7684\u4E0D\u662F\xA0<code>&#39;[object array]&#39;</code>\uFF0C\u8BF4\u660E\xA0<code>arguments</code>\xA0\u548C\u6570\u7EC4\u8FD8\u662F\u6709\u533A\u522B\u7684\u3002</p></blockquote><p>\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528<code>Array.prototype.slice</code>\u5C06<code>arguments</code>\u5BF9\u8C61\u8F6C\u6362\u6210\u4E00\u4E2A\u6570\u7EC4\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function one() {
  return Array.prototype.slice.call(arguments);
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u6CE8\u610F:\u7BAD\u5934\u51FD\u6570\u4E2D\u6CA1\u6709arguments\u5BF9\u8C61\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function one() {
  return arguments;
}
const two = function () {
  return arguments;
}
const three = function three() {
  return arguments;
}

const four = () =&gt; arguments;

four(); // Throws an error  - arguments is not defined

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u5F53\u6211\u4EEC\u8C03\u7528\u51FD\u6570four\u65F6\uFF0C\u5B83\u4F1A\u629B\u51FA\u4E00\u4E2AReferenceError: arguments is not defined error\u3002\u4F7F\u7528rest\u8BED\u6CD5\uFF0C\u53EF\u4EE5\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>const four = (...args) =&gt; args;

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u4F1A\u81EA\u52A8\u5C06\u6240\u6709\u53C2\u6570\u503C\u653E\u5165\u6570\u7EC4\u4E2D\u3002</p><blockquote><p>arguments \u4E0D\u4EC5\u4EC5\u6709\u4E00\u4E2A length \u5C5E\u6027\uFF0C\u8FD8\u6709\u4E00\u4E2A callee \u5C5E\u6027\uFF0C\u6211\u4EEC\u63A5\u4E0B\u6765\u770B\u770B\u8FD9\u4E2A callee \u662F\u5E72\u4EC0\u4E48\u7684\uFF0C\u4EE3\u7801\u5982\u4E0B\u6240\u793A</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function foo(name, age, sex) {
    console.log(arguments.callee);
}
foo(&#39;jack&#39;, &#39;18&#39;, &#39;male&#39;);

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+re+`" alt=""></p><blockquote><p>\u4ECE\u63A7\u5236\u53F0\u53EF\u4EE5\u770B\u5230\uFF0C\u8F93\u51FA\u7684\u5C31\u662F\u51FD\u6570\u81EA\u8EAB\uFF0C\u5982\u679C\u5728\u51FD\u6570\u5185\u90E8\u76F4\u63A5\u6267\u884C\u8C03\u7528\xA0<code>callee</code>\xA0\u7684\u8BDD\uFF0C\u90A3\u5B83\u5C31\u4F1A\u4E0D\u505C\u5730\u6267\u884C\u5F53\u524D\u51FD\u6570\uFF0C\u76F4\u5230\u6267\u884C\u5230\u5185\u5B58\u6EA2\u51FA</p></blockquote><p>2. HTMLCollection</p><blockquote><p>HTMLCollection \u7B80\u5355\u6765\u8BF4\u662F HTML DOM \u5BF9\u8C61\u7684\u4E00\u4E2A\u63A5\u53E3\uFF0C\u8FD9\u4E2A\u63A5\u53E3\u5305\u542B\u4E86\u83B7\u53D6\u5230\u7684 DOM \u5143\u7D20\u96C6\u5408\uFF0C\u8FD4\u56DE\u7684\u7C7B\u578B\u662F\u7C7B\u6570\u7EC4\u5BF9\u8C61\uFF0C\u5982\u679C\u7528 typeof \u6765\u5224\u65AD\u7684\u8BDD\uFF0C\u5B83\u8FD4\u56DE\u7684\u662F &#39;object&#39;\u3002\u5B83\u662F\u53CA\u65F6\u66F4\u65B0\u7684\uFF0C\u5F53\u6587\u6863\u4E2D\u7684 DOM \u53D8\u5316\u65F6\uFF0C\u5B83\u4E5F\u4F1A\u968F\u4E4B\u53D8\u5316\u3002</p></blockquote><p>\u63CF\u8FF0\u8D77\u6765\u6BD4\u8F83\u62BD\u8C61\uFF0C\u8FD8\u662F\u901A\u8FC7\u4E00\u6BB5\u4EE3\u7801\u6765\u770B\u4E0B\xA0<code>HTMLCollection</code>\xA0\u6700\u540E\u8FD4\u56DE\u7684\u662F\u4EC0\u4E48\uFF0C\u6211\u4EEC\u5148\u968F\u4FBF\u627E\u4E00\u4E2A\u9875\u9762\u4E2D\u6709 form \u8868\u5355\u7684\u9875\u9762\uFF0C\u5728\u63A7\u5236\u53F0\u4E2D\u6267\u884C\u4E0B\u8FF0\u4EE3\u7801</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var elem1, elem2;
// document.forms \u662F\u4E00\u4E2A HTMLCollection
elem1 = document.forms[0];
elem2 = document.forms.item(0);
console.log(elem1);
console.log(elem2);
console.log(typeof elem1);
console.log(Object.prototype.toString.call(elem1));

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u8FD9\u4E2A\u6709 form \u8868\u5355\u7684\u9875\u9762\u6267\u884C\u4E0A\u9762\u7684\u4EE3\u7801\uFF0C\u5F97\u5230\u7684\u7ED3\u679C\u5982\u4E0B\u3002</p><p><img src="`+ve+`" alt=""></p><p>\u53EF\u4EE5\u770B\u5230\uFF0C\u8FD9\u91CC\u6253\u5370\u51FA\u6765\u4E86\u9875\u9762\u7B2C\u4E00\u4E2A form \u8868\u5355\u5143\u7D20\uFF0C\u540C\u65F6\u4E5F\u6253\u5370\u51FA\u6765\u4E86\u5224\u65AD\u7C7B\u578B\u7684\u7ED3\u679C\uFF0C\u8BF4\u660E\u6253\u5370\u7684\u5224\u65AD\u7684\u7C7B\u578B\u548C arguments \u8FD4\u56DE\u7684\u4E5F\u6BD4\u8F83\u7C7B\u4F3C\uFF0Ctypeof \u8FD4\u56DE\u7684\u90FD\u662F &#39;object&#39;\uFF0C\u548C\u4E0A\u9762\u7684\u7C7B\u4F3C\u3002</p><p>\u53E6\u5916\u9700\u8981\u6CE8\u610F\u7684\u4E00\u70B9\u5C31\u662F HTML DOM \u4E2D\u7684 HTMLCollection \u662F\u5373\u65F6\u66F4\u65B0\u7684\uFF0C\u5F53\u5176\u6240\u5305\u542B\u7684\u6587\u6863\u7ED3\u6784\u53D1\u751F\u6539\u53D8\u65F6\uFF0C\u5B83\u4F1A\u81EA\u52A8\u66F4\u65B0\u3002\u4E0B\u9762\u6211\u4EEC\u518D\u770B\u6700\u540E\u4E00\u4E2A NodeList \u7C7B\u6570\u7EC4\u3002</p><p>3. NodeList</p><blockquote><p>NodeList \u5BF9\u8C61\u662F\u8282\u70B9\u7684\u96C6\u5408\uFF0C\u901A\u5E38\u662F\u7531 querySlector \u8FD4\u56DE\u7684\u3002NodeList \u4E0D\u662F\u4E00\u4E2A\u6570\u7EC4\uFF0C\u4E5F\u662F\u4E00\u79CD\u7C7B\u6570\u7EC4\u3002\u867D\u7136 NodeList \u4E0D\u662F\u4E00\u4E2A\u6570\u7EC4\uFF0C\u4F46\u662F\u53EF\u4EE5\u4F7F\u7528 for...of \u6765\u8FED\u4EE3\u3002\u5728\u4E00\u4E9B\u60C5\u51B5\u4E0B\uFF0CNodeList \u662F\u4E00\u4E2A\u5B9E\u65F6\u96C6\u5408\uFF0C\u4E5F\u5C31\u662F\u8BF4\uFF0C\u5982\u679C\u6587\u6863\u4E2D\u7684\u8282\u70B9\u6811\u53D1\u751F\u53D8\u5316\uFF0CNodeList \u4E5F\u4F1A\u968F\u4E4B\u53D8\u5316\u3002\u6211\u4EEC\u8FD8\u662F\u5229\u7528\u4EE3\u7801\u6765\u7406\u89E3\u4E00\u4E0B Nodelist \u8FD9\u79CD\u7C7B\u6570\u7EC4\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var list = document.querySelectorAll(&#39;input[type=checkbox]&#39;);
for (var checkbox of list) {
  checkbox.checked = true;
}
console.log(list);
console.log(typeof list);
console.log(Object.prototype.toString.call(list));

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u4ECE\u4E0A\u9762\u7684\u4EE3\u7801\u6267\u884C\u7684\u7ED3\u679C\u4E2D\u53EF\u4EE5\u53D1\u73B0\uFF0C\u6211\u4EEC\u662F\u901A\u8FC7\u6709 CheckBox \u7684\u9875\u9762\u6267\u884C\u7684\u4EE3\u7801\uFF0C\u5728\u7ED3\u679C\u53EF\u4E2D\u8F93\u51FA\u4E86\u4E00\u4E2A NodeList \u7C7B\u6570\u7EC4\uFF0C\u91CC\u9762\u6709\u4E00\u4E2A CheckBox \u5143\u7D20\uFF0C\u5E76\u4E14\u6211\u4EEC\u5224\u65AD\u4E86\u5B83\u7684\u7C7B\u578B\uFF0C\u548C\u4E0A\u9762\u7684 arguments \u4E0E HTMLCollection \u5176\u5B9E\u662F\u7C7B\u4F3C\u7684\uFF0C\u6267\u884C\u7ED3\u679C\u5982\u4E0B\u56FE\u6240\u793A\u3002</p></blockquote><p><img src="`+te+`" alt=""></p><p>4. \u7C7B\u6570\u7EC4\u5E94\u7528\u573A\u666F</p><blockquote><ol><li>\u904D\u5386\u53C2\u6570\u64CD\u4F5C</li></ol></blockquote><p>\u6211\u4EEC\u5728\u51FD\u6570\u5185\u90E8\u53EF\u4EE5\u76F4\u63A5\u83B7\u53D6\xA0<code>arguments</code>\xA0\u8FD9\u4E2A\u7C7B\u6570\u7EC4\u7684\u503C\uFF0C\u90A3\u4E48\u4E5F\u53EF\u4EE5\u5BF9\u4E8E\u53C2\u6570\u8FDB\u884C\u4E00\u4E9B\u64CD\u4F5C\uFF0C\u6BD4\u5982\u4E0B\u9762\u8FD9\u6BB5\u4EE3\u7801\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5C06\u51FD\u6570\u7684\u53C2\u6570\u9ED8\u8BA4\u8FDB\u884C\u6C42\u548C\u64CD\u4F5C\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function add() {
    var sum =0,
        len = arguments.length;
    for(var i = 0; i &lt; len; i++){
        sum += arguments[i];
    }
    return sum;
}
add()                           // 0
add(1)                          // 1
add(1\uFF0C2)                       // 3
add(1,2,3,4);                   // 10

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><ol><li>\u5B9A\u4E49\u94FE\u63A5\u5B57\u7B26\u4E32\u51FD\u6570</li></ol></blockquote><p>\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7 arguments \u8FD9\u4E2A\u4F8B\u5B50\u5B9A\u4E49\u4E00\u4E2A\u51FD\u6570\u6765\u8FDE\u63A5\u5B57\u7B26\u4E32\u3002\u8FD9\u4E2A\u51FD\u6570\u552F\u4E00\u6B63\u5F0F\u58F0\u660E\u4E86\u7684\u53C2\u6570\u662F\u4E00\u4E2A\u5B57\u7B26\u4E32\uFF0C\u8BE5\u53C2\u6570\u6307\u5B9A\u4E00\u4E2A\u5B57\u7B26\u4F5C\u4E3A\u8854\u63A5\u70B9\u6765\u8FDE\u63A5\u5B57\u7B26\u4E32\u3002\u8BE5\u51FD\u6570\u5B9A\u4E49\u5982\u4E0B\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// \u8FD9\u6BB5\u4EE3\u7801\u8BF4\u660E\u4E86\uFF0C\u4F60\u53EF\u4EE5\u4F20\u9012\u4EFB\u610F\u6570\u91CF\u7684\u53C2\u6570\u5230\u8BE5\u51FD\u6570\uFF0C\u5E76\u4F7F\u7528\u6BCF\u4E2A\u53C2\u6570\u4F5C\u4E3A\u5217\u8868\u4E2D\u7684\u9879\u521B\u5EFA\u5217\u8868\u8FDB\u884C\u62FC\u63A5\u3002\u4ECE\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\u4E5F\u53EF\u4EE5\u770B\u51FA\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5728\u65E5\u5E38\u7F16\u7801\u4E2D\u91C7\u7528\u8FD9\u6837\u7684\u4EE3\u7801\u62BD\u8C61\u65B9\u5F0F\uFF0C\u628A\u9700\u8981\u89E3\u51B3\u7684\u8FD9\u4E00\u7C7B\u95EE\u9898\uFF0C\u90FD\u62BD\u8C61\u6210\u901A\u7528\u7684\u65B9\u6CD5\uFF0C\u6765\u63D0\u5347\u4EE3\u7801\u7684\u53EF\u590D\u7528\u6027
function myConcat(separa) {
  var args = Array.prototype.slice.call(arguments, 1);
  return args.join(separa);
}
myConcat(&quot;, &quot;, &quot;red&quot;, &quot;orange&quot;, &quot;blue&quot;);
// &quot;red, orange, blue&quot;
myConcat(&quot;; &quot;, &quot;elephant&quot;, &quot;lion&quot;, &quot;snake&quot;);
// &quot;elephant; lion; snake&quot;
myConcat(&quot;. &quot;, &quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;);
// &quot;one. two. three. four. five&quot;

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><ol><li>\u4F20\u9012\u53C2\u6570\u4F7F\u7528</li></ol></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// \u4F7F\u7528 apply \u5C06 foo \u7684\u53C2\u6570\u4F20\u9012\u7ED9 bar
function foo() {
    bar.apply(this, arguments);
}
function bar(a, b, c) {
   console.log(a, b, c);
}
foo(1, 2, 3)   //1 2 3

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>5. \u5982\u4F55\u5C06\u7C7B\u6570\u7EC4\u8F6C\u6362\u6210\u6570\u7EC4</p><blockquote><ol><li>\u7C7B\u6570\u7EC4\u501F\u7528\u6570\u7EC4\u65B9\u6CD5\u8F6C\u6570\u7EC4</li></ol></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function sum(a, b) {
  let args = Array.prototype.slice.call(arguments);
 // let args = [].slice.call(arguments); // \u8FD9\u6837\u5199\u4E5F\u662F\u4E00\u6837\u6548\u679C
  console.log(args.reduce((sum, cur) =&gt; sum + cur));
}
sum(1, 2);  // 3
function sum(a, b) {
  let args = Array.prototype.concat.apply([], arguments);
  console.log(args.reduce((sum, cur) =&gt; sum + cur));
}
sum(1, 2);  // 3

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><ol><li>ES6 \u7684\u65B9\u6CD5\u8F6C\u6570\u7EC4</li></ol></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function sum(a, b) {
  let args = Array.from(arguments);
  console.log(args.reduce((sum, cur) =&gt; sum + cur));
}
sum(1, 2);    // 3
function sum(a, b) {
  let args = [...arguments];
  console.log(args.reduce((sum, cur) =&gt; sum + cur));
}
sum(1, 2);    // 3
function sum(...args) {
  console.log(args.reduce((sum, cur) =&gt; sum + cur));
}
sum(1, 2);    // 3

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>Array.from</code>\xA0\u548C\xA0<code>ES6 \u7684\u5C55\u5F00\u8FD0\u7B97\u7B26</code>\uFF0C\u90FD\u53EF\u4EE5\u628A\xA0<code>arguments</code>\u8FD9\u4E2A\u7C7B\u6570\u7EC4\u8F6C\u6362\u6210\u6570\u7EC4\xA0<code>args</code></p></blockquote><p>\u7C7B\u6570\u7EC4\u548C\u6570\u7EC4\u7684\u5F02\u540C\u70B9</p><p><img src="`+ue+`" alt=""></p><blockquote><p>\u5728\u524D\u7AEF\u5DE5\u4F5C\u4E2D\uFF0C\u5F00\u53D1\u8005\u5F80\u5F80\u4F1A\u5FFD\u89C6\u5BF9\u7C7B\u6570\u7EC4\u7684\u5B66\u4E60\uFF0C\u5176\u5B9E\u5728\u9AD8\u7EA7 JavaScript \u7F16\u7A0B\u4E2D\u7ECF\u5E38\u9700\u8981\u5C06\u7C7B\u6570\u7EC4\u5411\u6570\u7EC4\u8F6C\u5316\uFF0C\u5C24\u5176\u662F\u4E00\u4E9B\u6BD4\u8F83\u590D\u6742\u7684\u5F00\u6E90\u9879\u76EE\uFF0C\u7ECF\u5E38\u4F1A\u770B\u5230\u51FD\u6570\u4E2D\u5904\u7406\u53C2\u6570\u7684\u5199\u6CD5\uFF0C\u4F8B\u5982\uFF1A<code>[].slice.call(arguments)</code>\xA0\u8FD9\u884C\u4EE3\u7801\u3002</p></blockquote><p>\u4E09\u3001\u5B9E\u73B0\u6570\u7EC4\u6241\u5E73\u5316\u7684 6 \u79CD\u65B9\u5F0F</p><p>1. \u65B9\u6CD5\u4E00\uFF1A\u666E\u901A\u7684\u9012\u5F52\u5B9E</p><p>\u666E\u901A\u7684\u9012\u5F52\u601D\u8DEF\u5F88\u5BB9\u6613\u7406\u89E3\uFF0C\u5C31\u662F\u901A\u8FC7\u5FAA\u73AF\u9012\u5F52\u7684\u65B9\u5F0F\uFF0C\u4E00\u9879\u4E00\u9879\u5730\u53BB\u904D\u5386\uFF0C\u5982\u679C\u6BCF\u4E00\u9879\u8FD8\u662F\u4E00\u4E2A\u6570\u7EC4\uFF0C\u90A3\u4E48\u5C31\u7EE7\u7EED\u5F80\u4E0B\u904D\u5386\uFF0C\u5229\u7528\u9012\u5F52\u7A0B\u5E8F\u7684\u65B9\u6CD5\uFF0C\u6765\u5B9E\u73B0\u6570\u7EC4\u7684\u6BCF\u4E00\u9879\u7684\u8FDE\u63A5\u3002\u6211\u4EEC\u6765\u770B\u4E0B\u8FD9\u4E2A\u65B9\u6CD5\u662F\u5982\u4F55\u5B9E\u73B0\u7684\uFF0C\u5982\u4E0B\u6240\u793A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// \u65B9\u6CD51
var a = [1, [2, [3, 4, 5]]];
function flatten(arr) {
  let result = [];

  for(let i = 0; i &lt; arr.length; i++) {
    if(Array.isArray(arr[i])) {
      result = result.concat(flatten(arr[i]));
    } else {
      result.push(arr[i]);
    }
  }
  return result;
}
flatten(a);  //  [1, 2, 3, 4\uFF0C5]

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u4ECE\u4E0A\u9762\u8FD9\u6BB5\u4EE3\u7801\u53EF\u4EE5\u770B\u51FA\uFF0C\u6700\u540E\u8FD4\u56DE\u7684\u7ED3\u679C\u662F\u6241\u5E73\u5316\u7684\u7ED3\u679C\uFF0C\u8FD9\u6BB5\u4EE3\u7801\u6838\u5FC3\u5C31\u662F\u5FAA\u73AF\u904D\u5386\u8FC7\u7A0B\u4E2D\u7684\u9012\u5F52\u64CD\u4F5C\uFF0C\u5C31\u662F\u5728\u904D\u5386\u8FC7\u7A0B\u4E2D\u53D1\u73B0\u6570\u7EC4\u5143\u7D20\u8FD8\u662F\u6570\u7EC4\u7684\u65F6\u5019\u8FDB\u884C\u9012\u5F52\u64CD\u4F5C\uFF0C\u628A\u6570\u7EC4\u7684\u7ED3\u679C\u901A\u8FC7\u6570\u7EC4\u7684 concat \u65B9\u6CD5\u62FC\u63A5\u5230\u6700\u540E\u8981\u8FD4\u56DE\u7684 result \u6570\u7EC4\u4E0A\uFF0C\u90A3\u4E48\u6700\u540E\u8F93\u51FA\u7684\u7ED3\u679C\u5C31\u662F\u6241\u5E73\u5316\u540E\u7684\u6570\u7EC4</p></blockquote><p>2. \u65B9\u6CD5\u4E8C\uFF1A\u5229\u7528 reduce \u51FD\u6570\u8FED\u4EE3</p><p>\u4ECE\u4E0A\u9762\u666E\u901A\u7684\u9012\u5F52\u51FD\u6570\u4E2D\u53EF\u4EE5\u770B\u51FA\uFF0C\u5176\u5B9E\u5C31\u662F\u5BF9\u6570\u7EC4\u7684\u6BCF\u4E00\u9879\u8FDB\u884C\u5904\u7406\uFF0C\u90A3\u4E48\u6211\u4EEC\u5176\u5B9E\u4E5F\u53EF\u4EE5\u7528\xA0<code>reduce</code>\xA0\u6765\u5B9E\u73B0\u6570\u7EC4\u7684\u62FC\u63A5\uFF0C\u4ECE\u800C\u7B80\u5316\u7B2C\u4E00\u79CD\u65B9\u6CD5\u7684\u4EE3\u7801\uFF0C\u6539\u9020\u540E\u7684\u4EE3\u7801\u5982\u4E0B\u6240\u793A\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// \u65B9\u6CD52
var arr = [1, [2, [3, 4]]];
function flatten(arr) {
    return arr.reduce(function(prev, next){
        return prev.concat(Array.isArray(next) ? flatten(next) : next)
    }, [])
}
console.log(flatten(arr));//  [1, 2, 3, 4\uFF0C5]

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3. \u65B9\u6CD5\u4E09\uFF1A\u6269\u5C55\u8FD0\u7B97\u7B26\u5B9E\u73B0</p><p>\u8FD9\u4E2A\u65B9\u6CD5\u7684\u5B9E\u73B0\uFF0C\u91C7\u7528\u4E86\u6269\u5C55\u8FD0\u7B97\u7B26\u548C some \u7684\u65B9\u6CD5\uFF0C\u4E24\u8005\u5171\u540C\u4F7F\u7528\uFF0C\u8FBE\u5230\u6570\u7EC4\u6241\u5E73\u5316\u7684\u76EE\u7684\uFF0C\u8FD8\u662F\u6765\u770B\u4E00\u4E0B\u4EE3\u7801</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// \u65B9\u6CD53
var arr = [1, [2, [3, 4]]];
function flatten(arr) {
    while (arr.some(item =&gt; Array.isArray(item))) {
        arr = [].concat(...arr);
    }
    return arr;
}
console.log(flatten(arr)); //  [1, 2, 3, 4\uFF0C5]

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4ECE\u6267\u884C\u7684\u7ED3\u679C\u4E2D\u53EF\u4EE5\u53D1\u73B0\uFF0C\u6211\u4EEC\u5148\u7528\u6570\u7EC4\u7684 some \u65B9\u6CD5\u628A\u6570\u7EC4\u4E2D\u4ECD\u7136\u662F\u7EC4\u6570\u7684\u9879\u8FC7\u6EE4\u51FA\u6765\uFF0C\u7136\u540E\u6267\u884C concat \u64CD\u4F5C\uFF0C\u5229\u7528 ES6 \u7684\u5C55\u5F00\u8FD0\u7B97\u7B26\uFF0C\u5C06\u5176\u62FC\u63A5\u5230\u539F\u6570\u7EC4\u4E2D\uFF0C\u6700\u540E\u8FD4\u56DE\u539F\u6570\u7EC4\uFF0C\u8FBE\u5230\u4E86\u9884\u671F\u7684\u6548\u679C\u3002</p><p>\u524D\u4E09\u79CD\u5B9E\u73B0\u6570\u7EC4\u6241\u5E73\u5316\u7684\u65B9\u5F0F\u5176\u5B9E\u662F\u6700\u57FA\u672C\u7684\u601D\u8DEF\uFF0C\u90FD\u662F\u901A\u8FC7\u6700\u666E\u901A\u9012\u5F52\u601D\u8DEF\u884D\u751F\u7684\u65B9\u6CD5\uFF0C\u5C24\u5176\u662F\u524D\u4E24\u79CD\u5B9E\u73B0\u65B9\u6CD5\u6BD4\u8F83\u7C7B\u4F3C\u3002\u503C\u5F97\u6CE8\u610F\u7684\u662F reduce \u65B9\u6CD5\uFF0C\u5B83\u53EF\u4EE5\u5728\u5F88\u591A\u5E94\u7528\u573A\u666F\u4E2D\u5B9E\u73B0\uFF0C\u7531\u4E8E reduce \u8FD9\u4E2A\u65B9\u6CD5\u63D0\u4F9B\u7684\u51E0\u4E2A\u53C2\u6570\u6BD4\u8F83\u7075\u6D3B\uFF0C\u80FD\u89E3\u51B3\u5F88\u591A\u95EE\u9898\uFF0C\u6240\u4EE5\u662F\u503C\u5F97\u719F\u7EC3\u4F7F\u7528\u5E76\u4E14\u7CBE\u901A\u7684</p><p>4. \u65B9\u6CD5\u56DB\uFF1Asplit \u548C toString \u5171\u540C\u5904\u7406</p><blockquote><p>\u6211\u4EEC\u4E5F\u53EF\u4EE5\u901A\u8FC7 split \u548C toString \u4E24\u4E2A\u65B9\u6CD5\uFF0C\u6765\u5171\u540C\u5B9E\u73B0\u6570\u7EC4\u6241\u5E73\u5316\uFF0C\u7531\u4E8E\u6570\u7EC4\u4F1A\u9ED8\u8BA4\u5E26\u4E00\u4E2A toString \u7684\u65B9\u6CD5\uFF0C\u6240\u4EE5\u53EF\u4EE5\u628A\u6570\u7EC4\u76F4\u63A5\u8F6C\u6362\u6210\u9017\u53F7\u5206\u9694\u7684\u5B57\u7B26\u4E32\uFF0C\u7136\u540E\u518D\u7528 split \u65B9\u6CD5\u628A\u5B57\u7B26\u4E32\u91CD\u65B0\u8F6C\u6362\u4E3A\u6570\u7EC4\uFF0C\u5982\u4E0B\u9762\u7684\u4EE3\u7801\u6240\u793A\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// \u65B9\u6CD54
var arr = [1, [2, [3, 4]]];
function flatten(arr) {
    return arr.toString().split(&#39;,&#39;);
}
console.log(flatten(arr)); //  [1, 2, 3, 4]

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u901A\u8FC7\u8FD9\u4E24\u4E2A\u65B9\u6CD5\u53EF\u4EE5\u5C06\u591A\u7EF4\u6570\u7EC4\u76F4\u63A5\u8F6C\u6362\u6210\u9017\u53F7\u8FDE\u63A5\u7684\u5B57\u7B26\u4E32\uFF0C\u7136\u540E\u518D\u91CD\u65B0\u5206\u9694\u6210\u6570\u7EC4\uFF0C\u4F60\u53EF\u4EE5\u5728\u63A7\u5236\u53F0\u6267\u884C\u4E00\u4E0B\u67E5\u770B\u7ED3\u679C\u3002</p><p>5. \u65B9\u6CD5\u4E94\uFF1A\u8C03\u7528 ES6 \u4E2D\u7684 flat</p><p>\u6211\u4EEC\u8FD8\u53EF\u4EE5\u76F4\u63A5\u8C03\u7528 ES6 \u4E2D\u7684 flat \u65B9\u6CD5\uFF0C\u53EF\u4EE5\u76F4\u63A5\u5B9E\u73B0\u6570\u7EC4\u6241\u5E73\u5316\u3002\u5148\u6765\u770B\u4E0B flat \u65B9\u6CD5\u7684\u8BED\u6CD5\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>arr.flat([depth])

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u5176\u4E2D depth \u662F flat \u7684\u53C2\u6570\uFF0Cdepth \u662F\u53EF\u4EE5\u4F20\u9012\u6570\u7EC4\u7684\u5C55\u5F00\u6DF1\u5EA6\uFF08\u9ED8\u8BA4\u4E0D\u586B\u3001\u6570\u503C\u662F 1\uFF09\uFF0C\u5373\u5C55\u5F00\u4E00\u5C42\u6570\u7EC4\u3002\u90A3\u4E48\u5982\u679C\u591A\u5C42\u7684\u8BE5\u600E\u4E48\u5904\u7406\u5462\uFF1F\u53C2\u6570\u4E5F\u53EF\u4EE5\u4F20\u8FDB Infinity\uFF0C\u4EE3\u8868\u4E0D\u8BBA\u591A\u5C11\u5C42\u90FD\u8981\u5C55\u5F00\u3002\u90A3\u4E48\u6211\u4EEC\u6765\u770B\u4E0B\uFF0C\u7528 flat \u65B9\u6CD5\u600E\u4E48\u5B9E\u73B0\uFF0C\u8BF7\u770B\u4E0B\u9762\u7684\u4EE3\u7801\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// \u65B9\u6CD55
var arr = [1, [2, [3, 4]]];
function flatten(arr) {
  return arr.flat(Infinity);
}
console.log(flatten(arr)); //  [1, 2, 3, 4\uFF0C5]

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u53EF\u4EE5\u770B\u51FA\uFF0C\u4E00\u4E2A\u5D4C\u5957\u4E86\u4E24\u5C42\u7684\u6570\u7EC4\uFF0C\u901A\u8FC7\u5C06\xA0<code>flat</code>\xA0\u65B9\u6CD5\u7684\u53C2\u6570\u8BBE\u7F6E\u4E3A\xA0<code>Infinity</code>\uFF0C\u8FBE\u5230\u4E86\u6211\u4EEC\u9884\u671F\u7684\u6548\u679C\u3002\u5176\u5B9E\u540C\u6837\u4E5F\u53EF\u4EE5\u8BBE\u7F6E\u6210 2\uFF0C\u4E5F\u80FD\u5B9E\u73B0\u8FD9\u6837\u7684\u6548\u679C\u3002</li><li>\u56E0\u6B64\uFF0C\u4F60\u5728\u7F16\u7A0B\u8FC7\u7A0B\u4E2D\uFF0C\u53D1\u73B0\u5BF9\u6570\u7EC4\u7684\u5D4C\u5957\u5C42\u6570\u4E0D\u786E\u5B9A\u7684\u65F6\u5019\uFF0C\u6700\u597D\u76F4\u63A5\u4F7F\u7528\xA0<code>Infinity</code>\uFF0C\u53EF\u4EE5\u8FBE\u5230\u6241\u5E73\u5316\u3002\u4E0B\u9762\u6211\u4EEC\u518D\u6765\u770B\u6700\u540E\u4E00\u79CD\u573A\u666F</li></ul><p>6. \u65B9\u6CD5\u516D\uFF1A\u6B63\u5219\u548C JSON \u65B9\u6CD5\u5171\u540C\u5904\u7406</p><blockquote><p>\u6211\u4EEC\u5728\u7B2C\u56DB\u79CD\u65B9\u6CD5\u4E2D\u5DF2\u7ECF\u5C1D\u8BD5\u4E86\u7528 toString \u65B9\u6CD5\uFF0C\u5176\u4E2D\u4ECD\u7136\u91C7\u7528\u4E86\u5C06 JSON.stringify \u7684\u65B9\u6CD5\u5148\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32\uFF0C\u7136\u540E\u901A\u8FC7\u6B63\u5219\u8868\u8FBE\u5F0F\u8FC7\u6EE4\u6389\u5B57\u7B26\u4E32\u4E2D\u7684\u6570\u7EC4\u7684\u65B9\u62EC\u53F7\uFF0C\u6700\u540E\u518D\u5229\u7528 JSON.parse \u628A\u5B83\u8F6C\u6362\u6210\u6570\u7EC4\u3002\u8BF7\u770B\u4E0B\u9762\u7684\u4EE3\u7801</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// \u65B9\u6CD5 6
let arr = [1, [2, [3, [4, 5]]], 6];
function flatten(arr) {
  let str = JSON.stringify(arr);
  str = str.replace(/(\\[|\\])/g, &#39;&#39;);
  str = &#39;[&#39; + str + &#39;]&#39;;
  return JSON.parse(str);
}
console.log(flatten(arr)); //  [1, 2, 3, 4\uFF0C5]

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53EF\u4EE5\u770B\u5230\uFF0C\u5176\u4E2D\u5148\u628A\u4F20\u5165\u7684\u6570\u7EC4\u8F6C\u6362\u6210\u5B57\u7B26\u4E32\uFF0C\u7136\u540E\u901A\u8FC7\u6B63\u5219\u8868\u8FBE\u5F0F\u7684\u65B9\u5F0F\u628A\u62EC\u53F7\u8FC7\u6EE4\u6389\uFF0C\u8FD9\u90E8\u5206\u6B63\u5219\u7684\u8868\u8FBE\u5F0F\u4F60\u4E0D\u592A\u7406\u89E3\u7684\u8BDD\uFF0C\u53EF\u4EE5\u770B\u770B\u4E0B\u9762\u7684\u56FE\u7247</p><p><img src="`+me+'" alt=""></p><blockquote><p>\u901A\u8FC7\u8FD9\u4E2A\u5728\u7EBF\u7F51\u7AD9 https://regexper.com/ \u53EF\u4EE5\u628A\u6B63\u5219\u5206\u6790\u6210\u5BB9\u6613\u7406\u89E3\u7684\u53EF\u89C6\u5316\u7684\u903B\u8F91\u8111\u56FE\u3002\u5176\u4E2D\u6211\u4EEC\u53EF\u4EE5\u770B\u5230\uFF0C\u5339\u914D\u89C4\u5219\u662F\uFF1A\u5168\u5C40\u5339\u914D\uFF08g\uFF09\u5DE6\u62EC\u53F7\u6216\u8005\u53F3\u62EC\u53F7\uFF0C\u5C06\u5B83\u4EEC\u66FF\u6362\u6210\u7A7A\u683C\uFF0C\u6700\u540E\u8FD4\u56DE\u5904\u7406\u540E\u7684\u7ED3\u679C\u3002\u4E4B\u540E\u62FF\u7740\u6B63\u5219\u5904\u7406\u597D\u7684\u7ED3\u679C\u91CD\u65B0\u5728\u5916\u5C42\u5305\u88F9\u62EC\u53F7\uFF0C\u6700\u540E\u901A\u8FC7 JSON.parse \u8F6C\u6362\u6210\u6570\u7EC4\u8FD4\u56DE\u3002</p></blockquote><p><img src="'+be+'" alt=""></p><p>\u56DB\u3001\u5982\u4F55\u7528 JS \u5B9E\u73B0\u5404\u79CD\u6570\u7EC4\u6392\u5E8F</p><p>\u6570\u636E\u7ED3\u6784\u7B97\u6CD5\u4E2D\u6392\u5E8F\u6709\u5F88\u591A\u79CD\uFF0C\u5E38\u89C1\u7684\u3001\u4E0D\u5E38\u89C1\u7684\uFF0C\u81F3\u5C11\u5305\u542B\u5341\u79CD\u4EE5\u4E0A\u3002\u6839\u636E\u5B83\u4EEC\u7684\u7279\u6027\uFF0C\u53EF\u4EE5\u5927\u81F4\u5206\u4E3A\u4E24\u79CD\u7C7B\u578B\uFF1A\u6BD4\u8F83\u7C7B\u6392\u5E8F\u548C\u975E\u6BD4\u8F83\u7C7B\u6392\u5E8F\u3002</p><ul><li>\u6BD4\u8F83\u7C7B\u6392\u5E8F\uFF1A\u901A\u8FC7\u6BD4\u8F83\u6765\u51B3\u5B9A\u5143\u7D20\u95F4\u7684\u76F8\u5BF9\u6B21\u5E8F\uFF0C\u5176\u65F6\u95F4\u590D\u6742\u5EA6\u4E0D\u80FD\u7A81\u7834\xA0<code>O(nlogn)</code>\uFF0C\u56E0\u6B64\u4E5F\u79F0\u4E3A\u975E\u7EBF\u6027\u65F6\u95F4\u6BD4\u8F83\u7C7B\u6392\u5E8F\u3002</li><li>\u975E\u6BD4\u8F83\u7C7B\u6392\u5E8F\uFF1A\u4E0D\u901A\u8FC7\u6BD4\u8F83\u6765\u51B3\u5B9A\u5143\u7D20\u95F4\u7684\u76F8\u5BF9\u6B21\u5E8F\uFF0C\u5B83\u53EF\u4EE5\u7A81\u7834\u57FA\u4E8E\u6BD4\u8F83\u6392\u5E8F\u7684\u65F6\u95F4\u4E0B\u754C\uFF0C\u4EE5\u7EBF\u6027\u65F6\u95F4\u8FD0\u884C\uFF0C\u56E0\u6B64\u4E5F\u79F0\u4E3A\u7EBF\u6027\u65F6\u95F4\u975E\u6BD4\u8F83\u7C7B\u6392\u5E8F\u3002</li></ul><p>\u6211\u4EEC\u901A\u8FC7\u4E00\u5F20\u56FE\u7247\u6765\u770B\u770B\u8FD9\u4E24\u79CD\u5206\u7C7B\u65B9\u5F0F\u5206\u522B\u5305\u62EC\u54EA\u4E9B\u6392\u5E8F\u65B9\u6CD5\u3002</p><p><img src="'+pe+`" alt=""></p><p>\u975E\u6BD4\u8F83\u7C7B\u7684\u6392\u5E8F\u5728\u5B9E\u9645\u60C5\u51B5\u4E2D\u7528\u7684\u6BD4\u8F83\u5C11</p><p>1. \u5192\u6CE1\u6392\u5E8F</p><blockquote><p>\u5192\u6CE1\u6392\u5E8F\u662F\u6700\u57FA\u7840\u7684\u6392\u5E8F\uFF0C\u4E00\u822C\u5728\u6700\u5F00\u59CB\u5B66\u4E60\u6570\u636E\u7ED3\u6784\u7684\u65F6\u5019\u5C31\u4F1A\u63A5\u89E6\u5B83\u3002\u5192\u6CE1\u6392\u5E8F\u662F\u4E00\u6B21\u6BD4\u8F83\u4E24\u4E2A\u5143\u7D20\uFF0C\u5982\u679C\u987A\u5E8F\u662F\u9519\u8BEF\u7684\u5C31\u628A\u5B83\u4EEC\u4EA4\u6362\u8FC7\u6765\u3002\u8D70\u8BBF\u6570\u5217\u7684\u5DE5\u4F5C\u4F1A\u91CD\u590D\u5730\u8FDB\u884C\uFF0C\u76F4\u5230\u4E0D\u9700\u8981\u518D\u4EA4\u6362\uFF0C\u4E5F\u5C31\u662F\u8BF4\u8BE5\u6570\u5217\u5DF2\u7ECF\u6392\u5E8F\u5B8C\u6210\u3002\u8BF7\u770B\u4E0B\u9762\u7684\u4EE3\u7801\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var a = [1, 3, 6, 3, 23, 76, 1, 34, 222, 6, 456, 221];
function bubbleSort(array) {
  const len = array.length
  if (len &lt; 2) return array
  for (let i = 0; i &lt; len; i++) {
    for (let j = 0; j &lt; i; j++) {
      if (array[j] &gt; array[i]) {
        const temp = array[j]
        array[j] = array[i]
        array[i] = temp
      }
    }
  }
  return array
}
bubbleSort(a);  // [1, 1, 3, 3, 6, 6, 23, 34, 76, 221, 222, 456]

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4ECE\u4E0A\u9762\u8FD9\u6BB5\u4EE3\u7801\u53EF\u4EE5\u770B\u51FA\uFF0C\u6700\u540E\u8FD4\u56DE\u7684\u662F\u6392\u597D\u5E8F\u7684\u7ED3\u679C\u3002\u56E0\u4E3A\u5192\u6CE1\u6392\u5E8F\u5B9E\u5728\u592A\u57FA\u7840\u548C\u7B80\u5355\uFF0C\u8FD9\u91CC\u5C31\u4E0D\u8FC7\u591A\u8D58\u8FF0\u4E86\u3002\u4E0B\u9762\u6211\u4EEC\u6765\u770B\u770B\u5FEB\u901F\u6392\u5E8F\u6CD5</p><p>2. \u5FEB\u901F\u6392\u5E8F</p><blockquote><p>\u5FEB\u901F\u6392\u5E8F\u7684\u57FA\u672C\u601D\u60F3\u662F\u901A\u8FC7\u4E00\u8D9F\u6392\u5E8F\uFF0C\u5C06\u5F85\u6392\u8BB0\u5F55\u5206\u9694\u6210\u72EC\u7ACB\u7684\u4E24\u90E8\u5206\uFF0C\u5176\u4E2D\u4E00\u90E8\u5206\u8BB0\u5F55\u7684\u5173\u952E\u5B57\u5747\u6BD4\u53E6\u4E00\u90E8\u5206\u7684\u5173\u952E\u5B57\u5C0F\uFF0C\u5219\u53EF\u4EE5\u5206\u522B\u5BF9\u8FD9\u4E24\u90E8\u5206\u8BB0\u5F55\u7EE7\u7EED\u8FDB\u884C\u6392\u5E8F\uFF0C\u4EE5\u8FBE\u5230\u6574\u4E2A\u5E8F\u5217\u6709\u5E8F\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var a = [1, 3, 6, 3, 23, 76, 1, 34, 222, 6, 456, 221];
function quickSort(array) {
  var quick = function(arr) {
    if (arr.length &lt;= 1) return arr
    const len = arr.length
    const index = Math.floor(len &gt;&gt; 1)
    const pivot = arr.splice(index, 1)[0]
    const left = []
    const right = []
    for (let i = 0; i &lt; len; i++) {
      if (arr[i] &gt; pivot) {
        right.push(arr[i])
      } else if (arr[i] &lt;= pivot) {
        left.push(arr[i])
      }
    }
    return quick(left).concat([pivot], quick(right))
  }
  const result = quick(array)
  return result
}
quickSort(a);//  [1, 1, 3, 3, 6, 6, 23, 34, 76, 221, 222, 456]

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u4E0A\u9762\u7684\u4EE3\u7801\u5728\u63A7\u5236\u53F0\u6267\u884C\u4E4B\u540E\uFF0C\u4E5F\u53EF\u4EE5\u5F97\u5230\u9884\u671F\u7684\u7ED3\u679C\u3002\u6700\u4E3B\u8981\u7684\u601D\u8DEF\u662F\u4ECE\u6570\u5217\u4E2D\u6311\u51FA\u4E00\u4E2A\u5143\u7D20\uFF0C\u79F0\u4E3A &quot;\u57FA\u51C6&quot;\uFF08pivot\uFF09\uFF1B\u7136\u540E\u91CD\u65B0\u6392\u5E8F\u6570\u5217\uFF0C\u6240\u6709\u5143\u7D20\u6BD4\u57FA\u51C6\u503C\u5C0F\u7684\u6446\u653E\u5728\u57FA\u51C6\u524D\u9762\u3001\u6BD4\u57FA\u51C6\u503C\u5927\u7684\u6446\u5728\u57FA\u51C6\u7684\u540E\u9762\uFF1B\u5728\u8FD9\u4E2A\u533A\u5206\u641E\u5B9A\u4E4B\u540E\uFF0C\u8BE5\u57FA\u51C6\u5C31\u5904\u4E8E\u6570\u5217\u7684\u4E2D\u95F4\u4F4D\u7F6E\uFF1B\u7136\u540E\u628A\u5C0F\u4E8E\u57FA\u51C6\u503C\u5143\u7D20\u7684\u5B50\u6570\u5217\uFF08left\uFF09\u548C\u5927\u4E8E\u57FA\u51C6\u503C\u5143\u7D20\u7684\u5B50\u6570\u5217\uFF08right\uFF09\u9012\u5F52\u5730\u8C03\u7528 quick \u65B9\u6CD5\u6392\u5E8F\u5B8C\u6210\uFF0C\u8FD9\u5C31\u662F\u5FEB\u6392\u7684\u601D\u8DEF\u3002</p></blockquote><p>3. \u63D2\u5165\u6392\u5E8F</p><p>\u63D2\u5165\u6392\u5E8F\u7B97\u6CD5\u63CF\u8FF0\u7684\u662F\u4E00\u79CD\u7B80\u5355\u76F4\u89C2\u7684\u6392\u5E8F\u7B97\u6CD5\u3002\u5B83\u7684<code>\u5DE5\u4F5C\u539F\u7406\u662F\u901A\u8FC7\u6784\u5EFA\u6709\u5E8F\u5E8F\u5217\uFF0C\u5BF9\u4E8E\u672A\u6392\u5E8F\u6570\u636E\uFF0C\u5728\u5DF2\u6392\u5E8F\u5E8F\u5217\u4E2D\u4ECE\u540E\u5411\u524D\u626B\u63CF\uFF0C\u627E\u5230\u76F8\u5E94\u4F4D\u7F6E\u5E76\u63D2\u5165\uFF0C\u4ECE\u800C\u8FBE\u5230\u6392\u5E8F\u7684\u6548\u679C</code>\u3002\u6765\u770B\u4E00\u4E0B\u4EE3\u7801</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var a = [1, 3, 6, 3, 23, 76, 1, 34, 222, 6, 456, 221];
function insertSort(array) {
  const len = array.length
  let current
  let prev
  for (let i = 1; i &lt; len; i++) {
    current = array[i]
    prev = i - 1
    while (prev &gt;= 0 &amp;&amp; array[prev] &gt; current) {
      array[prev + 1] = array[prev]
      prev--
    }
    array[prev + 1] = current
  }
  return array
}
insertSort(a); // [1, 1, 3, 3, 6, 6, 23, 34, 76, 221, 222, 456]

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4ECE\u6267\u884C\u7684\u7ED3\u679C\u4E2D\u53EF\u4EE5\u53D1\u73B0\uFF0C\u901A\u8FC7\u63D2\u5165\u6392\u5E8F\u8FD9\u79CD\u65B9\u5F0F\u5B9E\u73B0\u4E86\u6392\u5E8F\u6548\u679C\u3002\u63D2\u5165\u6392\u5E8F\u7684\u601D\u8DEF\u662F\u57FA\u4E8E\u6570\u7EC4\u672C\u8EAB\u8FDB\u884C\u8C03\u6574\u7684\uFF0C\u9996\u5148\u5FAA\u73AF\u904D\u5386\u4ECE i \u7B49\u4E8E 1 \u5F00\u59CB\uFF0C\u62FF\u5230\u5F53\u524D\u7684 current \u7684\u503C\uFF0C\u53BB\u548C\u524D\u9762\u7684\u503C\u6BD4\u8F83\uFF0C\u5982\u679C\u524D\u9762\u7684\u5927\u4E8E\u5F53\u524D\u7684\u503C\uFF0C\u5C31\u628A\u524D\u9762\u7684\u503C\u548C\u5F53\u524D\u7684\u90A3\u4E2A\u503C\u8FDB\u884C\u4EA4\u6362\uFF0C\u901A\u8FC7\u8FD9\u6837\u4E0D\u65AD\u5FAA\u73AF\u8FBE\u5230\u4E86\u6392\u5E8F\u7684\u76EE\u7684</p><p>4. \u9009\u62E9\u6392\u5E8F</p><p>\u9009\u62E9\u6392\u5E8F\u662F\u4E00\u79CD\u7B80\u5355\u76F4\u89C2\u7684\u6392\u5E8F\u7B97\u6CD5\u3002\u5B83\u7684\u5DE5\u4F5C\u539F\u7406\u662F\uFF0C<code>\u9996\u5148\u5C06\u6700\u5C0F\u7684\u5143\u7D20\u5B58\u653E\u5728\u5E8F\u5217\u7684\u8D77\u59CB\u4F4D\u7F6E\uFF0C\u518D\u4ECE\u5269\u4F59\u672A\u6392\u5E8F\u5143\u7D20\u4E2D\u7EE7\u7EED\u5BFB\u627E\u6700\u5C0F\u5143\u7D20\uFF0C\u7136\u540E\u653E\u5230\u5DF2\u6392\u5E8F\u7684\u5E8F\u5217\u540E\u9762......\u4EE5\u6B64\u7C7B\u63A8\uFF0C\u76F4\u5230\u6240\u6709\u5143\u7D20\u5747\u6392\u5E8F\u5B8C\u6BD5</code>\u3002\u8BF7\u770B\u4E0B\u9762\u7684\u4EE3\u7801\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var a = [1, 3, 6, 3, 23, 76, 1, 34, 222, 6, 456, 221];
function selectSort(array) {
  const len = array.length
  let temp
  let minIndex
  for (let i = 0; i &lt; len - 1; i++) {
    minIndex = i
    for (let j = i + 1; j &lt; len; j++) {
      if (array[j] &lt;= array[minIndex]) {
        minIndex = j
      }
    }
    temp = array[i]
    array[i] = array[minIndex]
    array[minIndex] = temp
  }
  return array
}
selectSort(a); // [1, 1, 3, 3, 6, 6, 23, 34, 76, 221, 222, 456]

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u6837\uFF0C\u901A\u8FC7\u9009\u62E9\u6392\u5E8F\u7684\u65B9\u6CD5\u540C\u6837\u4E5F\u53EF\u4EE5\u5B9E\u73B0\u6570\u7EC4\u7684\u6392\u5E8F\uFF0C\u4ECE\u4E0A\u9762\u7684\u4EE3\u7801\u4E2D\u53EF\u4EE5\u770B\u51FA\u8BE5\u6392\u5E8F\u662F\u8868\u73B0\u6700\u7A33\u5B9A\u7684\u6392\u5E8F\u7B97\u6CD5\u4E4B\u4E00\uFF0C\u56E0\u4E3A\u65E0\u8BBA\u4EC0\u4E48\u6570\u636E\u8FDB\u53BB\u90FD\u662F O(n \u5E73\u65B9) \u7684\u65F6\u95F4\u590D\u6742\u5EA6\uFF0C\u6240\u4EE5\u7528\u5230\u5B83\u7684\u65F6\u5019\uFF0C\u6570\u636E\u89C4\u6A21\u8D8A\u5C0F\u8D8A\u597D</p><p>5. \u5806\u6392\u5E8F</p><p>\u5806\u6392\u5E8F\u662F\u6307\u5229\u7528\u5806\u8FD9\u79CD\u6570\u636E\u7ED3\u6784\u6240\u8BBE\u8BA1\u7684\u4E00\u79CD\u6392\u5E8F\u7B97\u6CD5\u3002\u5806\u79EF\u662F\u4E00\u4E2A\u8FD1\u4F3C\u5B8C\u5168\u4E8C\u53C9\u6811\u7684\u7ED3\u6784\uFF0C\u5E76\u540C\u65F6\u6EE1\u8DB3\u5806\u79EF\u7684\u6027\u8D28\uFF0C\u5373\u5B50\u7ED3\u70B9\u7684\u952E\u503C\u6216\u7D22\u5F15\u603B\u662F\u5C0F\u4E8E\uFF08\u6216\u8005\u5927\u4E8E\uFF09\u5B83\u7684\u7236\u8282\u70B9\u3002\u5806\u7684\u5E95\u5C42\u5B9E\u9645\u4E0A\u5C31\u662F\u4E00\u68F5\u5B8C\u5168\u4E8C\u53C9\u6811\uFF0C\u53EF\u4EE5\u7528\u6570\u7EC4\u5B9E\u73B0\u3002</p><p>\u6839\u8282\u70B9\u6700\u5927\u7684\u5806\u53EB\u4F5C\u5927\u6839\u5806\uFF0C\u6839\u8282\u70B9\u6700\u5C0F\u7684\u5806\u53EB\u4F5C\u5C0F\u6839\u5806\uFF0C\u4F60\u53EF\u4EE5\u6839\u636E\u4ECE\u5927\u5230\u5C0F\u6392\u5E8F\u6216\u8005\u4ECE\u5C0F\u5230\u5927\u6765\u6392\u5E8F\uFF0C\u5206\u522B\u5EFA\u7ACB\u5BF9\u5E94\u7684\u5806\u5C31\u53EF\u4EE5\u3002\u8BF7\u770B\u4E0B\u9762\u7684\u4EE3\u7801</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var a = [1, 3, 6, 3, 23, 76, 1, 34, 222, 6, 456, 221];
function heap_sort(arr) {
  var len = arr.length
  var k = 0
  function swap(i, j) {
    var temp = arr[i]
    arr[i] = arr[j]
    arr[j] = temp
  }
  function max_heapify(start, end) {
    var dad = start
    var son = dad * 2 + 1
    if (son &gt;= end) return
    if (son + 1 &lt; end &amp;&amp; arr[son] &lt; arr[son + 1]) {
      son++
    }
    if (arr[dad] &lt;= arr[son]) {
      swap(dad, son)
      max_heapify(son, end)
    }
  }
  for (var i = Math.floor(len / 2) - 1; i &gt;= 0; i--) {
    max_heapify(i, len)
  }

  for (var j = len - 1; j &gt; k; j--) {
    swap(0, j)
    max_heapify(0, j)
  }

  return arr
}
heap_sort(a); // [1, 1, 3, 3, 6, 6, 23, 34, 76, 221, 222, 456]

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4ECE\u4EE3\u7801\u6765\u770B\uFF0C\u5806\u6392\u5E8F\u76F8\u6BD4\u4E0A\u9762\u51E0\u79CD\u6392\u5E8F\u6574\u4F53\u4E0A\u4F1A\u590D\u6742\u4E00\u4E9B\uFF0C\u4E0D\u592A\u5BB9\u6613\u7406\u89E3\u3002\u4E0D\u8FC7\u4F60\u5E94\u8BE5\u77E5\u9053\u4E24\u70B9\uFF1A</p><ul><li>\u4E00\u662F\u5806\u6392\u5E8F\u6700\u6838\u5FC3\u7684\u70B9\u5C31\u5728\u4E8E\u6392\u5E8F\u524D\u5148\u5EFA\u5806\uFF1B</li><li>\u4E8C\u662F\u7531\u4E8E\u5806\u5176\u5B9E\u5C31\u662F\u5B8C\u5168\u4E8C\u53C9\u6811\uFF0C\u5982\u679C\u7236\u8282\u70B9\u7684\u5E8F\u53F7\u4E3A n\uFF0C\u90A3\u4E48\u53F6\u5B50\u8282\u70B9\u7684\u5E8F\u53F7\u5C31\u5206\u522B\u662F\xA0<code>2n</code>\xA0\u548C\xA0<code>2n+1</code>\u3002</li></ul><p>\u4F60\u7406\u89E3\u4E86\u8FD9\u4E24\u70B9\uFF0C\u518D\u770B\u4EE3\u7801\u5C31\u6BD4\u8F83\u597D\u7406\u89E3\u4E86\u3002\u5806\u6392\u5E8F\u6700\u540E\u6709\u4E24\u4E2A\u5FAA\u73AF\uFF1A\u7B2C\u4E00\u4E2A\u662F\u5904\u7406\u7236\u8282\u70B9\u7684\u987A\u5E8F\uFF1B\u7B2C\u4E8C\u4E2A\u5FAA\u73AF\u5219\u662F\u6839\u636E\u7236\u8282\u70B9\u548C\u53F6\u5B50\u8282\u70B9\u7684\u5927\u5C0F\u5BF9\u6BD4\uFF0C\u8FDB\u884C\u5806\u7684\u8C03\u6574\u3002\u901A\u8FC7\u8FD9\u4E24\u8F6E\u5FAA\u73AF\u7684\u8C03\u6574\uFF0C\u6700\u540E\u5806\u6392\u5E8F\u5B8C\u6210\u3002</p><p>6. \u5F52\u5E76\u6392\u5E8F</p><p>\u5F52\u5E76\u6392\u5E8F\u662F\u5EFA\u7ACB\u5728\u5F52\u5E76\u64CD\u4F5C\u4E0A\u7684\u4E00\u79CD\u6709\u6548\u7684\u6392\u5E8F\u7B97\u6CD5\uFF0C\u8BE5\u7B97\u6CD5\u662F\u91C7\u7528\u5206\u6CBB\u6CD5\u7684\u4E00\u4E2A\u975E\u5E38\u5178\u578B\u7684\u5E94\u7528\u3002\u5C06\u5DF2\u6709\u5E8F\u7684\u5B50\u5E8F\u5217\u5408\u5E76\uFF0C\u5F97\u5230\u5B8C\u5168\u6709\u5E8F\u7684\u5E8F\u5217\uFF1B\u5148\u4F7F\u6BCF\u4E2A\u5B50\u5E8F\u5217\u6709\u5E8F\uFF0C\u518D\u4F7F\u5B50\u5E8F\u5217\u6BB5\u95F4\u6709\u5E8F\u3002\u82E5\u5C06\u4E24\u4E2A\u6709\u5E8F\u8868\u5408\u5E76\u6210\u4E00\u4E2A\u6709\u5E8F\u8868\uFF0C\u79F0\u4E3A\u4E8C\u8DEF\u5F52\u5E76\u3002\u6211\u4EEC\u5148\u770B\u4E00\u4E0B\u4EE3\u7801\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var a = [1, 3, 6, 3, 23, 76, 1, 34, 222, 6, 456, 221];
function mergeSort(array) {
  const merge = (right, left) =&gt; {
    const result = []
    let il = 0
    let ir = 0
    while (il &lt; left.length &amp;&amp; ir &lt; right.length) {
      if (left[il] &lt; right[ir]) {
        result.push(left[il++])
      } else {
        result.push(right[ir++])
      }
    }
    while (il &lt; left.length) {
      result.push(left[il++])
    }
    while (ir &lt; right.length) {
      result.push(right[ir++])
    }
    return result
  }
  const mergeSort = array =&gt; {
    if (array.length === 1) { return array }
    const mid = Math.floor(array.length / 2)
    const left = array.slice(0, mid)
    const right = array.slice(mid, array.length)
    return merge(mergeSort(left), mergeSort(right))
  }
  return mergeSort(array)
}
mergeSort(a); // [1, 1, 3, 3, 6, 6, 23, 34, 76, 221, 222, 456]

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4ECE\u4E0A\u9762\u8FD9\u6BB5\u4EE3\u7801\u4E2D\u53EF\u4EE5\u770B\u5230\uFF0C\u901A\u8FC7\u5F52\u5E76\u6392\u5E8F\u53EF\u4EE5\u5F97\u5230\u60F3\u8981\u7684\u7ED3\u679C\u3002\u4E0A\u9762\u63D0\u5230\u4E86\u5206\u6CBB\u7684\u601D\u8DEF\uFF0C\u4F60\u53EF\u4EE5\u4ECE mergeSort \u65B9\u6CD5\u4E2D\u770B\u5230\uFF0C\u901A\u8FC7 mid \u53EF\u4EE5\u628A\u8BE5\u6570\u7EC4\u5206\u6210\u5DE6\u53F3\u4E24\u4E2A\u6570\u7EC4\uFF0C\u5206\u522B\u5BF9\u8FD9\u4E24\u4E2A\u8FDB\u884C\u9012\u5F52\u8C03\u7528\u6392\u5E8F\u65B9\u6CD5\uFF0C\u6700\u540E\u5C06\u4E24\u4E2A\u6570\u7EC4\u6309\u7167\u987A\u5E8F\u5F52\u5E76\u8D77\u6765\u3002</p><p>\u5F52\u5E76\u6392\u5E8F\u662F\u4E00\u79CD\u7A33\u5B9A\u7684\u6392\u5E8F\u65B9\u6CD5\uFF0C\u548C\u9009\u62E9\u6392\u5E8F\u4E00\u6837\uFF0C\u5F52\u5E76\u6392\u5E8F\u7684\u6027\u80FD\u4E0D\u53D7\u8F93\u5165\u6570\u636E\u7684\u5F71\u54CD\uFF0C\u4F46\u8868\u73B0\u6BD4\u9009\u62E9\u6392\u5E8F\u597D\u5F97\u591A\uFF0C\u56E0\u4E3A\u59CB\u7EC8\u90FD\u662F O(nlogn) \u7684\u65F6\u95F4\u590D\u6742\u5EA6\u3002\u800C\u4EE3\u4EF7\u662F\u9700\u8981\u989D\u5916\u7684\u5185\u5B58\u7A7A\u95F4\u3002</p><p><img src="`+ge+'" alt=""></p><p>\u5176\u4E2D\u4F60\u53EF\u4EE5\u770B\u5230\u6392\u5E8F\u76F8\u5173\u7684\u65F6\u95F4\u590D\u6742\u5EA6\u548C\u7A7A\u95F4\u590D\u6742\u5EA6\u4EE5\u53CA\u7A33\u5B9A\u6027\u7684\u60C5\u51B5\uFF0C\u5982\u679C\u9047\u5230\u9700\u8981\u81EA\u5DF1\u5B9E\u73B0\u6392\u5E8F\u7684\u65F6\u5019\uFF0C\u53EF\u4EE5\u6839\u636E\u5B83\u4EEC\u7684\u7A7A\u95F4\u548C\u65F6\u95F4\u590D\u6742\u5EA6\u7EFC\u5408\u8003\u91CF\uFF0C\u9009\u62E9\u6700\u9002\u5408\u7684\u6392\u5E8F\u65B9\u6CD5</p>',241);function ke(je,_e){const n=a("ExternalLinkIcon");return d(),s("div",null,[fe,e("p",null,[e("a",he,[qe,c(n)])]),ye])}var we=l(xe,[["render",ke],["__file","JS\u57FA\u7840.html.vue"]]);export{we as default};

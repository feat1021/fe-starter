import{_ as e,o as i,c as d,b as n}from"./app.12353158.js";var l="/assets/20210319155725.d304f9b3.png",s="/assets/20210319160140.a4e829c2.png",t="/assets/20210319160503.deaa307a.png";const a={},c=n(`<h1 id="\u79FB\u52A8\u591A\u7AEF\u5F00\u53D1" tabindex="-1"><a class="header-anchor" href="#\u79FB\u52A8\u591A\u7AEF\u5F00\u53D1" aria-hidden="true">#</a> \u79FB\u52A8\u591A\u7AEF\u5F00\u53D1</h1><hr><h2 id="_1-\u79FB\u52A8\u7AEF\u9002\u914D" tabindex="-1"><a class="header-anchor" href="#_1-\u79FB\u52A8\u7AEF\u9002\u914D" aria-hidden="true">#</a> 1 \u79FB\u52A8\u7AEF\u9002\u914D</h2><p>\u4E3A\u4EC0\u4E48\u8981\u505A\u9002\u914D</p><ul><li>\u4E3A\u4E86\u9002\u5E94\u5404\u79CD\u79FB\u52A8\u7AEF\u8BBE\u5907\uFF0C\u5B8C\u7F8E\u5448\u73B0\u5E94\u6709\u7684\u5E03\u5C40\u6548\u679C</li><li>\u5404\u4E2A\u79FB\u52A8\u7AEF\u8BBE\u5907\uFF0C\u5206\u8FA8\u7387\u5927\u5C0F\u4E0D\u4E00\u81F4\uFF0C\u7F51\u9875\u60F3\u94FA\u6EE1\u6574\u4E2A\u5C4F\u5E55\uFF0C\u5E76\u5728\u5404\u79CD\u5206\u8FA8\u4E0B\u7B49\u6BD4\u7F29\u653E</li></ul><h3 id="\u9002\u914D\u65B9\u6848" tabindex="-1"><a class="header-anchor" href="#\u9002\u914D\u65B9\u6848" aria-hidden="true">#</a> \u9002\u914D\u65B9\u6848</h3><ul><li>\u56FA\u5B9A\u9AD8\u5EA6\uFF0C\u5BBD\u5EA6\u767E\u5206\u6BD4\u9002\u914D-\u5E03\u5C40\u975E\u5E38\u5747\u5300\uFF0C\u9002\u5408\u767E\u5206\u6BD4\u5E03\u5C40</li><li>\u56FA\u5B9A\u5BBD\u5EA6\uFF0C\u6539\u53D8\u7F29\u653E\u6BD4\u4F8B\u9002\u914D-\u4EC0\u4E48\u60C5\u51B5\u90FD\u53EF\u4EE5</li><li>Rem\u9002\u914D</li><li>\u50CF\u7D20\u6BD4\u9002\u914D</li></ul><p>\u5355\u4F4D</p><ul><li><code>em</code>\u6839\u636E\u5143\u7D20\u81EA\u8EAB\u7684\u5B57\u4F53\u5927\u5C0F\u8BA1\u7B97,\u5143\u7D20\u81EA\u8EAB\xA0<code>16px 1em=16px</code></li><li><code>Rem R -&gt; root</code>\xA0\u6839\u8282\u70B9( html ) \u6839\u636Ehtml\u7684\u5B57\u4F53\u5927\u5C0F\u8BA1\u7B97\u5176\u4ED6\u5143\u7D20\u5C3A\u5BF8</li></ul><p>\u767E\u5206\u6BD4\u9002\u914D</p><blockquote><p>\u56FA\u5B9A\u9AD8\u5EA6\uFF0C\u5BBD\u5EA6\u767E\u5206\u6BD4\u9002\u914D</p></blockquote><ul><li>\u6839\u636E\u8BBE\u7F6E\u7684\u5927\u5C0F\u53BB\u8BBE\u7F6E\u9AD8\u5EA6\uFF0C\u5355\u4F4D\u53EF\u4EE5\u7528px \u767E\u5206\u6BD4 auto</li><li>\u5E38\u7528Flex\u5E03\u5C40</li><li>\u767E\u5206\u6BD4\u5BBD\u5EA6</li></ul><blockquote><p>\u4EE5640\u8BBE\u8BA1\u7A3F\u4E3A\u4F8B\uFF0C\u5728\u5916\u5C42\u5BB9\u5668\u4E0A\u8BBE\u7F6E\u6700\u5927\u4EE5\u53CA\u6700\u5C0F\u7684\u5BBD</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>#wrapper {
    max-width: 640px; /*\u8BBE\u7F6E\u8BBE\u8BA1\u7A3F\u7684\u5BBD\u5EA6*/
    min-width: 300px;
    margin: 0 auto;
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u540E\u9762\u7684\u533A\u5757\u5E03\u5C40\u90FD\u7528\u767E\u5206\u6BD4\uFF0C\u5177\u4F53\u5143\u7D20\u5927\u5C0F\u7528<code>px</code>\u8BA1\u7B97</p></blockquote><p>Rem\u9002\u914D(\u5E38\u7528)</p><ul><li>\u6839\u636E\u5C4F\u5E55\u7684\u5206\u8FA8\u7387\u52A8\u6001\u8BBE\u7F6E<code>html</code>\u7684\u6587\u5B57\u5927\u5C0F\uFF0C\u8FBE\u5230\u7B49\u6BD4\u7F29\u653E\u7684\u529F\u80FD</li><li>\u4FDD\u8BC1<code>html</code>\u6700\u7EC8\u7B97\u51FA\u6765\u7684\u5B57\u4F53\u5927\u5C0F\uFF0C\u4E0D\u80FD\u5C0F\u4E8E<code>12px</code></li><li>\u5728\u4E0D\u540C\u7684\u79FB\u52A8\u7AEF\u663E\u793A\u4E0D\u540C\u7684\u5143\u7D20\u6BD4\u4F8B\u6548\u679C</li><li>\u5982\u679C<code>html</code>\u7684<code>font-size:20px</code>\u7684\u65F6\u5019\uFF0C\u90A3\u4E48\u6B64\u65F6\u7684<code>1rem = 20px</code></li><li>\u628A\u8BBE\u8BA1\u56FE\u7684\u5BBD\u5EA6\u5206\u6210\u591A\u5C11\u5206\u4E4B\u4E00\uFF0C\u6839\u636E\u5B9E\u9645\u60C5\u51B5</li><li><code>rem</code>\u505A\u76D2\u5B50\u7684\u5BBD\u5EA6\uFF0C<code>viewport</code>\u7F29\u653E</li></ul><blockquote><p><code>head</code>\u52A0\u5165\u5E38\u89C1\u7684<code>meta</code>\u5C5E\u6027</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;meta name=&quot;format-detection&quot; content=&quot;telephone=no&quot;&gt;
&lt;meta name=&quot;apple-mobile-web-app-capable&quot; content=&quot;yes&quot;&gt;
&lt;meta name=&quot;apple-mobile-web-app-status-bar-style&quot; content=&quot;black&quot;&gt;
&lt;!--\u8FD9\u4E2A\u662F\u5173\u952E--&gt;
&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0\uFF0Cminimum-scale=1.0&quot;&gt;

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u628A\u8FD9\u6BB5\u4EE3\u7801\u52A0\u5165<code>head</code>\u4E2D\u7684<code>script</code>\u9884\u5148\u52A0\u8F7D</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// rem\u9002\u914D\u7528\u8FD9\u6BB5\u4EE3\u7801\u52A8\u6001\u8BA1\u7B97html\u7684font-size\u5927\u5C0F
(function(win) {
    var docEl = win.document.documentElement;
    var timer = &#39;&#39;;

    function changeRem() {
        var width = docEl.getBoundingClientRect().width;
        if (width &gt; 750) { // 750\u662F\u8BBE\u8BA1\u7A3F\u5927\u5C0F
            width = 750;
        }
        var fontS = width / 10; // \u628A\u8BBE\u5907\u5BBD\u5EA6\u5341\u7B49\u5206 1rem=10px
        docEl.style.fontSize = fontS + &quot;px&quot;;
    }
    win.addEventListener(&quot;resize&quot;, function() {
        clearTimeout(timer);
        timer = setTimeout(changeRem, 30);
    }, false);
    win.addEventListener(&quot;pageshow&quot;, function(e) {
        if (e.persisted) { //\u6E05\u9664\u7F13\u5B58
            clearTimeout(timer);
            timer = setTimeout(changeRem, 30);
        }
    }, false);
    changeRem();
})(window)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u50CF\u7D20\u6BD4\u9002\u914D</p><ul><li><code>window.devicePixelRatio</code></li><li>\u7269\u7406\u50CF\u7D20\u662F\u624B\u673A\u5C4F\u5E55\u5206\u8FA8\u7387</li><li>\u72EC\u7ACB\u50CF\u7D20 \u6307<code>css</code>\u50CF\u7D20 \u5C4F\u5E55\u5BBD\u5EA6</li><li>\u50CF\u7D20\u6BD4 = \u7269\u7406\u50CF\u7D20 /\xA0<code>css</code>\u5BBD\u5EA6</li><li>\u83B7\u53D6\u8BBE\u5907\u7684\u50CF\u7D20\u6BD4\xA0<code>window.devicePixelRatio</code></li></ul><h2 id="_2-\u79FB\u52A8\u7AEF300ms\u5EF6\u8FDF" tabindex="-1"><a class="header-anchor" href="#_2-\u79FB\u52A8\u7AEF300ms\u5EF6\u8FDF" aria-hidden="true">#</a> 2 \u79FB\u52A8\u7AEF300ms\u5EF6\u8FDF</h2><blockquote><p>\u7531\u6765\uFF1A300\u6BEB\u7C73\u5EF6\u8FDF\u89E3\u51B3\u7684\u662F\u53CC\u51FB\u7F29\u653E\u3002\u53CC\u51FB\u7F29\u653E\uFF0C\u624B\u6307\u5728\u5C4F\u5E55\u5FEB\u901F\u70B9\u51FB\u4E24\u6B21\u3002safari\u6D4F\u89C8\u5668\u5C31\u4F1A\u5C06\u7F51\u9875\u7F29\u653E\u503C\u539F\u59CB\u6BD4\u4F8B\u3002\u7531\u4E8E\u7528\u6237\u53EF\u4EE5\u53CC\u51FB\u7F29\u653E\u6216\u8005\u662F\u6EDA\u52A8\u7684\u64CD\u4F5C\uFF0C \u5F53\u7528\u6237\u70B9\u51FB\u5C4F\u5E55\u4E00\u6B21\u4E4B\u540E\uFF0C\u6D4F\u89C8\u5668\u5E76\u4E0D\u4F1A\u5224\u65AD\u7528\u6237\u786E\u5B9E\u8981\u6253\u5F00\u81F3\u8FD9\u4E2A\u94FE\u63A5\uFF0C\u8FD8\u662F\u60F3\u8981\u8FDB\u884C\u53CC\u51FB\u64CD\u4F5C \u56E0\u6B64\uFF0Csafair\u6D4F\u89C8\u5668\u5C31\u4F1A\u7B49\u5F85300ms\uFF0C\u7528\u6765\u5224\u65AD\u7528\u6237\u662F\u5426\u5728\u6B21\u70B9\u51FB\u4E86\u5C4F\u5E55</p></blockquote><p>\u89E3\u51B3\u65B9\u6848\uFF1A</p><ol><li>\u7981\u7528\u7F29\u653E\uFF0C\u8BBE\u7F6Emeta\u6807\u7B7E\xA0<code>user-scalable=no</code></li><li><code>fastclick.js</code></li></ol><blockquote><p>\u539F\u7406\uFF1AFastClick\u7684\u5B9E\u73B0\u539F\u7406\u662F\u5728\u68C0\u67E5\u5230touchend\u4E8B\u4EF6\u7684\u65F6\u5019\uFF0C\u4F1A\u901A\u8FC7dom\u81EA\u5B9A\u4E49\u4E8B\u4EF6\u7ACB\u5373\u53D1\u51FAclick\u4E8B\u4EF6\uFF0C\u5E76\u628A\u6D4F\u89C8\u5668\u5728300ms\u4E4B\u540E\u771F\u6B63\u7684click\u4E8B\u4EF6\u963B\u6B62\u6389\u3002fastclick.js\u8FD8\u53EF\u4EE5\u89E3\u51B3\u7A7F\u900F\u95EE\u9898</p></blockquote><ul><li>fastclick\u53EF\u4EE5\u89E3\u51B3\u5728\u624B\u673A\u4E0A\u70B9\u51FB\u4E8B\u4EF6\u7684300ms\u5EF6\u8FDF</li><li>zepto\u7684touch\u6A21\u5757\uFF0Ctap\u4E8B\u4EF6\u4E5F\u662F\u4E3A\u4E86\u89E3\u51B3\u5728click\u7684\u5EF6\u8FDF\u95EE\u9898</li></ul><p>\u89E6\u6478\u4E8B\u4EF6\u7684\u54CD\u5E94\u987A\u5E8F</p><ul><li><code>ontouchstart</code></li><li><code>ontouchmove</code></li><li><code>ontouchend</code></li><li><code>onclick</code></li></ul><h2 id="_3-\u5982\u4F55\u89E3\u51B3\u79FB\u52A8\u7AEF-retina-\u5C4F-1px-\u50CF\u7D20\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#_3-\u5982\u4F55\u89E3\u51B3\u79FB\u52A8\u7AEF-retina-\u5C4F-1px-\u50CF\u7D20\u95EE\u9898" aria-hidden="true">#</a> 3 \u5982\u4F55\u89E3\u51B3\u79FB\u52A8\u7AEF Retina \u5C4F 1px \u50CF\u7D20\u95EE\u9898</h2><ul><li><code>\u4F2A\u5143\u7D20 + transform scaleY(.5)</code></li><li><code>border-image</code></li><li><code>background-image</code></li><li><code>box-shadow</code></li></ul><blockquote><p>\u4E00\u822C\u6765\u8BF4\uFF0C\u5728PC\u7AEF\u6D4F\u89C8\u5668\u4E2D\uFF0C\u8BBE\u5907\u50CF\u7D20\u6BD4\uFF08dpr\uFF09\u7B49\u4E8E1\uFF0C1\u4E2Acss\u50CF\u7D20\u5C31\u4EE3\u88681\u4E2A\u7269\u7406\u50CF\u7D20\uFF1B\u4F46\u662F\u5728<code>retina</code>\u5C4F\u5E55\u4E2D\uFF0Cdpr\u666E\u904D\u662F2\u62163\uFF0C1\u4E2Acss\u50CF\u7D20\u4E0D\u518D\u7B49\u4E8E1\u4E2A\u7269\u7406\u50CF\u7D20\uFF0C\u56E0\u6B64\u6BD4\u5B9E\u9645\u8BBE\u8BA1\u7A3F\u770B\u8D77\u6765\u7C97\u4E0D\u5C11</p></blockquote><ol><li>\u4F2A\u5143\u7D20+scale</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;style&gt;
    .box{
        width: 100%;
        height: 1px;
        margin: 20px 0;
        position: relative;
    }
    .box::after{
        content: &#39;&#39;;
        position: absolute;
        bottom: 0;
        width: 100%;
        height: 1px;
        transform: scaleY(0.5);
        transform-origin: 0 0;
        background: red;
    }
&lt;/style&gt;

&lt;div class=&quot;box&quot;&gt;&lt;/div&gt;

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>border-image</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>div{
    border-width: 1px 0px;
    -webkit-border-image: url(border.png) 2 0 stretch;
    border-image: url(border.png) 2 0 stretch;
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-\u5982\u4F55\u89E3\u51B3\u79FB\u52A8\u7AEF\u51FB\u7A7F-\u7A7F\u900F-\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#_4-\u5982\u4F55\u89E3\u51B3\u79FB\u52A8\u7AEF\u51FB\u7A7F-\u7A7F\u900F-\u95EE\u9898" aria-hidden="true">#</a> 4 \u5982\u4F55\u89E3\u51B3\u79FB\u52A8\u7AEF\u51FB\u7A7F\uFF08\u7A7F\u900F\uFF09\u95EE\u9898</h2><blockquote><p>\u5728\u79FB\u52A8\u7AEF\u5F00\u53D1\u7684\u65F6\u5019\uFF0C\u6211\u4EEC\u6709\u65F6\u5019\u4F1A\u9047\u5230\u8FD9\u6837\u4E00\u4E2Abug\uFF1A\u70B9\u51FB\u5173\u95ED\u906E\u7F69\u5C42\u7684\u65F6\u5019\uFF0C\u906E\u7F69\u5C42\u4E0B\u9762\u7684\u5E26\u6709\u70B9\u51FB\u7684\u5143\u7D20\u4E5F\u4F1A\u88AB\u89E6\u53D1\uFF0C\u7ED9\u4EBA\u4E00\u79CD\u51FB\u7A7F\u4E86\u9875\u9762\u7684\u611F\u89C9\uFF0C\u8FD9\u662F\u4E3A\u4EC0\u4E48\u5462\uFF1F</p></blockquote><ul><li>\u70B9\u51FB&quot;\u6253\u5F00\u5F39\u6846&quot;\u6309\u94AE\uFF0C\u663E\u793A\u906E\u7F69\u5C42</li><li>\u70B9\u51FB&quot;\u5173\u95ED\u5F39\u6846&quot;\u6309\u94AE\uFF0C\u906E\u7F69\u5C42\u6D88\u5931\uFF0C\u5E95\u4E0B\u7684\u8FDE\u63A5\u88AB\u89E6\u53D1</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var show = document.getElementById(&#39;show&#39;) // \u6253\u5F00\u6309\u94AE
var mask = document.getElementById(&#39;mask&#39;) // \u906E\u7F69\u5C42
var btn = document.getElementById(&#39;btn&#39;)   // \u5173\u95ED\u6309\u94AE

show.onclick = function () {
    mask.style.display = &#39;block&#39;
}

btn.addEventListener(&#39;touchstart&#39;, function () {
    mask.style.display = &#39;none&#39;
}, false)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u8FD9\u6837\u95EE\u9898\u7684\u5F62\u6210\u539F\u56E0\u662F\u4EC0\u4E48\u5462\uFF1F</li><li>\u6211\u4EEC\u5148\u6765\u770B\u4E00\u6BB5\u4EE3\u7801\uFF1A(\u4EE5\u4E0B\u4EE3\u7801\u9700\u5728\u79FB\u52A8\u7AEF\u4E0A\u8FD0\u884C)</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;div id=&quot;btn&quot;&gt;\u6211\u662F\u4E00\u4E2A\u6309\u94AE&lt;/div&gt;
var btn = document.getElementById(&#39;btn&#39;)
btn.addEventListener(&#39;touchstart&#39;, function () {
    console.log(&#39;start&#39;)
}, false)

btn.addEventListener(&#39;touchmove&#39;, function () {
    console.log(&#39;move&#39;)
}, false)

btn.addEventListener(&#39;touchend&#39;, function () {
    console.log(&#39;touchend&#39;)
}, false)

btn.addEventListener(&#39;click&#39;, function () {
    console.log(&#39;click&#39;)
}, false)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u4EE5\u4E0A\u4EE3\u7801\u4F1A\u51FA\u73B02\u79CD\u8FD0\u884C\u60C5\u51B5</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>start ===&gt; move ===&gt; end
start ===&gt; end ===&gt; click

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u770B\u5230\u8FD9\u91CC\u76F8\u4FE1\u5927\u5BB6\u90FD\u660E\u767D\u4E86\uFF0C\u7531\u4E8E\u300C\u5173\u95ED\u5F39\u6846\u300D\u6309\u94AE\u7ED1\u5B9A\u7684\u4E8B\u4EF6\u662F<code>touch</code>\uFF0Ca\u6807\u7B7E\u662F<code>click</code>\u4E8B\u4EF6\uFF0C\u5728<code>touch</code>\u4E8B\u4EF6\u89E6\u53D1\u540E\uFF0C\u6211\u4EEC\u5F39\u51FA\u6846\u7684\u906E\u7F69\u5C42\u5C31\u6D88\u5931\u4E86\uFF0C\u8FD9\u65F6\u5019\u7684<code>click</code>\u4E8B\u4EF6\u5C31\u88ABa\u6807\u7B7E\u7ED9\u6355\u83B7\u5230\u4E86\uFF0C\u5F62\u6210\u4E86\u51FB\u7A7F\u7684\u6548\u679C</p></blockquote><p>\u65B9\u6CD5\u4E00\u3001\u963B\u6B62\u9ED8\u8BA4\u4E8B\u4EF6</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>btn.addEventListener(&#39;touchend&#39;, function (e) {
    mask.style.display = &#39;none&#39;
    e.preventDefault()
}, false)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u5728\u6267\u884C touchstart \u548C touchend \u4E8B\u4EF6\u65F6\uFF0C\u9690\u85CF\u6267\u884C\u5B8C\u9690\u85CF\u547D\u4EE4\u540E\uFF0C\u7ACB\u5373\u963B\u6B62\u540E\u7EED\u4E8B\u4EF6(\u63A8\u8350\u5728touchend\u65F6\uFF0C\u963B\u6B62\u540E\u7EED\u7684\u9ED8\u8BA4\u4E8B\u4EF6)</p></blockquote><p>\u65B9\u6CD5\u4E8C\u3001\u7EDF\u4E00\u4F7F\u7528click\u4E8B\u4EF6</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>btn.addEventListener(&#39;click&#39;, function () {
    mask.style.display = &#39;none&#39;
}, false)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u8FD9\u4E2A\u65B9\u6CD5\u7B80\u5355\uFF0C\u5C31\u662F\u4EA4\u4E92\u7684\u6548\u7387\u6CA1\u6709<code>click</code>\u4E8B\u4EF6\u9AD8\uFF0C\u53E6\u5916\uFF0C\u7528\u6237\u5728<code>touch</code>\u7684\u65F6\u5019\uFF0C\u6709\u53EF\u80FD\u5FAE\u5FAE\u6ED1\u52A8\u4E86\u4E00\u4E0B\uFF0C\u5C31\u4F1A\u65E0\u6CD5\u89E6\u53D1\u70B9\u51FB\u4E8B\u4EF6\u3002\u5F71\u54CD\u7528\u6237\u4F53\u9A8C\u3002</p></blockquote><p>\u65B9\u6CD5\u4E09\u3001\u5EF6\u8FDF\u6267\u884C</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>btn.addEventListener(&#39;touchend&#39;, function () {
    setTimeout(function () {
        mask.style.display = &#39;none&#39;  // \u53EF\u4EE5\u4F7F\u7528fadeOut\u52A8\u753B
    }, 300)
}, false)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u70B9\u51FB\u4E4B\u540E\uFF0C\u6211\u4EEC\u4E0D\u7ACB\u5373\u9690\u85CF\u3002\u8BA9\u906E\u7F69\u5728350ms\u6BEB\u79D2\u5185\u6DE1\u51FA\u6D88\u5931\u3002\uFF08\u6211\u4E3A\u4E86\u6F14\u793A\u65B9\u4FBF\u5C31\u6CA1\u6709\u6DFB\u52A0\u52A8\u753B\u4E86\uFF0C\u91C7\u7528\u4E86\u5B9A\u65F6\u5668\u65B9\u6CD5\u3002\uFF09</p></blockquote><p>\u65B9\u6CD5\u56DB\u3001 css\u5C5E\u6027pointer-events</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>click.setAttribute(&#39;style&#39;, &#39;pointer-events:none&#39;)
mask.style.display = &#39;none&#39;
setTimeout(function () {
    click.setAttribute(&#39;style&#39;, &#39;pointer-events:auto&#39;)
}, 350)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u8FD9\u6837\u505A\u6CD5\u662F\uFF0C\u5728\u906E\u7F69\u6D88\u5931\u4E4B\u524D\uFF0C\u5148\u8BA9a\u6807\u7B7E\u5FFD\u7565\u70B9\u51FB\u4E8B\u4EF6\uFF0C\u8FD9\u6837\u906E\u7F69\u5C42\u7684\u70B9\u51FB\u4E8B\u4EF6\uFF0C\u5C31\u4E0D\u4F1A\u88ABa\u6807\u7B7E\u6355\u83B7\u5230\u3002\u8FD8\u662F\u7B49350\u6BEB\u79D2\u4E4B\u540E\uFF0C\u518D\u6B21\u8D4B\u4E88a\u6807\u7B7E\u7684\u70B9\u51FB\u80FD\u529B\u3002\u8FD9\u4E2A\u65B9\u6CD5\u8DDF\u65B9\u6CD5\u4E09\u539F\u7406\u76F8\u4F3C\uFF0C\u53EA\u662F\u5229\u7528\u4E86\u4E0D\u540C\u7684css\u5C5E\u6027\u800C\u5DF2\u3002\u4E2A\u4EBA\u89C9\u5F97\u65B9\u6CD5\u4E09\u6BD4\u8F83\u597D\u4E00\u70B9\u3002\u65B9\u6CD5\u56DB\u6709\u660E\u663E\u76842\u4E2A\u7F3A\u70B9\uFF1A</p></blockquote><ul><li>\u906E\u7F69\u5C42\u4E0B\u9762\u53EF\u80FD\u6709\u591A\u4E2A\u5E26\u6709\u4E8B\u4EF6\u7684\u5143\u7D20\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u7ED9\u6240\u6709\u53EF\u70B9\u51FB\u5143\u7D20\u6DFB\u52A0<code>pointer-events</code>\u5C5E\u6027 \u7136\u540E\u5220\u9664\u3002\u4E0D\u4EC5\u5BB9\u6613\u51FA\u9519\uFF0C\u8FD8\u5F71\u54CD\u6027\u80FD</li><li>\u5982\u679C\u7528\u6237\u5728<code>350</code>\u6BEB\u79D2\u5185\u70B9\u51FB\u4E86\u5143\u7D20\uFF0C\u4F1A\u9020\u6210\u9875\u9762\u5931\u6548\u7684\u9519\u89C9\uFF0C\u5F71\u54CD\u4F53\u9A8C\u3002</li></ul><p>\u65B9\u6CD5\u4E94\u3001fastClick\u5E93</p><blockquote><p>\u8FD9\u4E2A\u5E93\u7684\u5F15\u7528\u65B9\u6CD5\uFF0C\u5728\u6211\u4E0A\u4E00\u7BC7\u6587\u7AE0\u4E2D\u5DF2\u7ECF\u8BB2\u5230\u3002fastClick\u7684\u539F\u7406\u5C31\u662F\u4F7F\u7528\u4E86\u65B9\u6CD5\u4E00\u7684\u505A\u6CD5\u3002fastClick \u5728 touchend \u9636\u6BB5 \u8C03\u7528 event.preventDefault\uFF0C\u7136\u540E\u901A\u8FC7 document.createEvent \u521B\u5EFA\u4E00\u4E2A MouseEvents\uFF0C\u7136\u540E \u901A\u8FC7\xA0<code>eventTarget.dispatchEvent</code>\xA0\u89E6\u53D1\u5BF9\u5E94\u76EE\u6807\u5143\u7D20\u4E0A\u7ED1\u5B9A\u7684 click \u4E8B\u4EF6</p></blockquote><h2 id="_5-\u79FB\u52A8\u7AEF\u7684\u517C\u5BB9\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#_5-\u79FB\u52A8\u7AEF\u7684\u517C\u5BB9\u95EE\u9898" aria-hidden="true">#</a> 5 \u79FB\u52A8\u7AEF\u7684\u517C\u5BB9\u95EE\u9898</h2><ul><li>\u7ED9\u79FB\u52A8\u7AEF\u6DFB\u52A0\u70B9\u51FB\u4E8B\u4EF6\u4F1A\u6709300S\u7684\u5EF6\u8FDF \u5982\u679C\u7528\u70B9\u51FB\u4E8B\u4EF6\uFF0C\u9700\u8981\u5F15\u4E00\u4E2A<code>fastclick.js</code>\u6587\u4EF6\uFF0C\u89E3\u51B3<code>300s</code>\u7684\u5EF6\u8FDF \u4E00\u822C\u5728\u79FB\u52A8\u7AEF\u7528<code>ontouchstart</code>\u3001<code>ontouchmove</code>\u3001<code>ontouchend</code></li><li>\u79FB\u52A8\u7AEF\u70B9\u900F\u95EE\u9898,<code>touchstart</code>\xA0\u65E9\u4E8E\xA0<code>touchend</code>\xA0\u65E9\u4E8E<code>click</code>,<code>click</code>\u7684\u89E6\u53D1\u662F\u6709\u5EF6\u8FDF\u7684\uFF0C\u8FD9\u4E2A\u65F6\u95F4\u5927\u6982\u5728<code>300ms</code>\u5DE6\u53F3\uFF0C\u4E5F\u5C31\u662F\u8BF4\u6211\u4EEC<code>tap</code>\u89E6\u53D1\u4E4B\u540E\u8499\u5C42\u9690\u85CF\uFF0C \u6B64\u65F6\xA0<code>click</code>\u8FD8\u6CA1\u6709\u89E6\u53D1\uFF0C300ms\u4E4B\u540E\u7531\u4E8E\u8499\u5C42\u9690\u85CF\uFF0C\u6211\u4EEC\u7684click\u89E6\u53D1\u5230\u4E86\u4E0B\u9762\u7684a\u94FE\u63A5\u4E0A\u5C3D\u91CF\u90FD\u4F7F\u7528<code>touch</code>\u4E8B\u4EF6\u6765\u66FF\u6362<code>click</code>\u4E8B\u4EF6\u3002\u4F8B\u5982\u7528touchend\u4E8B\u4EF6(\u63A8\u8350)\u3002\u7528<code>fastclick</code>\uFF0C<code>github.com/ftlabs/fast...</code>\u7528<code>preventDefault</code>\u963B\u6B62<code>a</code>\u6807\u7B7E\u7684<code>click</code>\u6D88\u9664\xA0<code>IE10</code>\xA0\u91CC\u9762\u7684\u90A3\u4E2A\u53C9\u53F7<code>input:-ms-clear{display:none;}</code></li><li>\u8BBE\u7F6E\u7F13\u5B58 \u624B\u673A\u9875\u9762\u901A\u5E38\u5728\u7B2C\u4E00\u6B21\u52A0\u8F7D\u540E\u4F1A\u8FDB\u884C\u7F13\u5B58\uFF0C\u7136\u540E\u6BCF\u6B21\u5237\u65B0\u4F1A\u4F7F\u7528\u7F13\u5B58\u800C\u4E0D\u662F\u53BB\u91CD\u65B0\u5411\u670D\u52A1\u5668\u53D1\u9001\u8BF7\u6C42\u3002\u5982\u679C\u4E0D\u5E0C\u671B\u4F7F\u7528\u7F13\u5B58\u53EF\u4EE5\u8BBE\u7F6E<code>no-cache</code>\u3002</li><li>\u5706\u89D2<code>BUG</code>\xA0\u67D0\u4E9BAndroid\u624B\u673A\u5706\u89D2\u5931\u6548 b<code>ackground-clip: padding-box;</code>\xA0\u9632\u6B62\u624B\u673A\u4E2D\u7F51\u9875\u653E\u5927\u548C\u7F29\u5C0F \u8FD9\u70B9\u662F\u6700\u57FA\u672C\u7684\uFF0C\u505A\u4E3A\u624B\u673A\u7F51\u7AD9\u5F00\u53D1\u8005\u6765\u8BF4\u5E94\u8BE5\u90FD\u77E5\u9053\u7684\uFF0C\u5C31\u662F\u8BBE\u7F6E<code>meta</code>\u4E2D\u7684<code>viewport</code></li><li>\u8BBE\u7F6E\u7528\u6237\u622A\u6B62\u7F29\u653E\uFF0C\u4E00\u822C\u5199\u89C6\u53E3\u7684\u65F6\u5019\u5C31\u5DF2\u7ECF\u5199\u597D\u4E86</li></ul><h2 id="_6-jsbridge\u539F\u7406\u662F\u4EC0\u4E48-\u5982\u4F55\u8BBE\u8BA1\u4E00\u4E2Ajsbridge" tabindex="-1"><a class="header-anchor" href="#_6-jsbridge\u539F\u7406\u662F\u4EC0\u4E48-\u5982\u4F55\u8BBE\u8BA1\u4E00\u4E2Ajsbridge" aria-hidden="true">#</a> 6 JSBridge\u539F\u7406\u662F\u4EC0\u4E48\uFF1F\u5982\u4F55\u8BBE\u8BA1\u4E00\u4E2AJSBridge\uFF1F</h2><h3 id="_6-1-jsbridge\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#_6-1-jsbridge\u539F\u7406" aria-hidden="true">#</a> 6.1 JSBridge\u539F\u7406</h3><blockquote><p><code>JSBridge</code>\u7684\u4F5C\u7528\u5C31\u662F\u8BA9<code>native</code>\u53EF\u4EE5\u8C03\u7528<code>web</code>\u7684<code>js</code>\u4EE3\u7801\uFF0C\u8BA9<code>web</code>\u53EF\u4EE5\u8C03\u7528\u539F\u751F\u7684\u4EE3\u7801\uFF0C\u5B9E\u73B0\u6570\u636E\u901A\u4FE1\uFF0C\u5B83\u5728\u505A<code>native</code>\u4EE3\u7801\u548Cjs\u4EE3\u7801\u76F8\u4E92\u8F6C\u6362\u7684\u4E8B\u60C5\u3002</p></blockquote><p><img src="`+l+`" alt=""></p><p>\u5B9E\u73B0\u6570\u636E\u95F4\u7684\u901A\u8BAF\u5173\u952E\u662F\u4EE5\u4E0B\u4E24\u70B9\uFF1A</p><ul><li>\u5C06<code>Native</code>\u7AEF\u7684\u63A5\u53E3\u5C01\u88C5\u6210js\u63A5\u53E3</li><li>\u5C06<code>Web</code>\u7AEFjs\u63A5\u53E3\u5C01\u88C5\u6210\u539F\u751F\u63A5\u53E3</li></ul><h3 id="_6-2-jsbridge\u7684\u6838\u5FC3" tabindex="-1"><a class="header-anchor" href="#_6-2-jsbridge\u7684\u6838\u5FC3" aria-hidden="true">#</a> 6.2 JsBridge\u7684\u6838\u5FC3</h3><ul><li>\u62E6\u622AUrl</li><li><code>load url(&quot;javascript:js_method()&quot;);</code></li></ul><h3 id="_6-3-\u4E3A\u4EC0\u4E48\u662F-js-bridge" tabindex="-1"><a class="header-anchor" href="#_6-3-\u4E3A\u4EC0\u4E48\u662F-js-bridge" aria-hidden="true">#</a> 6.3 \u4E3A\u4EC0\u4E48\u662F&#39;JS&#39;Bridge</h3><blockquote><p>\u56E0\u4E3AWeb\u7AEF\u652F\u6301JavaScript\uFF0C\u800C<code>Native(iOS/Android)</code>\u7AEF\u7684<code>Webview</code>\u63A7\u4EF6\u5BF9JavaScript\u4E5F\u6709\u6240\u652F\u6301\uFF0C\u9875\u9762\u52A0\u8F7D\u5B8C\u6210\u540E\u8C03\u7528\u9875\u9762\u7684JavaScript\u4EE3\u7801</p></blockquote><h3 id="_6-4-\u5E94\u7528\u573A\u666F" tabindex="-1"><a class="header-anchor" href="#_6-4-\u5E94\u7528\u573A\u666F" aria-hidden="true">#</a> 6.4 \u5E94\u7528\u573A\u666F</h3><blockquote><p>\u5B83\u6709\u4EC0\u4E48\u7528\uFF1F\u6211\u4EEC\u5728\u4F7F\u7528\u6DF7\u5408\u5F00\u53D1\u6A21\u5F0F(<code>Hybrid App</code>)\u6DF7\u5408\u4F7F\u7528<code>Native</code>\u548C<code>Web</code>\u6280\u672F\u7528\u5230\u3002\u4F8B\u5982\u76EE\u524D\u7684\u4F7F\u7528\u6B64\u6280\u672F\u7684\u4E3B\u6D41\u6846\u67B6<code>React Native</code>\u3001<code>Weex</code>\u3001\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u7B49</p></blockquote><h3 id="_6-5-jsbridge\u5B9E\u73B0-native\u7AEF\u8C03\u7528web\u7AEF\u4EE3\u7801" tabindex="-1"><a class="header-anchor" href="#_6-5-jsbridge\u5B9E\u73B0-native\u7AEF\u8C03\u7528web\u7AEF\u4EE3\u7801" aria-hidden="true">#</a> 6.5 JSBridge\u5B9E\u73B0 ------ Native\u7AEF\u8C03\u7528Web\u7AEF\u4EE3\u7801</h3><blockquote><p><code>WebView</code>\u662F<code>Native</code>\u4E2D\u52A0\u8F7D\u7F51\u9875\u7684\u4E00\u4E2A\u63A7\u4EF6\uFF0C\u8BE5\u7EC4\u4EF6\u63D0\u4F9B\u4E00\u4E2A<code>evaluateJavascript()</code>\u65B9\u6CD5\u8FD0\u884CJS\u4EE3\u7801\u3002\u6211\u4EEC\u8981\u505A\u7684\u662F\u5728Native\u7AEF\u6267\u884C\u4E00\u4E2Ajs\u65B9\u6CD5\uFF0C\u5728Web\u7AEF\u8FDB\u884C\u76D1\u542C</p></blockquote><p>1. \u6267\u884C\u4E00\u6BB5JS\u4EE3\u7801</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>webView.evaluateJavascript(&quot;window.showWebDialog(&#39;123&#39;)&quot;,null);

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>2. Web\u7AEF\u8FDB\u884C\u76D1\u542C</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;script&gt;
    window.showWebDialog = text =&gt; window.alert(text);
&lt;/script&gt;

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-6-jsbridge\u5B9E\u73B0-web\u7AEF\u8C03\u7528native\u7AEF\u4EE3\u7801-\u62E6\u622Aurl-schema" tabindex="-1"><a class="header-anchor" href="#_6-6-jsbridge\u5B9E\u73B0-web\u7AEF\u8C03\u7528native\u7AEF\u4EE3\u7801-\u62E6\u622Aurl-schema" aria-hidden="true">#</a> 6.6 JSBridge\u5B9E\u73B0 ------ Web\u7AEF\u8C03\u7528Native\u7AEF\u4EE3\u7801\uFF08\u62E6\u622AURL Schema\uFF09</h3><blockquote><p>\u5F53Web\u7AEF\u8981\u8BF7\u6C42<code>Native</code>\u7AEF\u7684\u65B9\u6CD5\u65F6\uFF0C\u6211\u4EEC\u9996\u5148\u8981\u81EA\u5B9A\u4E49\u4E00\u4E2A<code>URL Schema</code>\uFF0C\u5411Native\u7AEF\u53D1\u8D77\u4E00\u4E2A\u8BF7\u6C42\uFF0C\u6700\u540E\u5728<code>Native</code>\u7AEF\u7684<code>WebView</code>\u8FDB\u884C\u76D1\u542C\uFF0C\u4E0B\u9762\u6211\u4EEC\u770B\u770B\u5177\u4F53\u5B9E\u73B0\uFF1A</p></blockquote><p><img src="`+s+`" alt=""></p><p>1. URL schema\u4ECB\u7ECD</p><blockquote><p><code>URL schema</code>\xA0\u662F\u7C7B<code>URL</code>\u7684\u8BF7\u6C42\u683C\u5F0F\uFF0C\u5982\uFF1A<code>&lt;protocol&gt;://&lt;domain&gt;/&lt;path&gt;?&lt;query&gt;</code></p></blockquote><p>\u63A5\u4E0B\u6765\u53EF\u4EE5\u81EA\u5B9A\u4E49\u901A\u4FE1\u7684<code>URL schema</code>\uFF0C\u5982\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>jsbridge://&lt;method&gt;?&lt;params&gt;
jsbridge://showToast?text=hello&amp;a=b

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2. \u53D1\u9001URL schema\u8BF7\u6C42</p><blockquote><p>\u8BF7\u6C42\u81EA\u5B9A\u4E49<code>URL Schema</code>\u65B9\u6CD5\uFF1A<code>jsbridge://showToast?text=</code></p></blockquote><p>\u5411Native\u7AEF\u53D1\u8D77\u8BF7\u6C42\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;script&gt;
    function showNativeDialog(text) {
        window.alert(&#39;jsbridge://showToast?text=&#39; + text);
    }
&lt;/script&gt;

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3. Native\u7AEF\u5B9E\u73B0\u76D1\u542C</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>   webView.setWebChromeClient(new WebChromeClient() {
        @Override
        public boolean onJsAlert(WebView view, String url, String message, JsResult result) {
            if (!message.startsWith(&quot;jsbridge://&quot;)) {
                return super.onJsAlert(view, url, message, result);
            }

            UrlSchema urlschema = new UrlSchema(message);
            if (&quot;showToast&quot;.equals(urlchema.getMethodName())) {
                String text = urlschema.getParams(&quot;text&quot;);
                Toast.makeText(mContext, text, Toast.LENGTH_LONG).show();
            }

            result.confirm();
            return true;
        }
    }

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-7-jsbridge\u5B9E\u73B0-web\u7AEF\u8C03\u7528native\u7AEF\u4EE3\u7801-\u6CE8\u5165api" tabindex="-1"><a class="header-anchor" href="#_6-7-jsbridge\u5B9E\u73B0-web\u7AEF\u8C03\u7528native\u7AEF\u4EE3\u7801-\u6CE8\u5165api" aria-hidden="true">#</a> 6.7 JSBridge\u5B9E\u73B0 ------ Web\u7AEF\u8C03\u7528Native\u7AEF\u4EE3\u7801\uFF08\u6CE8\u5165api)</h3><blockquote><p>\u6CE8\u5165API \u65B9\u5F0F\u7684\u662FNative\u7AEF\u901A\u8FC7 WebView \u63D0\u4F9B\u7684\u63A5\u53E3\uFF0C\u5411 JavaScript \u7684\xA0<code>Context\uFF08window\uFF09</code>\u4E2D\u6CE8\u5165\u5BF9\u8C61\u3002\u5728Web\u4E2D\u901A\u8FC7\u6CE8\u5165\u7684\u5BF9\u8C61\u8C03\u7528Native\u65B9\u6CD5</p></blockquote><p><img src="`+t+`" alt=""></p><p>1. \u5411WebView\u6CE8\u5165JS\u5BF9\u8C61</p><p>\u521B\u5EFA\u4E00\u4E2AJS\u5BF9\u8C61\uFF0C\u5E76\u5B9E\u73B0\u76D1\u542C\u7684\u65B9\u6CD5</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>class NativeBridge{
    private Context context;

    NativeBridge(Context context){
        this.context = context;
    }

    @JavascriptInterface
    public void showNativeDialog(String text){
        Toast.makeText(context,text,Toast.LENGTH_LONG).show();
    }
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Native\u7AEF\u901A\u8FC7WebView\u7684\u63A5\u53E3\u6CE8\u5165JS\u5BF9\u8C61</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>webView.addJavascriptInterface(new NativeBridge(mContext),&quot;NativeBridge&quot;);

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>2. \u901A\u8FC7\u6CE8\u5165\u7684JS\u5BF9\u8C61\u8C03\u7528Native\u4EE3\u7801</p><p>Web\u4E2D\u83B7\u53D6JS\u5BF9\u8C61\uFF0C\u8C03\u7528Native\u4EE3\u7801\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;script&gt;
    function showNativeDialog(text) {
        //window.alert(&#39;jsbridge://showToast?text=&#39; + text);
        window.NativeBridge.showNativeDialog(text);
    }
&lt;/script&gt;

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,106),o=[c];function r(v,u){return i(),d("div",null,o)}var m=e(a,[["render",r],["__file","\u79FB\u52A8\u591A\u7AEF\u5F00\u53D1.html.vue"]]);export{m as default};
